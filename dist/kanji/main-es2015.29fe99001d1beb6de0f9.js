(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("os0x"),s=n("q/0M"),a=n("zVF4"),l=n("S+S0"),u=n("x7I3"),c=i.SDK_VERSION,h=new s.Logger("@firebase/firestore");function d(){return h.logLevel===s.LogLevel.DEBUG?0:h.logLevel===s.LogLevel.SILENT?2:1}function f(t){switch(t){case 0:h.logLevel=s.LogLevel.DEBUG;break;case 1:h.logLevel=s.LogLevel.ERROR;break;case 2:h.logLevel=s.LogLevel.SILENT;break;default:h.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(h.logLevel<=s.LogLevel.DEBUG){var i=n.map(g);h.debug.apply(h,o.__spreadArrays(["Firestore ("+c+") ["+t+"]: "+e],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.ERROR){var r=e.map(g);h.error.apply(h,o.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function g(t){if("string"==typeof t)return t;var e=on.t();try{return e.i(t)}catch(e){return t}}function y(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function v(t,e){t||y(e)}var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function _(t,e){return t<e?-1:t>e?1:0}function w(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function E(t){return t+"\0"}var S=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},x=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return _(this.projectId,t.projectId)||_(this.database,t.database)},t}(),C=function(){function t(t){this.uid=t}return t.prototype.l=function(){return null!=this.uid},t.prototype.v=function(){return this.l()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.m=new t("google-credentials-uid"),t.p=new t("first-party-uid"),t}(),I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error),T=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},A=function(){function t(){this._=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.I=function(){},t.prototype.T=function(t){v(!this._,"Can only call setChangeListener() once."),this._=t,t(C.UNAUTHENTICATED)},t.prototype.D=function(){v(null!==this._,"removeChangeListener() when no listener registered"),this._=null},t}(),N=function(){function t(t){var e=this;this.S=null,this.currentUser=C.UNAUTHENTICATED,this.R=!1,this.C=0,this._=null,this.forceRefresh=!1,this.S=function(){e.C++,e.currentUser=e.A(),e.R=!0,e._&&e._(e.currentUser)},this.C=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.S):(this.S(null),t.get().then((function(t){e.auth=t,e.S&&e.auth.addAuthTokenListener(e.S)}),(function(){})))}return t.prototype.getToken=function(){var t=this;v(null!=this.S,"getToken cannot be called after listener removed.");var e=this.C,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.C!==e)throw new k(I.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new T(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.I=function(){this.forceRefresh=!0},t.prototype.T=function(t){v(!this._,"Can only call setChangeListener() once."),this._=t,this.R&&t(this.currentUser)},t.prototype.D=function(){v(null!=this.S,"removeChangeListener() called twice"),v(null!==this._,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.S),this.S=null,this._=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new C(t)},t}(),R=function(){function t(t,e){this.P=t,this.k=e,this.type="FirstParty",this.user=C.p}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.P.auth.N([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),O=function(){function t(t,e){this.P=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new R(this.P,this.k))},t.prototype.T=function(t){t(C.p)},t.prototype.D=function(){},t.prototype.I=function(){},t}();function D(t){if(!t)return new A;switch(t.type){case"gapi":var e=t.O;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new O(e,t.k||"0");case"provider":return t.O;default:throw new k(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return void 0!==t?t:e}function M(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function F(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function V(t,e){if(0!==e.length)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+rt(e.length,"argument")+".")}function j(t,e,n){if(e.length!==n)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires "+rt(n,"argument")+", but was called with "+rt(e.length,"argument")+".")}function B(t,e,n){if(e.length<n)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires at least "+rt(n,"argument")+", but was called with "+rt(e.length,"argument")+".")}function q(t,e,n,r){if(e.length<n||e.length>r)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+rt(e.length,"argument")+".")}function H(t,e,n,r){Q(t,e,nt(n)+" argument",r)}function z(t,e,n,r){void 0!==r&&H(t,e,n,r)}function G(t,e,n,r){Q(t,e,n+" option",r)}function W(t,e,n,r){void 0!==r&&G(t,e,n,r)}function $(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var l=a[s];if(l===r)return;o.push(X(l))}var u=X(r);throw new k(I.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function K(t,e,n,r){if(!e.some((function(t){return t===r})))throw new k(I.INVALID_ARGUMENT,"Invalid value "+X(r)+" provided to function "+t+"() for its "+nt(n)+" argument. Acceptable values: "+e.join(", "))}function Q(t,e,n,r){if(!("object"===e?Y(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=X(r);throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Y(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function X(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function Z(t,e,n){if(void 0===n)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+nt(e)+" argument, but it was undefined.")}function J(t,e,n){F(e,(function(e,r){if(n.indexOf(e)<0)throw new k(I.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function tt(t,e,n,r){var i=X(r);return new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+nt(n)+" argument to be a "+e+", but it was: "+i)}function et(t,e,n){if(n<=0)throw new k(I.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+nt(e)+" argument to be a positive number, but it was: "+n+".")}function nt(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function rt(t,e){return t+" "+e+(1===t?"":"s")}var it=function(){function t(t,e){if(j("GeoPoint",arguments,2),H("GeoPoint","number",1,t),H("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new k(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new k(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.F=t,this.V=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.F},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.V},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.F===t.F&&this.V===t.V},t.prototype.U=function(t){return _(this.F,t.F)||_(this.V,t.V)},t}(),ot=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?_(this.nanoseconds,t.nanoseconds):_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),st=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new ot(n,e%1e6*1e3))},t.L=function(e){return new t(e)},t.q=function(){return t.MIN},t.prototype.h=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.B=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t.MIN=new t(new ot(0,0)),t}(),at=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.G(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.W(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.K=function(t){return v(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.W(this.segments,this.offset+t,this.length-t)},t.prototype.H=function(){return v(!this.J(),"Can't call popLast() on empty path"),this.W(this.segments,this.offset,this.length-1)},t.prototype.Y=function(){return v(!this.J(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.X=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.J=function(){return 0===this.length},t.prototype.$=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.Z=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.tt=function(){return this.segments.slice(this.offset,this.limit())},t.G=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.prototype.nt=function(){return this.tt().join("/")},e.prototype.toString=function(){return this.nt()},e.it=function(t){if(t.indexOf("//")>=0)throw new k(I.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.et=new e([]),e}(at),ut=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.rt=function(t){return ut.test(t)},e.prototype.nt=function(){return this.tt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.rt(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.nt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.st=function(){return new e(["__name__"])},e.ot=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new k(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new k(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new k(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new k(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.et=new e([]),e}(at),ht=function(){function t(e){this.path=e,v(t.ht(e),"Invalid DocumentKey with an odd number of segments: "+e.tt().join("/"))}return t.prototype.ct=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===lt.G(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.G=function(t,e){return lt.G(t.path,e.path)},t.ht=function(t){return t.length%2==0},t.at=function(e){return new t(new lt(e.slice()))},t.ft=function(e){return new t(lt.it(e))},t.EMPTY=new t(new lt([])),t}(),dt=function(){function t(t,e){this.G=t,this.root=e||pt.EMPTY}return t.prototype.lt=function(e,n){return new t(this.G,this.root.lt(e,n,this.G).copy(null,null,pt.dt,null,null))},t.prototype.remove=function(e){return new t(this.G,this.root.remove(e,this.G).copy(null,null,pt.dt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.J();){var n=this.G(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.J();){var r=this.G(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.J=function(){return this.root.J()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.vt=function(){return this.root.vt()},t.prototype.wt=function(){return this.root.wt()},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.forEach=function(t){this.pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.bt=function(){return new ft(this.root,null,this.G,!1)},t.prototype.yt=function(t){return new ft(this.root,t,this.G,!1)},t.prototype._t=function(){return new ft(this.root,null,this.G,!0)},t.prototype.It=function(t){return new ft(this.root,t,this.G,!0)},t}(),ft=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.J();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.Dt=function(){v(this.Et.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.J();)this.Et.push(t),t=t.right;else for(t=t.right;!t.J();)this.Et.push(t),t=t.left;return e},t.prototype.St=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.J=function(){return!1},t.prototype.pt=function(t){return this.left.pt(t)||t(this.key,this.value)||this.right.pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.J()?this:this.left.min()},t.prototype.vt=function(){return this.min().key},t.prototype.wt=function(){return this.right.J()?this.key:this.right.wt()},t.prototype.lt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.lt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.lt(t,e,n))).Ct()},t.prototype.At=function(){if(this.left.J())return t.EMPTY;var e=this;return e.left.Pt()||e.left.left.Pt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.At(),null)).Ct()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.J()||i.left.Pt()||i.left.left.Pt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Pt()&&(i=i.Nt()),i.right.J()||i.right.Pt()||i.right.left.Pt()||(i=i.Ot()),0===n(e,i.key)){if(i.right.J())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.At())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ct()},t.prototype.Pt=function(){return this.color},t.prototype.Ct=function(){var t=this;return t.right.Pt()&&!t.left.Pt()&&(t=t.Ft()),t.left.Pt()&&t.left.left.Pt()&&(t=t.Nt()),t.left.Pt()&&t.right.Pt()&&(t=t.Vt()),t},t.prototype.kt=function(){var t=this.Vt();return t.right.left.Pt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Nt())).Ft()).Vt()),t},t.prototype.Ot=function(){var t=this.Vt();return t.left.left.Pt()&&(t=(t=t.Nt()).Vt()),t},t.prototype.Ft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Nt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Vt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.xt();return Math.pow(2,t)<=this.size+1},t.prototype.xt=function(){if(this.Pt()&&this.left.Pt())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.Pt())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.xt();if(t!==this.right.xt())throw y("Black depths differ");return t+(this.Pt()?0:1)},t.EMPTY=null,t.RED=!0,t.dt=!1,t}(),mt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.lt=function(t,e,n){return new pt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.J=function(){return!0},t.prototype.pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.vt=function(){return null},t.prototype.wt=function(){return null},t.prototype.Pt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.xt=function(){return 0},t}();pt.EMPTY=new mt;var gt=function(){function t(t){this.G=t,this.data=new dt(this.G)}return t.jt=function(e){var n=new t(e.G);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.vt()},t.prototype.last=function(){return this.data.wt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pt((function(e,n){return t(e),!1}))},t.prototype.Lt=function(t,e){for(var n=this.data.yt(t[0]);n.St();){var r=n.Dt();if(this.G(r.key,t[1])>=0)return;e(r.key)}},t.prototype.qt=function(t,e){var n;for(n=void 0!==e?this.data.yt(e):this.data.bt();n.St();)if(!t(n.Dt().key))return},t.prototype.Bt=function(t){var e=this.data.yt(t);return e.St()?e.Dt().key:null},t.prototype.bt=function(){return new yt(this.data.bt())},t.prototype.yt=function(t){return new yt(this.data.yt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).lt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.J=function(){return this.data.J()},t.prototype.Mt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.bt(),r=e.data.bt();n.St();){var i=n.Dt().key,o=r.Dt().key;if(0!==this.G(i,o))return!1}return!0},t.prototype.tt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.G);return n.data=e,n},t}(),yt=function(){function t(t){this.Qt=t}return t.prototype.Dt=function(){return this.Qt.Dt().key},t.prototype.St=function(){return this.Qt.St()},t}(),vt=function(){function t(){}return t.prototype.Gt=function(t,e){return new Ht(e,t)},t.prototype.Wt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),bt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Et(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Qt(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&w(e.elements,this.elements)},t}(),_t=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Et(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Qt(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&w(e.elements,this.elements)},t}(),wt=function(){function t(t){this.Kt=t}return t.prototype.Gt=function(t,e){var n=this.zt(t);if(n instanceof Vt&&this.Kt instanceof Vt){var r=n.Ht+this.Kt.Ht;return new Vt(r)}return new jt(r=n.Ht+this.Kt.Ht)},t.prototype.Wt=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.zt=function(t){return t instanceof Ft?t:new Vt(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Kt.isEqual(e.Kt)},t}();function Et(t){return t instanceof Qt?t.Ht.slice():[]}var St=function(){function t(t){this.fields=t}return t.Jt=function(e){return new t(e)},t.Yt=function(e){var n=new gt(ct.G);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Xt=function(t){var e=!1;return this.fields.forEach((function(n){n.$(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),xt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Ct=function(t,e){this.version=t,this.transformResults=e},It=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"$t",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Zt=function(t){return void 0!==this.updateTime?t instanceof Xt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Xt:(v(this.$t,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),kt=function(){function t(){}return t.prototype.tn=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.nn=function(t){return t instanceof Xt?t.version:st.MIN},t}(),Tt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.in=r,i.type=0,i}return o.__extends(e,t),e.prototype.Wt=function(t,e){return this.tn(t),v(null==e.transformResults,"Transform results received by SetMutation."),new Xt(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.Gt=function(t,e,n){if(this.tn(t),!this.in.Zt(t))return t;var r=kt.nn(t);return new Xt(this.key,r,{en:!0},this.value)},e.prototype.rn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.in.isEqual(t.in)},e}(kt),At=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.un=r,o.in=i,o.type=1,o}return o.__extends(e,t),e.prototype.Wt=function(t,e){if(this.tn(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.in.Zt(t))return new Jt(this.key,e.version);var n=this.sn(t);return new Xt(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Gt=function(t,e,n){if(this.tn(t),!this.in.Zt(t))return t;var r=kt.nn(t),i=this.sn(t);return new Xt(this.key,r,{en:!0},i)},e.prototype.rn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.un.isEqual(t.un)&&this.in.isEqual(t.in)},e.prototype.sn=function(t){var e;return e=t instanceof Xt?t.data():$t.EMPTY,this.on(e)},e.prototype.on=function(t){var e=this,n=t.hn();return this.un.fields.forEach((function(t){if(!t.J()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.cn()},e}(kt),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=2,r.in=It.exists(!0),r}return o.__extends(e,t),e.prototype.Wt=function(t,e){if(this.tn(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.in.Zt(t))return new Jt(this.key,e.version);var n=this.an(t),r=this.fn(t,e.transformResults),i=e.version,o=this.ln(n.data(),r);return new Xt(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.Gt=function(t,e,n){if(this.tn(t),!this.in.Zt(t))return t;var r=this.an(t),i=this.dn(n,t,e),o=this.ln(r.data(),i);return new Xt(this.key,r.version,{en:!0},o)},e.prototype.rn=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Xt?t.field(i.field):void 0,s=i.transform.zt(o||null);null!=s&&(e=null==e?$t.vn().set(i.field,s):e.set(i.field,s))}return e?e.cn():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&w(this.fieldTransforms,t.fieldTransforms)&&this.in.isEqual(t.in)},e.prototype.an=function(t){return v(t instanceof Xt,"Unknown MaybeDocument type "+t),v(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.fn=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof Xt&&(s=t.field(i.field)),n.push(o.Wt(s,e[r]))}return n},e.prototype.dn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,l=null;e instanceof Xt&&(l=e.field(s.field)),null===l&&n instanceof Xt&&(l=n.field(s.field)),r.push(a.Gt(l,t))}return r},e.prototype.ln=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.hn(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.cn()},e}(kt),Rt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.in=n,r.type=3,r}return o.__extends(e,t),e.prototype.Wt=function(t,e){return this.tn(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new Zt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Gt=function(t,e,n){return this.tn(t),this.in.Zt(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Zt(this.key,st.q())):t},e.prototype.rn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.in.isEqual(t.in)},e}(kt),Ot=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.in=n,r.type=4,r}return o.__extends(e,t),e.prototype.Wt=function(t,e){y("VerifyMutation should only be used in Transactions.")},e.prototype.Gt=function(t,e,n){y("VerifyMutation should only be used in Transactions.")},e.prototype.rn=function(t){y("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.in.isEqual(t.in)},e}(kt),Dt=function(){function t(t,e){this.wn=t,this.timestampsInSnapshots=e}return t.mn=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(1,n);case"previous":return new t(2,n);case"none":case void 0:return new t(0,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),Pt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.pn=function(t){return v(this.gn!==t.gn,"Default compareTo should not be used for values of same type."),_(this.gn,t.gn)},t}(),Lt=function(t){function e(){var e=t.call(this)||this;return e.gn=0,e.Ht=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.h=function(t){return t instanceof e?0:this.pn(t)},e.prototype.bn=function(){return 4},e.yn=new e,e}(Pt),Mt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=1,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?_(this.Ht,t.Ht):this.pn(t)},e.prototype.bn=function(){return 4},e.of=function(t){return t?e._n:e.In},e._n=new e(!0),e.In=new e(!1),e}(Pt),Ft=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=2,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.h=function(t){return t instanceof e?(n=this.Ht)<(r=t.Ht)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.pn(t);var n,r},e.prototype.bn=function(){return 8},e}(Pt);function Ut(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ut(this.Ht,t.Ht)},e}(Ft),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ut(this.Ht,t.Ht)},e.Tn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ft),Bt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=4,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?_(this.Ht,t.Ht):this.pn(t)},e.prototype.bn=function(){return 2*this.Ht.length},e}(Pt),qt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=3,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Ht:this.Ht.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):t instanceof Ht?-1:this.pn(t)},e.prototype.bn=function(){return 16},e}(Pt),Ht=function(t){function e(e,n){var r=t.call(this)||this;return r.En=e,r.previousValue=n,r.gn=3,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&1===t.wn?new qt(this.En).value(t):t&&2===t.wn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.En.isEqual(t.En)},e.prototype.h=function(t){return t instanceof e?this.En.U(t.En):t instanceof qt?1:this.pn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.En.toString()+">"},e.prototype.bn=function(){return 16+(this.previousValue?this.previousValue.bn():0)},e}(Pt),zt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=5,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.pn(t)},e.prototype.bn=function(){return this.Ht.Dn()},e}(Pt),Gt=function(t){function e(e,n){var r=t.call(this)||this;return r.s=e,r.key=n,r.gn=6,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.s.isEqual(t.s)},e.prototype.h=function(t){if(t instanceof e){var n=this.s.h(t.s);return 0!==n?n:ht.G(this.key,t.key)}return this.pn(t)},e.prototype.bn=function(){return this.s.projectId.length+this.s.database.length+this.key.toString().length},e}(Pt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=7,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.pn(t)},e.prototype.bn=function(){return 16},e}(Pt),$t=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=9,n}return o.__extends(e,t),e.vn=function(){return new Kt(e.EMPTY.Ht)},e.prototype.value=function(t){var e={};return this.Ht.pt((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.Ht.pt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.St()&&r.St();){var i=n.Dt(),o=r.Dt();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.St()&&!r.St()}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.St()&&r.St();){var i=n.Dt(),o=r.Dt(),s=_(i.key,o.key)||i.value.h(o.value);if(s)return s}return _(n.St(),r.St())}return this.pn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){v(!t.J(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.Ht.get(t):null})),n},e.prototype.un=function(){var t=new gt(ct.G);return this.Ht.forEach((function(n,r){var i=new ct([n]);if(r instanceof e){var o=r.un().fields;o.J()?t=t.add(i):o.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),St.Jt(t)},e.prototype.bn=function(){var t=0;return this.Ht.pt((function(e,n){t+=e.length+n.bn()})),t},e.prototype.toString=function(){return this.Ht.toString()},e.prototype.hn=function(){return new Kt(this.Ht)},e.EMPTY=new e(new dt(_)),e}(Pt),Kt=function(){function t(t){this.Ht=t}return t.prototype.set=function(t,e){v(!t.J(),"Cannot set field for empty path on ObjectValue");var n=t.Y();if(1===t.length)this.Ht=this.Ht.lt(n,e);else{var r=this.Ht.get(n),i=(r instanceof $t?r:$t.EMPTY).hn().set(t.K(),e).cn();this.Ht=this.Ht.lt(n,i)}return this},t.prototype.delete=function(t){v(!t.J(),"Cannot delete field for empty path on ObjectValue");var e=t.Y();if(1===t.length)this.Ht=this.Ht.remove(e);else{var n=this.Ht.get(e);if(n instanceof $t){var r=n.hn().delete(t.K()).cn();this.Ht=this.Ht.lt(t.Y(),r)}}return this},t.prototype.cn=function(){return new $t(this.Ht)},t}(),Qt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.gn=8,n}return o.__extends(e,t),e.prototype.value=function(t){return this.Ht.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Ht;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Ht.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Ht.length!==t.Ht.length)return!1;for(var n=0;n<this.Ht.length;n++)if(!this.Ht[n].isEqual(t.Ht[n]))return!1;return!0}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=Math.min(this.Ht.length,t.Ht.length),r=0;r<n;r++){var i=this.Ht[r].h(t.Ht[r]);if(i)return i}return _(this.Ht.length,t.Ht.length)}return this.pn(t)},e.prototype.bn=function(){return this.Ht.reduce((function(t,e){return t+e.bn()}),0)},e.prototype.toString=function(){return"["+this.Ht.map((function(t){return t.toString()})).join(",")+"]"},e}(Pt),Yt=function(){function t(t,e){this.key=t,this.version=e}return t.Sn=function(t,e){return ht.G(t.key,e.key)},t}(),Xt=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n)||this;return a.Rn=i,a.proto=o,a.converter=s,v(void 0!==a.Rn||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.en=!!r.en,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return o.__extends(e,t),e.prototype.field=function(t){if(this.Rn)return this.Rn.field(t);this.Cn||(this.Cn=new Map);var e=t.nt(),n=this.Cn.get(e);if(void 0===n){var r=this.An(t);n=void 0===r?null:this.converter(r),this.Cn.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.Rn){var e=$t.vn();F(this.proto.fields||{},(function(n,r){e.set(new ct([n]),t.converter(r))})),this.Rn=e.cn(),this.Cn=void 0}return this.Rn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.en===t.en&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.en+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.en||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.An=function(t){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.Y()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.Pn=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.h(i):y("Trying to compare documents on fields that don't exist")},e}(Yt),Zt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Yt),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Yt);function te(t){return null==t}function ee(t){return-0===t&&1/t==-1/0}function ne(t){return"number"==typeof t&&Number.isInteger(t)&&!ee(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var re=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.kn=null}return t.prototype.canonicalId=function(){if(null===this.kn){var t=this.path.nt();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";te(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.kn=t}return this.kn},t.prototype.toString=function(){var t=this.path.nt();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),te(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Nn=function(){return ht.ht(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),ie=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.On=n,this.filters=r,this.limit=i,this.Fn=o,this.startAt=s,this.endAt=a,this.Vn=null,this.Un=null,this.startAt&&this.xn(this.startAt),this.endAt&&this.xn(this.endAt)}return t.jn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Vn){var t=this.Ln(),e=this.qn();if(null!==t&&null===e)this.Vn=t.ut()?[me]:[new pe(t),me];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Vn=[];for(var n=!1,r=0,i=this.On;r<i.length;r++){var o=i[r];this.Vn.push(o),o.field.ut()&&(n=!0)}n||this.Vn.push((this.On.length>0?this.On[this.On.length-1].dir:de.ASCENDING)===de.ASCENDING?me:ge)}}return this.Vn},enumerable:!0,configurable:!0}),t.prototype.Bn=function(e){v(null==this.Ln()||!(e instanceof se)||!e.Mn()||e.field.isEqual(this.Ln()),"Query must only have one inequality field."),v(!this.Nn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.On.slice(),n,this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Qn=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.On.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Gn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Wn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.zn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,e,this.endAt)},t.prototype.Kn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,e)},t.prototype.Hn=function(e){return new t(e,null,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Jn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.On.length||1===this.On.length&&this.On[0].field.ut())},t.prototype.canonicalId=function(){return this.Yn().canonicalId()+"|lt:"+this.Fn},t.prototype.toString=function(){return"Query(target="+this.Yn().toString()+"; limitType="+this.Fn+")"},t.prototype.isEqual=function(t){return this.Yn().isEqual(t.Yn())&&this.Fn===t.Fn},t.prototype.Xn=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.ut()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.$n(t)&&this.Zn(t)&&this.ti(t)&&this.ni(t)},t.prototype.ii=function(){return!te(this.limit)&&"F"===this.Fn},t.prototype.ei=function(){return!te(this.limit)&&"L"===this.Fn},t.prototype.qn=function(){return this.On.length>0?this.On[0].field:null},t.prototype.Ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof se&&n.Mn())return n.field}return null},t.prototype.ri=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof se&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Nn=function(){return this.Yn().Nn()},t.prototype.ui=function(){return null!==this.collectionGroup},t.prototype.Yn=function(){if(!this.Un)if("F"===this.Fn)this.Un=new re(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new pe(r.field,r.dir===de.DESCENDING?de.ASCENDING:de.DESCENDING))}var i=this.endAt?new fe(this.endAt.position,!this.endAt.before):null,o=this.startAt?new fe(this.startAt.position,!this.startAt.before):null;this.Un=new re(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Un},t.prototype.$n=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.ct(this.collectionGroup)&&this.path.$(e):ht.ht(this.path)?this.path.isEqual(e):this.path.Z(e)},t.prototype.Zn=function(t){for(var e=0,n=this.On;e<n.length;e++){var r=n[e];if(!r.field.ut()&&null===t.field(r.field))return!1}return!0},t.prototype.ti=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.ni=function(t){return!(this.startAt&&!this.startAt.si(this.orderBy,t)||this.endAt&&this.endAt.si(this.orderBy,t))},t.prototype.xn=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),oe=function(){function t(t){this.name=t}return t.it=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),se=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.ut())return n===oe.IN?(v(r instanceof Qt,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.Ht.every((function(t){return t instanceof Gt})),"Comparing on key with IN, but an array value was not a RefValue"),new le(t,r)):(v(r instanceof Gt,"Comparing on key, but filter value not a RefValue"),v(n!==oe.ARRAY_CONTAINS&&n!==oe.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new ae(t,n,r));if(r.isEqual(Lt.yn)){if(n!==oe.EQUAL)throw new k(I.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(jt.Tn)){if(n!==oe.EQUAL)throw new k(I.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===oe.ARRAY_CONTAINS?new ue(t,r):n===oe.IN?(v(r instanceof Qt,"IN filter has invalid value: "+r.toString()),new ce(t,r)):n===oe.ARRAY_CONTAINS_ANY?(v(r instanceof Qt,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new he(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.gn===e.gn&&this.oi(e.h(this.value))},e.prototype.oi=function(t){switch(this.op){case oe.LESS_THAN:return t<0;case oe.LESS_THAN_OR_EQUAL:return t<=0;case oe.EQUAL:return 0===t;case oe.GREATER_THAN:return t>0;case oe.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.Mn=function(){return[oe.LESS_THAN,oe.LESS_THAN_OR_EQUAL,oe.GREATER_THAN,oe.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.nt()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.nt()+" "+this.op+" "+this.value.value()},e}((function(){})),ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ht.G(t.key,this.value.key);return this.oi(e)},e}(se),le=function(t){function e(e,n){var r=t.call(this,e,oe.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.Ht.some((function(e){return t.key.isEqual(e.key)}))},e}(se),ue=function(t){function e(e,n){return t.call(this,e,oe.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Qt&&e.contains(this.value)},e}(se),ce=function(t){function e(e,n){var r=t.call(this,e,oe.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(se),he=function(t){function e(e,n){var r=t.call(this,e,oe.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Qt&&n.Ht.some((function(t){return e.value.contains(t)}))},e}(se),de=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),fe=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.si=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.ut())v(o instanceof Gt,"Bound has a non-key value where the key path is being used."),n=ht.G(o.key,e.key);else{var s=e.field(i.field);v(null!==s,"Field should exist since document matched the orderBy already."),n=o.h(s)}if(i.dir===de.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),pe=function(){function t(t,e){this.field=t,void 0===e&&(e=de.ASCENDING),this.dir=e,this.hi=t.ut()}return t.prototype.compare=function(t,e){var n=this.hi?Xt.Sn(t,e):Xt.Pn(this.field,t,e);switch(this.dir){case de.ASCENDING:return n;case de.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.nt()+this.dir.toString()},t.prototype.toString=function(){return this.field.nt()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),me=new pe(ct.st(),de.ASCENDING),ge=new pe(ct.st(),de.DESCENDING),ye=function(){function t(t){this.ci=t}return t.fromBase64String=function(e){return new t(on.t().atob(e))},t.fromUint8Array=function(e){return new t(ve(e))},t.prototype.toBase64=function(){return on.t().btoa(this.ci)},t.prototype.toUint8Array=function(){return be(this.ci)},t.prototype.bn=function(){return 2*this.ci.length},t.prototype.isEqual=function(t){return this.ci===t.ci},t.ai=new t(""),t}();function ve(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function be(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var _e,we,Ee=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=st.MIN),void 0===o&&(o=st.MIN),void 0===s&&(s=ye.ai),this.target=t,this.targetId=e,this.fi=n,this.sequenceNumber=r,this.li=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.di=function(e){return new t(this.target,this.targetId,this.fi,e,this.li,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.vi=function(e,n){return new t(this.target,this.targetId,this.fi,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.wi=function(e){return new t(this.target,this.targetId,this.fi,this.sequenceNumber,this.li,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.fi===t.fi&&this.sequenceNumber===t.sequenceNumber&&this.li.isEqual(t.li)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Se=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function xe(t){switch(t){case I.OK:return y("Treated status OK as error");case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function Ce(t){if(void 0===t)return m("GRPC error has no .code"),I.UNKNOWN;switch(t){case _e.OK:return I.OK;case _e.CANCELLED:return I.CANCELLED;case _e.UNKNOWN:return I.UNKNOWN;case _e.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case _e.INTERNAL:return I.INTERNAL;case _e.UNAVAILABLE:return I.UNAVAILABLE;case _e.UNAUTHENTICATED:return I.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case _e.NOT_FOUND:return I.NOT_FOUND;case _e.ALREADY_EXISTS:return I.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return I.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case _e.ABORTED:return I.ABORTED;case _e.OUT_OF_RANGE:return I.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return I.UNIMPLEMENTED;case _e.DATA_LOSS:return I.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Ie(t){if(void 0===t)return _e.OK;switch(t){case I.OK:return _e.OK;case I.CANCELLED:return _e.CANCELLED;case I.UNKNOWN:return _e.UNKNOWN;case I.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case I.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case I.INTERNAL:return _e.INTERNAL;case I.UNAVAILABLE:return _e.UNAVAILABLE;case I.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case I.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case I.NOT_FOUND:return _e.NOT_FOUND;case I.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case I.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case I.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case I.ABORTED:return _e.ABORTED;case I.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case I.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case I.DATA_LOSS:return _e.DATA_LOSS;default:return y("Unknown status code: "+t)}}(we=_e||(_e={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var ke=new dt(ht.G);function Te(){return ke}function Ae(){return Te()}var Ne=new dt(ht.G);function Re(){return Ne}var Oe=new dt(ht.G);function De(){return Oe}var Pe=new gt(ht.G);function Le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Pe,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Me=new gt(_);function Fe(){return Me}var Ue=function(){function t(t){this.G=t?function(e,n){return t(e,n)||ht.G(e.key,n.key)}:function(t,e){return ht.G(t.key,e.key)},this.mi=Re(),this.pi=new dt(this.G)}return t.gi=function(e){return new t(e.G)},t.prototype.has=function(t){return null!=this.mi.get(t)},t.prototype.get=function(t){return this.mi.get(t)},t.prototype.first=function(){return this.pi.vt()},t.prototype.last=function(){return this.pi.wt()},t.prototype.J=function(){return this.pi.J()},t.prototype.indexOf=function(t){var e=this.mi.get(t);return e?this.pi.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pi.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.pi.pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.mi.lt(t.key,t),e.pi.lt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.mi.remove(t),this.pi.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pi.bt(),r=e.pi.bt();n.St();){var i=n.Dt().key,o=r.Dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.G=this.G,r.mi=e,r.pi=n,r},t}(),Ve=function(){function t(){this.bi=new dt(ht.G)}return t.prototype.track=function(t){var e=t.doc.key,n=this.bi.get(e);n?0!==t.type&&3===n.type?this.bi=this.bi.lt(e,t):3===t.type&&1!==n.type?this.bi=this.bi.lt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.bi=this.bi.lt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.bi=this.bi.lt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.bi=this.bi.remove(e):1===t.type&&2===n.type?this.bi=this.bi.lt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.bi=this.bi.lt(e,{type:2,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.bi=this.bi.lt(e,t)},t.prototype.yi=function(){var t=[];return this.bi.pt((function(e,n){t.push(n)})),t},t}(),je=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this._i=n,this.docChanges=r,this.Ii=i,this.fromCache=o,this.Ti=s,this.Ei=a}return t.Di=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ue.gi(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ii.J()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ti===t.Ti&&this.Ii.isEqual(t.Ii)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this._i.isEqual(t._i)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Be=function(){function t(t,e,n,r,i){this.li=t,this.Si=e,this.Ri=n,this.Ci=r,this.Ai=i}return t.Pi=function(e,n){var r,i=((r={})[e]=qe.ki(e,n),r);return new t(st.MIN,i,Fe(),Te(),Le())},t}(),qe=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ni=e,this.Oi=n,this.Fi=r,this.Vi=i}return t.ki=function(e,n){return new t(ye.ai,n,Le(),Le(),Le())},t}(),He=function(t,e,n,r){this.Ui=t,this.removedTargetIds=e,this.key=n,this.xi=r},ze=function(t,e){this.targetId=t,this.ji=e},Ge=function(t,e,n,r){void 0===n&&(n=ye.ai),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},We=function(){function t(){this.Li=0,this.qi=Qe(),this.Bi=ye.ai,this.Mi=!1,this.Qi=!0}return Object.defineProperty(t.prototype,"Ni",{get:function(){return this.Mi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Bi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Gi",{get:function(){return 0!==this.Li},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Wi",{get:function(){return this.Qi},enumerable:!0,configurable:!0}),t.prototype.zi=function(t){t.bn()>0&&(this.Qi=!0,this.Bi=t)},t.prototype.Ki=function(){var t=Le(),e=Le(),n=Le();return this.qi.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}})),new qe(this.Bi,this.Mi,t,e,n)},t.prototype.Hi=function(){this.Qi=!1,this.qi=Qe()},t.prototype.Ji=function(t,e){this.Qi=!0,this.qi=this.qi.lt(t,e)},t.prototype.Yi=function(t){this.Qi=!0,this.qi=this.qi.remove(t)},t.prototype.Xi=function(){this.Li+=1},t.prototype.$i=function(){this.Li-=1},t.prototype.Zi=function(){this.Qi=!0,this.Mi=!0},t}(),$e=function(){function t(t){this.te=t,this.ne={},this.ie=Te(),this.ee=Ke(),this.re=new gt(_)}return t.prototype.ue=function(t){for(var e=0,n=t.Ui;e<n.length;e++){var r=n[e];t.xi instanceof Xt?this.se(r,t.xi):t.xi instanceof Zt&&this.oe(r,t.key,t.xi)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.oe(r=o[i],t.key,t.xi)},t.prototype.he=function(t){var e=this;this.ce(t,(function(n){var r=e.ae(n);switch(t.state){case 0:e.fe(n)&&r.zi(t.resumeToken);break;case 1:r.$i(),r.Gi||r.Hi(),r.zi(t.resumeToken);break;case 2:r.$i(),r.Gi||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.fe(n)&&(r.Zi(),r.zi(t.resumeToken));break;case 4:e.fe(n)&&(e.le(n),r.zi(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}}))},t.prototype.ce=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):M(this.ne,e)},t.prototype.de=function(t){var e=t.targetId,n=t.ji.count,r=this.ve(e);if(r){var i=r.target;if(i.Nn())if(0===n){var o=new ht(i.path);this.oe(e,o,new Zt(o,st.q()))}else v(1===n,"Single document existence filter with count: "+n);else this.we(e)!==n&&(this.le(e),this.re=this.re.add(e))}},t.prototype.me=function(t){var e=this,n={};M(this.ne,(function(r,i){var o=e.ve(r);if(o){if(i.Ni&&o.target.Nn()){var s=new ht(o.target.path);null!==e.ie.get(s)||e.pe(r,s)||e.oe(r,s,new Zt(s,t))}i.Wi&&(n[r]=i.Ki(),i.Hi())}}));var r=Le();this.ee.forEach((function(t,n){var i=!0;n.qt((function(t){var n=e.ve(t);return!n||2===n.fi||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Be(t,n,this.re,this.ie,r);return this.ie=Te(),this.ee=Ke(),this.re=new gt(_),i},t.prototype.se=function(t,e){if(this.fe(t)){var n=this.pe(t,e.key)?2:0;this.ae(t).Ji(e.key,n),this.ie=this.ie.lt(e.key,e),this.ee=this.ee.lt(e.key,this.ge(e.key).add(t))}},t.prototype.oe=function(t,e,n){if(this.fe(t)){var r=this.ae(t);this.pe(t,e)?r.Ji(e,1):r.Yi(e),this.ee=this.ee.lt(e,this.ge(e).delete(t)),n&&(this.ie=this.ie.lt(e,n))}},t.prototype.removeTarget=function(t){delete this.ne[t]},t.prototype.we=function(t){var e=this.ae(t).Ki();return this.te.be(t).size+e.Oi.size-e.Vi.size},t.prototype.Xi=function(t){this.ae(t).Xi()},t.prototype.ae=function(t){return this.ne[t]||(this.ne[t]=new We),this.ne[t]},t.prototype.ge=function(t){var e=this.ee.get(t);return e||(e=new gt(_),this.ee=this.ee.lt(t,e)),e},t.prototype.fe=function(t){var e=null!==this.ve(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ve=function(t){var e=this.ne[t];return e&&e.Gi?null:this.te.ye(t)},t.prototype.le=function(t){var e=this;v(!this.ne[t].Gi,"Should only reset active targets"),this.ne[t]=new We,this.te.be(t).forEach((function(n){e.oe(t,n,null)}))},t.prototype.pe=function(t,e){return this.te.be(t).has(e)},t}();function Ke(){return new dt(ht.G)}function Qe(){return new dt(ht.G)}var Ye,Xe,Ze=((Ye={})[de.ASCENDING.name]="ASCENDING",Ye[de.DESCENDING.name]="DESCENDING",Ye),Je=((Xe={})[oe.LESS_THAN.name]="LESS_THAN",Xe[oe.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Xe[oe.GREATER_THAN.name]="GREATER_THAN",Xe[oe.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Xe[oe.EQUAL.name]="EQUAL",Xe[oe.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Xe[oe.IN.name]="IN",Xe[oe.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Xe),tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t,e){v(!te(t),e+" is missing")}function nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var rn=function(){function t(t,e){this.s=t,this.options=e}return t.prototype._e=function(t){var e=void 0===t.code?I.UNKNOWN:Ce(t.code);return new k(e,t.message||"")},t.prototype.Ie=function(t){return this.options.Te||te(t)?t:{value:t}},t.prototype.Ee=function(t){var e;return te(e="object"==typeof t?t.value:t)?null:e},t.prototype.M=function(t){return this.options.Te?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.De(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=nn(t.seconds||"0");return new ot(e,t.nanos||0)},t.prototype.De=function(t){var e=0,n=tn.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new ot(o,e)},t.prototype.Se=function(t){return this.options.Te?t.toBase64():t.toUint8Array()},t.prototype.Re=function(t){return this.options.Te?(v(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),ye.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),ye.fromUint8Array(t||new Uint8Array))},t.prototype.Ce=function(t){return"string"==typeof t?(v(this.options.Te,"Expected bytes to be passed in as Uint8Array, but got a string instead."),un.fromBase64String(t)):(v(!this.options.Te,"Expected bytes to be passed in as Uint8Array, but got a string instead."),un.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.M(t.M())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),st.L(this.L(t))},t.prototype.Ae=function(t,e){return this.Pe(t).child("documents").child(e).nt()},t.prototype.ke=function(t){var e=lt.it(t);return v(this.Ne(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.Oe=function(t){return this.Ae(this.s,t.path)},t.prototype.Fe=function(t){var e=this.ke(t);return v(e.get(1)===this.s.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.s.projectId),v(!e.get(3)&&!this.s.database||e.get(3)===this.s.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.s.database),new ht(this.Ve(e))},t.prototype.Ue=function(t){return this.Ae(this.s,t)},t.prototype.xe=function(t){var e=this.ke(t);return 4===e.length?lt.et:this.Ve(e)},Object.defineProperty(t.prototype,"je",{get:function(){return new lt(["projects",this.s.projectId,"databases",this.s.database]).nt()},enumerable:!0,configurable:!0}),t.prototype.Pe=function(t){return new lt(["projects",t.projectId,"databases",t.database])},t.prototype.Ve=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.K(5)},t.prototype.Ne=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.Le=function(t){if(t instanceof Lt)return{nullValue:"NULL_VALUE"};if(t instanceof Mt)return{booleanValue:t.value()};if(t instanceof Vt)return{integerValue:""+t.value()};if(t instanceof jt){var e=t.value();if(this.options.Te){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"};if(ee(e))return{doubleValue:"-0"}}return{doubleValue:t.value()}}return t instanceof Bt?{stringValue:t.value()}:t instanceof $t?{mapValue:this.qe(t)}:t instanceof Qt?{arrayValue:this.Be(t)}:t instanceof qt?{timestampValue:this.M(t.Ht)}:t instanceof Wt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof zt?{bytesValue:this.Se(t.value())}:t instanceof Gt?{referenceValue:this.Ae(t.s,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.Me=function(t){var e=this;if("nullValue"in t)return Lt.yn;if("booleanValue"in t)return Mt.of(t.booleanValue);if("integerValue"in t)return new Vt(nn(t.integerValue));if("doubleValue"in t){if(this.options.Te){if("NaN"===t.doubleValue)return jt.Tn;if("Infinity"===t.doubleValue)return jt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return jt.NEGATIVE_INFINITY;if("-0"===t.doubleValue)return new jt(-0)}return new jt(t.doubleValue)}if("stringValue"in t)return new Bt(t.stringValue);if("mapValue"in t)return this.Qe(t.mapValue.fields||{});if("arrayValue"in t)return en(t.arrayValue,"arrayValue"),new Qt((t.arrayValue.values||[]).map((function(t){return e.Me(t)})));if("timestampValue"in t)return en(t.timestampValue,"timestampValue"),new qt(this.L(t.timestampValue));if("geoPointValue"in t)return en(t.geoPointValue,"geoPointValue"),new Wt(new it(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){en(t.bytesValue,"bytesValue");var n=this.Ce(t.bytesValue);return new zt(n)}if("referenceValue"in t){en(t.referenceValue,"referenceValue");var r=this.ke(t.referenceValue),i=new x(r.get(1),r.get(3)),o=new ht(this.Ve(r));return new Gt(i,o)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.Ge=function(t,e){return{name:this.Oe(t),fields:this.We(e)}},t.prototype.ze=function(t){return v(!t.en,"Can't serialize documents with mutations."),{name:this.Oe(t.key),fields:this.We(t.data()),updateTime:this.M(t.version.M())}},t.prototype.Ke=function(t,e){var n=this,r=this.Fe(t.name),i=this.fromVersion(t.updateTime);return new Xt(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.Me(t)}))},t.prototype.We=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.Le(r)})),n},t.prototype.Qe=function(t){var e=this,n=t,r=$t.vn();return F(n,(function(t,n){r.set(new ct([t]),e.Me(n))})),r.cn()},t.prototype.qe=function(t){return{fields:this.We(t)}},t.prototype.Be=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.Le(t))})),{values:n}},t.prototype.He=function(t){var e=this;v(!!t.found,"Tried to deserialize a found document from a missing document."),en(t.found.name,"doc.found.name"),en(t.found.updateTime,"doc.found.updateTime");var n=this.Fe(t.found.name),r=this.fromVersion(t.found.updateTime);return new Xt(n,r,{},void 0,t.found,(function(t){return e.Me(t)}))},t.prototype.Je=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.Fe(t.missing),n=this.fromVersion(t.readTime);return new Zt(e,n)},t.prototype.Ye=function(t){return"found"in t?this.He(t):"missing"in t?this.Je(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.Xe=function(t){switch(t){case 1:return"ADD";case 3:return"CURRENT";case 0:return"NO_CHANGE";case 2:return"REMOVE";case 4:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.$e=function(t){if(t instanceof ze)return{filter:{count:t.ji.count,targetId:t.targetId}};if(t instanceof He){if(t.xi instanceof Xt){var e=t.xi;return{documentChange:{document:{name:this.Oe(e.key),fields:this.We(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.Ui,removedTargetIds:t.removedTargetIds}}}if(t.xi instanceof Zt)return{documentDelete:{document:this.Oe((e=t.xi).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.xi)return{documentRemove:{document:this.Oe(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ge){var n=void 0;return t.cause&&(n={code:Ie(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Xe(t.state),targetIds:t.targetIds,resumeToken:this.Se(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Ze=function(t){var e,n=this;if("targetChange"in t){en(t.targetChange,"targetChange");var r=this.tr(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=this.Re(t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&this._e(s);e=new Ge(r,i,o,a||null)}else if("documentChange"in t){en(t.documentChange,"documentChange");var l=t.documentChange;en(l.document,"documentChange.name"),en(l.document.name,"documentChange.document.name"),en(l.document.updateTime,"documentChange.document.updateTime");var u=this.Fe(l.document.name),c=this.fromVersion(l.document.updateTime),h=new Xt(u,c,{},void 0,l.document,(function(t){return n.Me(t)})),d=l.removedTargetIds||[];e=new He(l.targetIds||[],d,h.key,h)}else if("documentDelete"in t){en(t.documentDelete,"documentDelete");var f=t.documentDelete;en(f.document,"documentDelete.document"),u=this.Fe(f.document),c=f.readTime?this.fromVersion(f.readTime):st.q(),h=new Zt(u,c),e=new He([],d=f.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){en(t.documentRemove,"documentRemove");var p=t.documentRemove;en(p.document,"documentRemove"),u=this.Fe(p.document),e=new He([],d=p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));en(t.filter,"filter");var m=t.filter;en(m.targetId,"filter.targetId");var g=new Se(m.count||0);e=new ze(m.targetId,g)}return e},t.prototype.tr=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y("Got unexpected TargetChange.state: "+t)},t.prototype.nr=function(t){if(!("targetChange"in t))return st.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?st.MIN:e.readTime?this.fromVersion(e.readTime):st.MIN},t.prototype.ir=function(t){var e,n=this;if(t instanceof Tt)e={update:this.Ge(t.key,t.value)};else if(t instanceof Rt)e={delete:this.Oe(t.key)};else if(t instanceof At)e={update:this.Ge(t.key,t.data),updateMask:this.er(t.un)};else if(t instanceof Nt)e={transform:{document:this.Oe(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.rr(t)}))}};else{if(!(t instanceof Ot))return y("Unknown mutation type "+t.type);e={verify:this.Oe(t.key)}}return t.in.$t||(e.currentDocument=this.ur(t.in)),e},t.prototype.sr=function(t){var e=this,n=t.currentDocument?this.or(t.currentDocument):It.NONE;if(t.update){en(t.update.name,"name");var r=this.Fe(t.update.name),i=this.Qe(t.update.fields||{});if(t.updateMask){var o=this.hr(t.updateMask);return new At(r,i,o,n)}return new Tt(r,i,n)}if(t.delete)return r=this.Fe(t.delete),new Rt(r,n);if(t.transform){r=this.Fe(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.cr(t)}));return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new Nt(r,s)}return t.verify?(r=this.Fe(t.verify),new Ot(r,n)):y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.ur=function(t){return v(!t.$t,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.or=function(t){return void 0!==t.updateTime?It.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?It.exists(t.exists):It.NONE},t.prototype.ar=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(st.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.Me(t)}))),new Ct(r,i)},t.prototype.lr=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.ar(t,e)}))):[]},t.prototype.rr=function(t){var e=this,n=t.transform;if(n instanceof vt)return{fieldPath:t.field.nt(),setToServerValue:"REQUEST_TIME"};if(n instanceof bt)return{fieldPath:t.field.nt(),appendMissingElements:{values:n.elements.map((function(t){return e.Le(t)}))}};if(n instanceof _t)return{fieldPath:t.field.nt(),removeAllFromArray:{values:n.elements.map((function(t){return e.Le(t)}))}};if(n instanceof wt)return{fieldPath:t.field.nt(),increment:this.Le(n.Kt)};throw y("Unknown transform: "+t.transform)},t.prototype.cr=function(t){var e=this,n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=vt.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new bt(r.map((function(t){return e.Me(t)})))}else if("removeAllFromArray"in t)n=new _t((r=t.removeAllFromArray.values||[]).map((function(t){return e.Me(t)})));else if("increment"in t){var i=this.Me(t.increment);v(i instanceof Ft,"NUMERIC_ADD transform requires a NumberValue"),n=new wt(i)}else y("Unknown transform proto: "+JSON.stringify(t));var o=ct.ot(t.fieldPath);return new xt(o,n)},t.prototype.dr=function(t){return{documents:[this.Ue(t.path)]}},t.prototype.vr=function(t){var e=t.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),ie.jn(this.xe(t.documents[0])).Yn()},t.prototype.wr=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Ue(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Ue(n.H()),e.structuredQuery.from=[{collectionId:n.X()}]);var r=this.mr(t.filters);r&&(e.structuredQuery.where=r);var i=this.pr(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.Ie(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.gr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.gr(t.endAt)),e},t.prototype.br=function(t){var e=this.xe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.yr(n.where));var a=[];n.orderBy&&(a=this._r(n.orderBy));var l=null;n.limit&&(l=this.Ee(n.limit));var u=null;n.startAt&&(u=this.Ir(n.startAt));var c=null;return n.endAt&&(c=this.Ir(n.endAt)),new ie(e,i,a,s,l,"F",u,c).Yn()},t.prototype.Tr=function(t){var e=this.Er(t.fi);return null==e?null:{"goog-listen-tags":e}},t.prototype.Er=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.Yn=function(t){var e,n=t.target;return(e=n.Nn()?{documents:this.dr(n)}:{query:this.wr(n)}).targetId=t.targetId,t.resumeToken.bn()>0&&(e.resumeToken=this.Se(t.resumeToken)),e},t.prototype.mr=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof se?e.Dr(t):y("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.yr=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Sr(t)]:void 0!==t.fieldFilter?[this.Rr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.yr(t)})).reduce((function(t,e){return t.concat(e)})):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.pr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Cr(t)}))},t.prototype._r=function(t){var e=this;return t.map((function(t){return e.Ar(t)}))},t.prototype.gr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.Le(t)}))}},t.prototype.Ir=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.Me(t)}));return new fe(r,n)},t.prototype.Pr=function(t){return Ze[t.name]},t.prototype.kr=function(t){switch(t){case"ASCENDING":return de.ASCENDING;case"DESCENDING":return de.DESCENDING;default:return}},t.prototype.Nr=function(t){return Je[t.name]},t.prototype.Or=function(t){switch(t){case"EQUAL":return oe.EQUAL;case"GREATER_THAN":return oe.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return oe.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return oe.LESS_THAN;case"LESS_THAN_OR_EQUAL":return oe.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return oe.ARRAY_CONTAINS;case"IN":return oe.IN;case"ARRAY_CONTAINS_ANY":return oe.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.Fr=function(t){return{fieldPath:t.nt()}},t.prototype.Vr=function(t){return ct.ot(t.fieldPath)},t.prototype.Cr=function(t){return{field:this.Fr(t.field),direction:this.Pr(t.dir)}},t.prototype.Ar=function(t){return new pe(this.Vr(t.field),this.kr(t.direction))},t.prototype.Rr=function(t){return se.create(this.Vr(t.fieldFilter.field),this.Or(t.fieldFilter.op),this.Me(t.fieldFilter.value))},t.prototype.Dr=function(t){if(t.op===oe.EQUAL){if(t.value.isEqual(jt.Tn))return{unaryFilter:{field:this.Fr(t.field),op:"IS_NAN"}};if(t.value.isEqual(Lt.yn))return{unaryFilter:{field:this.Fr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.Fr(t.field),op:this.Nr(t.op),value:this.Le(t.value)}}},t.prototype.Sr=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.Vr(t.unaryFilter.field);return se.create(e,oe.EQUAL,jt.Tn);case"IS_NULL":var n=this.Vr(t.unaryFilter.field);return se.create(n,oe.EQUAL,Lt.yn);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.er=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.nt())})),{fieldPaths:e}},t.prototype.hr=function(t){var e=(t.fieldPaths||[]).map((function(t){return ct.ot(t)}));return St.Yt(e)},t}(),on=function(){function t(){}return t.Ur=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.t=function(){return t.platform||y("Platform not set"),t.platform},t}();function sn(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new k(I.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function an(){if("undefined"==typeof Uint8Array)throw new k(I.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ln(){if(!on.t().xr)throw new k(I.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var un=function(){function t(t){ln(),this.ci=t}return t.fromBase64String=function(e){j("Blob.fromBase64String",arguments,1),H("Blob.fromBase64String","string",1,e),ln();try{var n=on.t().atob(e);return new t(n)}catch(t){throw new k(I.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(j("Blob.fromUint8Array",arguments,1),an(),!(e instanceof Uint8Array))throw tt("Blob.fromUint8Array","Uint8Array",1,e);var n=ve(e);return new t(n)},t.prototype.toBase64=function(){return j("Blob.toBase64",arguments,0),ln(),on.t().btoa(this.ci)},t.prototype.toUint8Array=function(){j("Blob.toUint8Array",arguments,0),an();var t=be(this.ci);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ci===t.ci},t.prototype.Dn=function(){return 2*this.ci.length},t.prototype.U=function(t){return _(this.ci,t.ci)},t}(),cn=sn(un,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),hn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.jr=function(t){return n.Lr(t)},this.qr=function(t){return e.Br(t)})}return t.prototype.Lr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.qr&&this.qr(t),t},t.Mr=-1,t}(),dn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},fn=function(){function t(t,e,n,r,i){this.Qr=t,this.Gr=e,this.Wr=n,this.op=r,this.zr=i,this.Kr=new dn,this.then=this.Kr.promise.then.bind(this.Kr.promise),this.catch=this.Kr.promise.catch.bind(this.Kr.promise),this.Kr.promise.catch((function(t){}))}return t.Hr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Jr=setTimeout((function(){return e.Yr()}),t)},t.prototype.Xr=function(){return this.Yr()},t.prototype.cancel=function(t){null!==this.Jr&&(this.clearTimeout(),this.Kr.reject(new k(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Yr=function(){var t=this;this.Qr.$r((function(){return null!==t.Jr?(t.clearTimeout(),t.op().then((function(e){return t.Kr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Jr&&(this.zr(this),clearTimeout(this.Jr),this.Jr=null)},t}(),pn=function(){function t(){this.Zr=Promise.resolve(),this.tu=!1,this.nu=[],this.iu=null,this.eu=!1,this.ru=[]}return Object.defineProperty(t.prototype,"uu",{get:function(){return this.tu},enumerable:!0,configurable:!0}),t.prototype.$r=function(t){this.enqueue(t)},t.prototype.su=function(t){this.ou(),this.hu(t)},t.prototype.cu=function(t){return this.ou(),this.hu(t)},t.prototype.au=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.ou(),this.tu?[3,2]:(this.tu=!0,[4,this.cu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.ou(),this.tu?new Promise((function(t){})):this.hu(t)},t.prototype.hu=function(t){var e=this,n=this.Zr.then((function(){return e.eu=!0,t().catch((function(t){e.iu=t,e.eu=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.eu=!1,t}))}));return this.Zr=n,n},t.prototype.fu=function(t,e,n){var r=this;this.ou(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.ru.indexOf(t)>-1&&(e=0);var i=fn.Hr(this,t,e,n,(function(t){return r.lu(t)}));return this.nu.push(i),i},t.prototype.ou=function(){this.iu&&y("AsyncQueue is already failed: "+(this.iu.stack||this.iu.message))},t.prototype.du=function(){v(this.eu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.vu=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Zr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Zr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.wu=function(t){for(var e=0,n=this.nu;e<n.length;e++)if(n[e].Gr===t)return!0;return!1},t.prototype.mu=function(t){var e=this;return this.vu().then((function(){v("all"===t||e.wu(t),"Attempted to drain to missing operation "+t),e.nu.sort((function(t,e){return t.Wr-e.Wr}));for(var n=0,r=e.nu;n<r.length;n++){var i=r[n];if(i.Xr(),"all"!==t&&i.Gr===t)break}return e.vu()}))},t.prototype.pu=function(t){this.ru.push(t)},t.prototype.lu=function(t){var e=this.nu.indexOf(t);v(e>=0,"Delayed operation not found."),this.nu.splice(e,1)},t}();function mn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=yn(e)),e=gn(t.get(n),e);return yn(e)}function gn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function yn(t){return t+"\x01\x01"}function vn(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),lt.et;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=s+2}return new lt(r)}var bn=function(){function t(t,e,n,r){this.batchId=t,this.En=e,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Wt=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.gu;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Wt(e,r[i]))}return e},t.prototype.Gt=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.Gt(e,e,this.En));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.Gt(e,i,this.En))}return e},t.prototype.bu=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Gt(r.key,t.get(r.key));i&&(n=n.lt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Le())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&w(this.mutations,t.mutations)&&w(this.baseMutations,t.baseMutations)},t}(),_n=function(){function t(t,e,n,r,i){this.batch=t,this.yu=e,this.gu=n,this.streamToken=r,this._u=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=De(),s=e.mutations,a=0;a<s.length;a++)o=o.lt(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),wn=function(){function t(){this.Iu=new gt(En.Sn),this.Tu=new gt(En.Eu)}return t.prototype.J=function(){return this.Iu.J()},t.prototype.Du=function(t,e){var n=new En(t,e);this.Iu=this.Iu.add(n),this.Tu=this.Tu.add(n)},t.prototype.Su=function(t,e){var n=this;t.forEach((function(t){return n.Du(t,e)}))},t.prototype.Ru=function(t,e){this.Cu(new En(t,e))},t.prototype.Au=function(t,e){var n=this;t.forEach((function(t){return n.Ru(t,e)}))},t.prototype.Pu=function(t){var e=this,n=ht.EMPTY,r=new En(n,t),i=new En(n,t+1),o=[];return this.Tu.Lt([r,i],(function(t){e.Cu(t),o.push(t.key)})),o},t.prototype.ku=function(){var t=this;this.Iu.forEach((function(e){return t.Cu(e)}))},t.prototype.Cu=function(t){this.Iu=this.Iu.delete(t),this.Tu=this.Tu.delete(t)},t.prototype.Nu=function(t){var e=ht.EMPTY,n=new En(e,t),r=new En(e,t+1),i=Le();return this.Tu.Lt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ou=function(t){var e=new En(t,0),n=this.Iu.Bt(e);return null!==n&&t.isEqual(n.key)},t}(),En=function(){function t(t,e){this.key=t,this.Fu=e}return t.Sn=function(t,e){return ht.G(t.key,e.key)||_(t.Fu,e.Fu)},t.Eu=function(t,e){return _(t.Fu,e.Fu)||ht.G(t.key,e.key)},t}(),Sn=function(){function t(t){this.Vu=t,this.Uu={}}return t.prototype.get=function(t){var e=this.Vu(t),n=this.Uu[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Vu(t),r=this.Uu[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Uu[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Vu(t),n=this.Uu[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Uu[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){F(this.Uu,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.J=function(){return U(this.Uu)},t}(),xn=function(){function t(t){var e=this;this.xu=null,this.ju=null,this.result=void 0,this.error=void 0,this.Lu=!1,this.qu=!1,t((function(t){e.Lu=!0,e.result=t,e.xu&&e.xu(t)}),(function(t){e.Lu=!0,e.error=t,e.ju&&e.ju(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.qu&&y("Called next() or catch() twice for PersistencePromise"),this.qu=!0,this.Lu?this.error?this.Bu(n,this.error):this.Mu(e,this.result):new t((function(t,i){r.xu=function(n){r.Mu(e,n).next(t,i)},r.ju=function(e){r.Bu(n,e).next(t,i)}}))},t.prototype.Qu=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Gu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Mu=function(e,n){return e?this.Gu((function(){return e(n)})):t.resolve(n)},t.prototype.Bu=function(e,n){return e?this.Gu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Wu=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.zu=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Wu(r)},t}(),Cn=function(){function t(){this.Ku=new Sn((function(t){return t.toString()})),this.Hu=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return v(void 0!==this.Ju,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Ju},set:function(t){v(void 0===this.Ju||this.Ju.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Ju=t},enumerable:!0,configurable:!0}),t.prototype.Yu=function(t,e){this.Xu(),this.readTime=e,this.Ku.set(t.key,t)},t.prototype.$u=function(t,e){this.Xu(),e&&(this.readTime=e),this.Ku.set(t,null)},t.prototype.Zu=function(t,e){this.Xu();var n=this.Ku.get(e);return void 0!==n?xn.resolve(n):this.ts(t,e)},t.prototype.getEntries=function(t,e){return this.ns(t,e)},t.prototype.apply=function(t){return this.Xu(),this.Hu=!0,this.es(t)},t.prototype.Xu=function(){v(!this.Hu,"Changes have already been applied.")},t}(),In="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kn=function(){function t(){this.rs=[]}return t.prototype.us=function(t){this.rs.push(t)},t.prototype.ss=function(){this.rs.forEach((function(t){return t()}))},t}(),Tn=function(){function t(e){this.db=e,12.2===t.os(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.hs=function(e,n,r){return v(t.cs(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new xn((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new k(I.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new k(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,cr).next((function(){p("SimpleDb","Database upgrade to version "+cr+" complete")}))}})).Qu()},t.delete=function(t){return p("SimpleDb","Removing database:",t),On(window.indexedDB.deleteDatabase(t)).Qu()},t.cs=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.as())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.os(e),r=0<n&&n<10,i=t.fs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.as=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.ls)},t.ds=function(t,e){return t.store(e)},t.os=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.fs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.vs=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,l,u;return o.__generator(this,(function(c){switch(c.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),s=0,a=function(){var t,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:++s,t=Nn.open(l.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),xn.reject(e)})).Qu()).catch((function(){})),[4,t.ws];case 2:return o.sent(),[2,{value:a}];case 3:return p("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(u=o.sent()).message,c=i&&"FirebaseError"!==u.name&&s<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},l=this,c.label=1;case 1:return[5,a()];case 2:return"object"==typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),An=function(){function t(t){this.ms=t,this.ps=!1,this.gs=null}return Object.defineProperty(t.prototype,"Lu",{get:function(){return this.ps},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ms=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.ys=function(t){this.gs=t},t.prototype.delete=function(){return On(this.ms.delete())},t}(),Nn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this._s=new dn,this.transaction.oncomplete=function(){e._s.resolve()},this.transaction.onabort=function(){t.error?e._s.reject(t.error):e._s.resolve()},this.transaction.onerror=function(t){var n=Pn(t.target.error);e._s.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"ws",{get:function(){return this._s.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new Rn(e)},t}(),Rn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),On(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),On(this.store.add(t))},t.prototype.get=function(t){var e=this;return On(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),On(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),On(this.store.count())},t.prototype.Is=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Es=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ds=!1;var r=this.cursor(n);return this.Ts(r,(function(t,e,n){return n.delete()}))},t.prototype.Ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ts(r,e)},t.prototype.Rs=function(t){var e=this.cursor({});return new xn((function(n,r){e.onerror=function(t){var e=Pn(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ts=function(t,e){var n=[];return new xn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new An(i),s=e(i.primaryKey,i.value,o);if(s instanceof xn){var a=s.catch((function(t){return o.done(),xn.reject(t)}));n.push(a)}o.Lu?r():null===o.bs?i.continue():i.continue(o.bs)}else r()}})).next((function(){return xn.Wu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ds?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function On(t){return new xn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pn(t.target.error);n(e)}}))}var Dn=!1;function Pn(t){var e=Tn.os(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new k("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dn||(Dn=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ln=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Cs=n,this.As=r,this.Ps={}}return t.ks=function(e,n,r,i){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.l()?e.uid:"",n,r,i)},t.prototype.Ns=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Un(t).Ss({index:mr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Os=function(t,e,n){return this.Fs(t).next((function(e){return e.lastStreamToken=n.toBase64(),jn(t).put(e)}))},t.prototype.Vs=function(t){return this.Fs(t).next((function(t){return ye.fromBase64String(t.lastStreamToken)}))},t.prototype.Us=function(t,e){return this.Fs(t).next((function(n){return n.lastStreamToken=e.toBase64(),jn(t).put(n)}))},t.prototype.xs=function(t,e,n,r){var i=this,o=Vn(t),s=Un(t);return s.add({}).next((function(a){v("number"==typeof a,"Auto-generated key is not a number");for(var l=new bn(a,e,n,r),u=i.serializer.js(i.userId,l),c=[],h=new gt((function(t,e){return _(t.nt(),e.nt())})),d=0,f=r;d<f.length;d++){var p=f[d],m=gr.key(i.userId,p.key.path,a);h=h.add(p.key.path.H()),c.push(s.put(u)),c.push(o.put(m,gr.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Cs.Ls(t,e))})),t.us((function(){i.Ps[a]=l.keys()})),xn.Wu(c).next((function(){return l}))}))},t.prototype.qs=function(t,e){var n=this;return Un(t).get(e).next((function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.Bs(t)):null}))},t.prototype.Ms=function(t,e){var n=this;return this.Ps[e]?xn.resolve(this.Ps[e]):this.qs(t,e).next((function(t){if(t){var r=t.keys();return n.Ps[e]=r,r}return null}))},t.prototype.Qs=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Un(t).Ss({index:mr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.Bs(e)),i.done()})).next((function(){return o}))},t.prototype.Gs=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Un(t).Ss({index:mr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Ws=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Un(t).Is(mr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Bs(t)}))}))},t.prototype.zs=function(t,e){var n=this,r=gr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Vn(t).Ss({range:i},(function(r,i,s){var a=r[0],l=r[2],u=vn(r[1]);if(a===n.userId&&e.path.isEqual(u))return Un(t).get(l).next((function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+l);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.Bs(t))}));s.done()})).next((function(){return o}))},t.prototype.Ks=function(t,e){var n=this,r=new gt(_),i=[];return e.forEach((function(e){var o=gr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Vn(t).Ss({range:s},(function(t,i,o){var s=t[0],a=t[2],l=vn(t[1]);s===n.userId&&e.path.isEqual(l)?r=r.add(a):o.done()}));i.push(a)})),xn.Wu(i).next((function(){return n.Hs(t,r)}))},t.prototype.Js=function(t,e){var n=this;v(!e.Nn(),"Document queries shouldn't go down this path"),v(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=gr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new gt(_);return Vn(t).Ss({range:s},(function(t,e,o){var s=t[0],l=t[2],u=vn(t[1]);s===n.userId&&r.$(u)?u.length===i&&(a=a.add(l)):o.done()})).next((function(){return n.Hs(t,a)}))},t.prototype.Hs=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Un(t).get(e).next((function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.Bs(t))})))})),xn.Wu(i).next((function(){return r}))},t.prototype.Ys=function(t,e){var n=this;return Fn(t.Xs,this.userId,e).next((function(r){return t.us((function(){n.$s(e.batchId)})),xn.forEach(r,(function(e){return n.As.Zs(t,e)}))}))},t.prototype.$s=function(t){delete this.Ps[t]},t.prototype.to=function(t){var e=this;return this.Ns(t).next((function(n){if(!n)return xn.resolve();var r=IDBKeyRange.lowerBound(gr.prefixForUser(e.userId)),i=[];return Vn(t).Ss({range:r},(function(t,n,r){if(t[0]===e.userId){var o=vn(t[1]);i.push(o)}else r.done()})).next((function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.nt()})))}))}))},t.prototype.Ou=function(t,e){return Mn(t,this.userId,e)},t.prototype.Fs=function(t){var e=this;return jn(t).get(this.userId).next((function(t){return t||new pr(e.userId,-1,"")}))},t}();function Mn(t,e,n){var r=gr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Vn(t).Ss({range:o,Ds:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Fn(t,e,n){var r=t.store(mr.store),i=t.store(gr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=r.Ss({range:s},(function(t,e,n){return a++,n.delete()}));o.push(l.next((function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=gr.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return xn.Wu(o).next((function(){return u}))}function Un(t){return Lr.ds(t,mr.store)}function Vn(t){return Lr.ds(t,gr.store)}function jn(t){return Lr.ds(t,pr.store)}var Bn=function(){function t(t,e){this.no=t,v((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.io(void 0!==e?e:this.no)}return t.prototype.next=function(){var t=this.eo;return this.eo+=2,t},t.prototype.after=function(t){return this.io(t+2),this.next()},t.prototype.io=function(t){v((1&t)===this.no,"Cannot supply target ID from different generator ID"),this.eo=t},t.ro=function(){return new t(0,2)},t.uo=function(){return new t(1)},t}(),qn=function(){function t(t,e,n){this.so=t,this.oo=e,this.Cs=n}return t.prototype.ho=function(t,e){var n=this;return this.oo.zs(t,e).next((function(r){return n.co(t,e,r)}))},t.prototype.co=function(t,e,n){return this.so.Zu(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Gt(e,t);return t}))},t.prototype.ao=function(t,e,n){var r=Ae();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Gt(t,e);r=r.lt(t,e)})),r},t.prototype.fo=function(t,e){var n=this;return this.so.getEntries(t,e).next((function(e){return n.lo(t,e)}))},t.prototype.lo=function(t,e){var n=this;return this.oo.Ks(t,e).next((function(r){var i=n.ao(t,e,r),o=Te();return i.forEach((function(t,e){e||(e=new Zt(t,st.q())),o=o.lt(t,e)})),o}))},t.prototype.do=function(t,e,n){return e.Nn()?this.vo(t,e.path):e.ui()?this.wo(t,e,n):this.mo(t,e,n)},t.prototype.vo=function(t,e){return this.ho(t,new ht(e)).next((function(t){var e=Re();return t instanceof Xt&&(e=e.lt(t.key,t)),e}))},t.prototype.wo=function(t,e,n){var r=this;v(e.path.J(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Re();return this.Cs.po(t,i).next((function(s){return xn.forEach(s,(function(s){var a=e.Hn(s.child(i));return r.mo(t,a,n).next((function(t){t.forEach((function(t,e){o=o.lt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.mo=function(t,e,n){var r,i,o=this;return this.so.do(t,e,n).next((function(n){return r=n,o.oo.Js(t,e)})).next((function(e){return o.bo(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var l=a[s],u=l.key,c=r.get(u),h=l.Gt(c,c,o.En);r=h instanceof Xt?r.lt(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.bo=function(t,e,n){for(var r=Le(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var l=a[s];l instanceof At&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.so.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Xt&&(u=u.lt(t,e))})),u}))},t}(),Hn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.yo=n,this._o=r}return t.Io=function(e,n){for(var r=Le(),i=Le(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zn=function(){function t(t,e,n){this.persistence=t,this.To=e,this.Eo=new wn,this.Do=new dt(_),this.So=new Sn((function(t){return t.canonicalId()})),this.Ro=st.MIN,v(t.Co,"LocalStore was passed an unstarted persistence implementation"),this.persistence.As.Ao(this.Eo),this.oo=t.Po(n),this.ko=t.No(),this.Oo=t.Fo(),this.Vo=new qn(this.ko,this.oo,this.persistence.Uo()),this.To.xo(this.Vo)}return t.prototype.start=function(){return this.jo()},t.prototype.Lo=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.oo,n=this.Vo,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.oo.Ws(r).next((function(s){return o=s,e=i.persistence.Po(t),n=new qn(i.ko,e,i.persistence.Uo()),e.Ws(r)})).next((function(t){for(var e=[],i=[],s=Le(),a=0,l=o;a<l.length;a++){var u=l[a];e.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++){var d=h[c];s=s.add(d.key)}}for(var f=0,p=t;f<p.length;f++){i.push((u=p[f]).batchId);for(var m=0,g=u.mutations;m<g.length;m++)s=s.add((d=g[m]).key)}return n.fo(r,s).next((function(t){return{qo:t,Bo:e,Mo:i}}))}))}))];case 1:return r=o.sent(),this.oo=e,this.Vo=n,this.To.xo(this.Vo),[2,r]}}))}))},t.prototype.Qo=function(t){var e,n=this,r=ot.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Le());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.Vo.fo(o,i).next((function(i){e=i;for(var s=[],a=0,l=t;a<l.length;a++){var u=l[a],c=u.rn(e.get(u.key));null!=c&&s.push(new At(u.key,c,c.un(),It.exists(!0)))}return n.oo.xs(o,r,s,t)}))})).then((function(t){var n=t.bu(e);return{batchId:t.batchId,Ku:n}}))},t.prototype.Go=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.oo.Ms(n,t).next((function(t){return t?e.Vo.fo(n,t):xn.resolve(null)}))}))},t.prototype.Os=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.ko.Wo({zo:!0});return e.oo.Os(n,t.batch,t.streamToken).next((function(){return e.Ko(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.oo.to(n)})).next((function(){return e.Vo.fo(n,r)}))}))},t.prototype.Ho=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.oo.qs(n,t).next((function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.oo.Ys(n,t)})).next((function(){return e.oo.to(n)})).next((function(){return e.Vo.fo(n,r)}))}))},t.prototype.Gs=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.oo.Gs(e)}))},t.prototype.Vs=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.oo.Vs(e)}))},t.prototype.Us=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.oo.Us(n,t)}))},t.prototype.Jo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t.Oo.Jo(e)}))},t.prototype.Yo=function(e){var n=this,r=e.li,i=this.Do;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var s=n.ko.Wo({zo:!0});i=n.Do;var a=[];M(e.Si,(function(e,s){var l=i.get(e);if(l){a.push(n.Oo.Xo(o,s.Vi,e).next((function(){return n.Oo.$o(o,s.Oi,e)})));var u=s.resumeToken;if(u.bn()>0){var c=l.vi(u,r).di(o.Zo);i=i.lt(e,c),t.th(l,c,s)&&a.push(n.Oo.nh(o,c))}}}));var l=Te(),u=Le();if(e.Ci.forEach((function(t,e){u=u.add(t)})),a.push(s.getEntries(o,u).next((function(t){e.Ci.forEach((function(i,u){var c=t.get(i);u instanceof Zt&&u.version.isEqual(st.MIN)?(s.$u(i,r),l=l.lt(i,u)):null==c||u.version.h(c.version)>0||0===u.version.h(c.version)&&c.hasPendingWrites?(v(!st.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.Yu(u,r),l=l.lt(i,u)):p("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",u.version),e.Ai.has(i)&&a.push(n.persistence.As.ih(o,i))}))}))),!r.isEqual(st.MIN)){var c=n.Oo.Jo(o).next((function(t){return v(r.h(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.Oo.eh(o,o.Zo,r)}));a.push(c)}return xn.Wu(a).next((function(){return s.apply(o)})).next((function(){return n.Vo.lo(o,l)}))})).then((function(t){return n.Do=i,t}))},t.th=function(t,e,n){return v(e.resumeToken.bn()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.bn()||e.li.B()-t.li.B()>=this.rh||n.Oi.size+n.Fi.size+n.Vi.size>0},t.prototype.uh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Eo.Su(i.yo,o),this.Eo.Au(i._o,o),!i.fromCache){var s=this.Do.get(o);v(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var a=s.wi(s.li);this.Do=this.Do.lt(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return xn.forEach(t,(function(t){return xn.forEach(t._o,(function(t){return e.persistence.As.Ru(n,t)}))}))}))},t.prototype.sh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.oo.Qs(n,t)}))},t.prototype.oh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.Vo.ho(n,t)}))},t.prototype.hh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return e.Oo.ah(n,t).next((function(i){return i?xn.resolve(r=i):e.Oo.fh(n).next((function(i){return r=new Ee(t,i,0,n.Zo),e.Oo.lh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Do.get(n.targetId)&&(e.Do=e.Do.lt(n.targetId,n),e.So.set(t,n.targetId)),n}))},t.prototype.ah=function(t,e){var n=this.So.get(e);return void 0!==n?xn.resolve(this.Do.get(n)):this.Oo.ah(t,e)},t.prototype.dh=function(t,e){var n=this,r=this.Do.get(t);return v(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(i){var o=n.Eo.Pu(t);return e?xn.resolve():xn.forEach(o,(function(t){return n.persistence.As.Ru(i,t)})).next((function(){n.persistence.As.removeTarget(i,r)}))})).then((function(){n.Do=n.Do.remove(t),n.So.delete(r.target)}))},t.prototype.vh=function(t,e){var n=this,r=st.MIN,i=Le();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.ah(o,t.Yn()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Oo.wh(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.To.do(o,t,e?r:st.MIN,e?i:Le())})).next((function(t){return{documents:t,mh:i}}))}))},t.prototype.ph=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e.Oo.wh(n,t)}))},t.prototype.gh=function(){return this.persistence.gh()},t.prototype.bh=function(t){this.oo.$s(t)},t.prototype.yh=function(t){this.persistence.yh(t)},t.prototype.Ko=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=xn.resolve();return o.forEach((function(r){s=s.next((function(){return n.Zu(t,r)})).next((function(t){var o=t,s=e._u.get(r);v(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.h(s)<0)&&((o=i.Wt(r,o,e))?n.Yu(o,e.yu):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.oo.Ys(t,i)}))},t.prototype._h=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.Ih(n,e.Do)}))},t.prototype.Th=function(t){var e=this,n=this.Do.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e.Oo.ye(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.Eh=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.ko.Eh(e,t.Ro)})).then((function(e){var n=e.Dh;return t.Ro=e.readTime,n}))},t.prototype.jo=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.ko.Sh(t)}))];case 1:return t.Ro=n.sent(),[2]}}))}))},t.rh=3e8,t}();function Gn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==I.FAILED_PRECONDITION||t.message!==In)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Wn(t,e){var n=t[1],r=e[1],i=_(t[0],e[0]);return 0===i?_(n,r):i}var $n=function(){function t(t){this.Rh=t,this.buffer=new gt(Wn),this.Ch=0}return t.prototype.Ah=function(){return++this.Ch},t.prototype.Ph=function(t){var e=[t,this.Ah()];if(this.buffer.size<this.Rh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Kn={kh:!1,Nh:0,Oh:0,Fh:0},Qn=function(){function t(t,e,n){this.Vh=t,this.Uh=e,this.xh=n}return t.jh=function(e){return new t(e,t.Lh,t.qh)},t.Bh=-1,t.Mh=1048576,t.Gh=new t(t.Qh=41943040,t.Lh=10,t.qh=1e3),t.DISABLED=new t(t.Bh,0,0),t}(),Yn=function(){function t(t,e,n){this.Wh=t,this.Qr=e,this.zh=n,this.Kh=!1,this.Hh=null}return t.prototype.start=function(){v(null===this.Hh,"Cannot start an already started LruScheduler"),this.Wh.params.Vh!==Qn.Bh&&this.Jh()},t.prototype.stop=function(){this.Hh&&(this.Hh.cancel(),this.Hh=null)},Object.defineProperty(t.prototype,"Co",{get:function(){return null!==this.Hh},enumerable:!0,configurable:!0}),t.prototype.Jh=function(){var t=this;v(null===this.Hh,"Cannot schedule GC while a task is pending");var e=this.Kh?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Hh=this.Qr.fu("lru_garbage_collection",e,(function(){return t.Hh=null,t.Kh=!0,t.zh._h(t.Wh).then((function(){return t.Jh()})).catch(Gn)}))},t}(),Xn=function(){function t(t,e){this.Yh=t,this.params=e}return t.prototype.Xh=function(t,e){return this.Yh.$h(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Zh=function(t,e){var n=this;if(0===e)return xn.resolve(hn.Mr);var r=new $n(e);return this.Yh.ce(t,(function(t){return r.Ph(t.sequenceNumber)})).next((function(){return n.Yh.tc(t,(function(t){return r.Ph(t)}))})).next((function(){return r.maxValue}))},t.prototype.nc=function(t,e,n){return this.Yh.nc(t,e,n)},t.prototype.ic=function(t,e){return this.Yh.ic(t,e)},t.prototype.Ih=function(t,e){var n=this;return this.params.Vh===Qn.Bh?(p("LruGarbageCollector","Garbage collection skipped; disabled"),xn.resolve(Kn)):this.ec(t).next((function(r){return r<n.params.Vh?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Vh),Kn):n.rc(t,e)}))},t.prototype.ec=function(t){return this.Yh.ec(t)},t.prototype.rc=function(t,e){var n,r,i,o,s,a,l,u=this,c=Date.now();return this.Xh(t,this.params.Uh).next((function(e){return e>u.params.xh?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.xh+" from "+e),r=u.params.xh):r=e,o=Date.now(),u.Zh(t,r)})).next((function(r){return n=r,s=Date.now(),u.nc(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.ic(t,n)})).next((function(t){return l=Date.now(),d()<=0&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),xn.resolve({kh:!0,Nh:r,Oh:i,Fh:t})}))},t}(),Zn=function(){function t(t,e){this.As=t,this.serializer=e,this.uc=Bn.ro()}return t.prototype.fh=function(t){var e=this;return this.sc(t).next((function(n){return n.highestTargetId=e.uc.after(n.highestTargetId),e.oc(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Jo=function(t){return this.sc(t).next((function(t){return st.L(new ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.hc=function(t){return er(t.Xs)},t.prototype.eh=function(t,e,n){var r=this;return this.sc(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.oc(t,i)}))},t.prototype.lh=function(t,e){var n=this;return this.cc(t,e).next((function(){return n.sc(t).next((function(r){return r.targetCount+=1,n.ac(e,r),n.oc(t,r)}))}))},t.prototype.nh=function(t,e){return this.cc(t,e)},t.prototype.fc=function(t,e){var n=this;return this.lc(t,e.targetId).next((function(){return Jn(t).delete(e.targetId)})).next((function(){return n.sc(t)})).next((function(e){return v(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.oc(t,e)}))},t.prototype.nc=function(t,e,n){var r=this,i=0,o=[];return Jn(t).Ss((function(s,a){var l=r.serializer.dc(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(i++,o.push(r.fc(t,l)))})).next((function(){return xn.Wu(o)})).next((function(){return i}))},t.prototype.ce=function(t,e){var n=this;return Jn(t).Ss((function(t,r){var i=n.serializer.dc(r);e(i)}))},t.prototype.sc=function(t){return tr(t.Xs)},t.prototype.oc=function(t,e){return(n=t,Lr.ds(n,Sr.store)).put(Sr.key,e);var n},t.prototype.cc=function(t,e){return Jn(t).put(this.serializer.vc(e))},t.prototype.ac=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.wc=function(t){return this.sc(t).next((function(t){return t.targetCount}))},t.prototype.ah=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Jn(t).Ss({range:i,index:wr.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.dc(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.$o=function(t,e,n){var r=this,i=[],o=nr(t);return e.forEach((function(e){var s=mn(e.path);i.push(o.put(new Er(n,s))),i.push(r.As.Du(t,e))})),xn.Wu(i)},t.prototype.Xo=function(t,e,n){var r=this,i=nr(t);return xn.forEach(e,(function(e){var o=mn(e.path);return xn.Wu([i.delete([n,o]),r.As.Ru(t,e)])}))},t.prototype.lc=function(t,e){var n=nr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.wh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nr(t),i=Le();return r.Ss({range:n,Ds:!0},(function(t,e,n){var r=vn(t[1]),o=new ht(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ou=function(t,e){var n=mn(e.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return nr(t).Ss({index:Er.documentTargetsIndex,Ds:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.ye=function(t,e){var n=this;return Jn(t).get(e).next((function(t){return t?n.serializer.dc(t):null}))},t}();function Jn(t){return Lr.ds(t,wr.store)}function tr(t){return Tn.ds(t,Sr.store).get(Sr.key).next((function(t){return v(null!==t,"Missing metadata row."),t}))}function er(t){return tr(t).next((function(t){return t.highestListenSequenceNumber}))}function nr(t){return Lr.ds(t,Er.store)}var rr=function(){function t(t,e){this.serializer=t,this.Cs=e}return t.prototype.Yu=function(t,e,n){return or(t).put(sr(e),n)},t.prototype.$u=function(t,e){var n=or(t),r=sr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.mc(t,r)}))},t.prototype.Zu=function(t,e){var n=this;return or(t).get(sr(e)).next((function(t){return n.pc(t)}))},t.prototype.gc=function(t,e){var n=this;return or(t).get(sr(e)).next((function(t){var e=n.pc(t);return e?{bc:e,size:ar(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ae();return this.yc(t,e,(function(t,e){var i=n.pc(e);r=r.lt(t,i)})).next((function(){return r}))},t.prototype._c=function(t,e){var n=this,r=Ae(),i=new dt(ht.G);return this.yc(t,e,(function(t,e){var o=n.pc(e);o?(r=r.lt(t,o),i=i.lt(t,ar(e))):(r=r.lt(t,null),i=i.lt(t,0))})).next((function(){return{Ic:r,Tc:i}}))},t.prototype.yc=function(t,e,n){if(e.J())return xn.resolve();var r=IDBKeyRange.bound(e.first().path.tt(),e.last().path.tt()),i=e.bt(),o=i.Dt();return or(t).Ss({range:r},(function(t,e,r){for(var s=ht.at(t);o&&ht.G(o,s)<0;)n(o,null),o=i.Dt();o&&o.isEqual(s)&&(n(o,e),o=i.St()?i.Dt():null),o?r.ys(o.path.tt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.St()?i.Dt():null}))},t.prototype.do=function(t,e,n){var r=this;v(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Re(),o=e.path.length+1,s={};if(n.isEqual(st.MIN)){var a=e.path.tt();s.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.tt(),u=this.serializer.Ec(n);s.range=IDBKeyRange.lowerBound([l,u],!0),s.index=br.collectionReadTimeIndex}return or(t).Ss(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Dc(n);e.path.$(a.key.path)?a instanceof Xt&&e.matches(a)&&(i=i.lt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Eh=function(t,e){var n=this,r=Te(),i=this.serializer.Ec(e),o=or(t),s=IDBKeyRange.lowerBound(i,!0);return o.Ss({index:br.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Dc(e);r=r.lt(o.key,o),i=e.readTime})).next((function(){return{Dh:r,readTime:n.serializer.Sc(i)}}))},t.prototype.Sh=function(t){var e=this,n=or(t),r=st.MIN;return n.Ss({index:br.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.Sc(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Wo=function(e){return new t.Rc(this,!!e&&e.zo)},t.prototype.Cc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ir(t).get(_r.key).next((function(t){return v(!!t,"Missing document cache metadata"),t}))},t.prototype.mc=function(t,e){return ir(t).put(_r.key,e)},t.prototype.pc=function(t){if(t){var e=this.serializer.Dc(t);return e instanceof Zt&&e.version.isEqual(st.q())?null:e}return null},t.Rc=function(t){function e(e,n){var r=t.call(this)||this;return r.Ac=e,r.zo=n,r.Pc=new Sn((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.es=function(t){var e=this,n=[],r=0,i=new gt((function(t,e){return _(t.nt(),e.nt())}));return this.Ku.forEach((function(o,s){var a=e.Pc.get(o);if(v(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){v(!e.readTime.isEqual(st.MIN),"Cannot add a document with a read time of zero");var l=e.Ac.serializer.kc(s,e.readTime);i=i.add(o.path.H());var u=ar(l);r+=u-a,n.push(e.Ac.Yu(t,o,l))}else if(r-=a,e.zo){var c=e.Ac.serializer.kc(new Zt(o,st.q()),e.readTime);n.push(e.Ac.Yu(t,o,c))}else n.push(e.Ac.$u(t,o))})),i.forEach((function(r){n.push(e.Ac.Cs.Ls(t,r))})),n.push(this.Ac.updateMetadata(t,r)),xn.Wu(n)},e.prototype.ts=function(t,e){var n=this;return this.Ac.gc(t,e).next((function(t){return null===t?(n.Pc.set(e,0),null):(n.Pc.set(e,t.size),t.bc)}))},e.prototype.ns=function(t,e){var n=this;return this.Ac._c(t,e).next((function(t){var e=t.Ic;return t.Tc.forEach((function(t,e){n.Pc.set(t,e)})),e}))},e}(Cn),t}();function ir(t){return Lr.ds(t,_r.store)}function or(t){return Lr.ds(t,br.store)}function sr(t){return t.path.tt()}function ar(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var lr=function(){function t(){this.Nc=new ur}return t.prototype.Ls=function(t,e){return this.Nc.add(e),xn.resolve()},t.prototype.po=function(t,e){return xn.resolve(this.Nc.getEntries(e))},t}(),ur=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.X(),n=t.H(),r=this.index[e]||new gt(lt.G),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.X(),n=t.H(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new gt(lt.G)).tt()},t}(),cr=9,hr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=cr,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Nn(e);n<1&&r>=1&&(function(t){t.createObjectStore(fr.store)}(t),function(t){t.createObjectStore(pr.store,{keyPath:pr.keyPath}),t.createObjectStore(mr.store,{keyPath:mr.keyPath,autoIncrement:!0}).createIndex(mr.userMutationsIndex,mr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(gr.store)}(t),Cr(t),function(t){t.createObjectStore(br.store)}(t));var s=xn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Er.store),t.deleteObjectStore(wr.store),t.deleteObjectStore(Sr.store)}(t),Cr(t)),s=s.next((function(){return function(t){var e=t.store(Sr.store),n=new Sr(0,0,st.MIN.M(),0);return e.put(Sr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(mr.store).Is().next((function(n){t.deleteObjectStore(mr.store),t.createObjectStore(mr.store,{keyPath:mr.keyPath,autoIncrement:!0}).createIndex(mr.userMutationsIndex,mr.userMutationsKeyPath,{unique:!0});var r=e.store(mr.store),i=n.map((function(t){return r.put(t)}));return xn.Wu(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ir.store,{keyPath:Ir.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(_r.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(br.store);e.createIndex(br.readTimeIndex,br.readTimeIndexPath,{unique:!1}),e.createIndex(br.collectionReadTimeIndex,br.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(br.store).Ss((function(t,n){e+=ar(n)})).next((function(){var n=new _r(e);return t.store(_r.store).put(_r.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(pr.store),r=t.store(mr.store);return n.Is().next((function(n){return xn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Is(mr.userMutationsIndex,i).next((function(r){return xn.forEach(r,(function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.Bs(r);return Fn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Er.store),n=t.store(br.store);return er(t).next((function(t){var r=[];return n.Ss((function(n,i){var o=new lt(n),s=function(t){return[0,mn(t)]}(o);r.push(e.get(s).next((function(n){return n?xn.resolve():function(n){return e.put(new Er(0,mn(n),t))}(o)})))})).next((function(){return xn.Wu(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(xr.store,{keyPath:xr.keyPath});var n=e.store(xr.store),r=new ur,i=function(t){if(r.add(t)){var e=t.X(),i=t.H();return n.put({collectionId:e,parent:mn(i)})}};return e.store(br.store).Ss({Ds:!0},(function(t,e){var n=new lt(t);return i(n.H())})).next((function(){return e.store(gr.store).Ss({Ds:!0},(function(t,e){var n=vn(t[1]);return i(n.H())}))}))},t}(),dr=function(t,e){this.seconds=t,this.nanoseconds=e},fr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),pr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),mr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),gr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mn(e)]},t.key=function(t,e,n){return[t,mn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),yr=function(t,e){this.path=t,this.readTime=e},vr=function(t,e){this.path=t,this.version=e},br=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),_r=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),wr=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Er=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Sr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),xr=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function Cr(t){t.createObjectStore(Er.store,{keyPath:Er.keyPath}).createIndex(Er.documentTargetsIndex,Er.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.queryTargetsIndexName,wr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Sr.store)}var Ir=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),kr=o.__spreadArrays([pr.store,mr.store,gr.store,br.store,wr.store,fr.store,Sr.store,Er.store],[Ir.store]),Tr=o.__spreadArrays(kr,[_r.store]),Ar=o.__spreadArrays(Tr,[xr.store]),Nr=function(){function t(){this.Oc=new ur}return t.prototype.Ls=function(t,e){var n=this;if(v(e.length%2==1,"Expected a collection path."),!this.Oc.has(e)){var r=e.X(),i=e.H();t.us((function(){n.Oc.add(e)}));var o={collectionId:r,parent:mn(i)};return Rr(t).put(o)}return xn.resolve()},t.prototype.po=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return Rr(t).Is(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vn(o.parent))}return n}))},t}();function Rr(t){return Lr.ds(t,xr.store)}var Or=function(){function t(t){this.Fc=t}return t.prototype.Dc=function(t){if(t.document)return this.Fc.Ke(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.at(t.noDocument.path),n=this.Vc(t.noDocument.readTime);return new Zt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ht.at(t.unknownDocument.path),n=this.Vc(t.unknownDocument.version),new Jt(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.kc=function(t,e){var n=this.Ec(e),r=t.key.path.H().tt();if(t instanceof Xt){var i=t.proto?t.proto:this.Fc.ze(t),o=t.hasCommittedMutations;return new br(null,null,i,o,n,r)}if(t instanceof Zt){var s=t.key.path.tt(),a=this.Uc(t.version);return o=t.hasCommittedMutations,new br(null,new yr(s,a),null,o,n,r)}if(t instanceof Jt){s=t.key.path.tt();var l=this.Uc(t.version);return new br(new vr(s,l),null,null,!0,n,r)}return y("Unexpected MaybeDocument")},t.prototype.Ec=function(t){var e=t.M();return[e.seconds,e.nanoseconds]},t.prototype.Sc=function(t){var e=new ot(t[0],t[1]);return st.L(e)},t.prototype.Uc=function(t){var e=t.M();return new dr(e.seconds,e.nanoseconds)},t.prototype.Vc=function(t){var e=new ot(t.seconds,t.nanoseconds);return st.L(e)},t.prototype.js=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Fc.ir(t)})),i=e.mutations.map((function(t){return n.Fc.ir(t)}));return new mr(t,e.batchId,e.En.toMillis(),r,i)},t.prototype.Bs=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Fc.sr(t)})),r=t.mutations.map((function(t){return e.Fc.sr(t)})),i=ot.fromMillis(t.localWriteTimeMs);return new bn(t.batchId,i,n,r)},t.prototype.xc=function(t){var e=[];return t.forEach((function(t){e.push(mn(t.path))})),e},t.prototype.jc=function(t){for(var e=Le(),n=0,r=t;n<r.length;n++)e=e.add(new ht(vn(r[n])));return e},t.prototype.dc=function(t){var e,n=this.Vc(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Vc(t.lastLimboFreeSnapshotVersion):st.MIN;return e=void 0!==t.query.documents?this.Fc.vr(t.query):this.Fc.br(t.query),new Ee(e,t.targetId,0,t.lastListenSequenceNumber,n,r,ye.fromBase64String(t.resumeToken))},t.prototype.vc=function(t){v(0===t.fi,"Only queries with purpose 0 may be stored, got "+t.fi);var e,n=this.Uc(t.li),r=this.Uc(t.lastLimboFreeSnapshotVersion);e=t.target.Nn()?this.Fc.dr(t.target):this.Fc.wr(t.target);var i=t.resumeToken.toBase64();return new wr(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),Dr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Pr=function(t){function e(e,n){var r=t.call(this)||this;return r.Xs=e,r.Zo=n,r}return o.__extends(e,t),e}(kn),Lr=function(){function t(e,n,r,i,o,s,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Lc=s,this.qc=l,this.Bc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Mc=null,this.inForeground=!1,this.Qc=null,this.Gc=null,this.Wc=Number.NEGATIVE_INFINITY,this.zc=function(t){return Promise.resolve()},this.As=new Ur(this,o),this.Kc=n+t.Hc,this.serializer=new Or(a),this.document=i.document,this.Oo=new Zn(this.As,this.serializer),this.Cs=new Nr,this.so=new rr(this.serializer,this.Cs),!i.window||!i.window.localStorage)throw new k(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Jc=this.window.localStorage}return t.ds=function(t,e){if(t instanceof Pr)return Tn.ds(t.Xs,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.Yc=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.cs())throw new k(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.Xc,e.Lc,e.serializer,e.qc)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return v(!this.Co,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),Tn.hs(this.Kc,cr,new hr(this.serializer)).then((function(e){return t.$c=e,t.Zc()})).then((function(){return t.ta(),t.na(),t.ia(),t.$c.runTransaction("readonly-idempotent",[Sr.store],(function(t){return er(t)}))})).then((function(e){t.ea=new hn(e,t.qc)})).then((function(){t.Bc=!0})).catch((function(e){return t.$c&&t.$c.close(),Promise.reject(e)}))},t.prototype.ra=function(t){var e=this;return this.zc=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.Co?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ua=function(t){var e=this;this.$c.vs((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yh=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Lc.$r((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Co?[4,this.Zc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Zc=function(){var t=this;return this.$c.runTransaction("readwrite-idempotent",Ar,(function(e){return Fr(e).put(new Ir(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.sa(e).next((function(e){e||(t.isPrimary=!1,t.Lc.$r((function(){return t.zc(!1)})))}))})).next((function(){return t.oa(e)})).next((function(n){return t.isPrimary&&!n?t.ha(e).next((function(){return!1})):!!n&&t.ca(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Lc.$r((function(){return t.zc(e)})),t.isPrimary=e}))},t.prototype.sa=function(t){var e=this;return Mr(t).get(fr.key).next((function(t){return xn.resolve(e.aa(t))}))},t.prototype.fa=function(t){return Fr(t).delete(this.clientId)},t.prototype.la=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.da(this.Wc,18e5)?[3,2]:(this.Wc=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=t.ds(n,Ir.store);return r.Is().next((function(t){var n=e.va(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return xn.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.wa(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){var t=this;this.Gc=this.Lc.fu("client_metadata_refresh",4e3,(function(){return t.Zc().then((function(){return t.la()})).then((function(){return t.ia()}))}))},t.prototype.aa=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.oa=function(t){var e=this;return Mr(t).get(fr.key).next((function(n){if(null!==n&&e.da(n.leaseTimestampMs,5e3)&&!e.ma(n.ownerId)){if(e.aa(n)&&e.networkEnabled)return!0;if(!e.aa(n)){if(!n.allowTabSynchronization)throw new k(I.FAILED_PRECONDITION,Dr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fr(t).Is().next((function(t){return void 0===e.va(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Bc=!1,this.pa(),this.Gc&&(this.Gc.cancel(),this.Gc=null),this.ga(),this.ba(),[4,this.$c.runTransaction("readwrite-idempotent",[fr.store,Ir.store],(function(e){return t.ha(e).next((function(){return t.fa(e)}))}))];case 1:return e.sent(),this.$c.close(),this.ya(),[2]}}))}))},t.prototype.va=function(t,e){var n=this;return t.filter((function(t){return n.da(t.updateTimeMs,e)&&!n.ma(t.clientId)}))},t.prototype.gh=function(){var t=this;return this.$c.runTransaction("readonly-idempotent",[Ir.store],(function(e){return Fr(e).Is().next((function(e){return t.va(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.cs()?[4,Tn.delete(e+t.Hc)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"Co",{get:function(){return this.Bc},enumerable:!0,configurable:!0}),t.prototype.Po=function(t){return v(this.Co,"Cannot initialize MutationQueue before persistence is started."),Ln.ks(t,this.serializer,this.Cs,this.As)},t.prototype.Fo=function(){return v(this.Co,"Cannot initialize TargetCache before persistence is started."),this.Oo},t.prototype.No=function(){return v(this.Co,"Cannot initialize RemoteDocumentCache before persistence is started."),this.so},t.prototype.Uo=function(){return v(this.Co,"Cannot initialize IndexManager before persistence is started."),this.Cs},t.prototype.runTransaction=function(t,e,n){var r=this;p("IndexedDbPersistence","Starting transaction:",t);var i,o=e.endsWith("idempotent"),s=e.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.$c.runTransaction(s,Ar,(function(o){return i=new Pr(o,r.ea.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.sa(o).next((function(t){return!!t||r.oa(o)})).next((function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Lc.$r((function(){return r.zc(!1)})),new k(I.FAILED_PRECONDITION,In);return n(i)})).next((function(t){return r.ca(o).next((function(){return t}))})):r._a(o).next((function(){return n(i)}))})).then((function(t){return i.ss(),t}))},t.prototype._a=function(t){var e=this;return Mr(t).get(fr.key).next((function(t){if(null!==t&&e.da(t.leaseTimestampMs,5e3)&&!e.ma(t.ownerId)&&!e.aa(t)&&!t.allowTabSynchronization)throw new k(I.FAILED_PRECONDITION,Dr)}))},t.prototype.ca=function(t){var e=new fr(this.clientId,this.allowTabSynchronization,Date.now());return Mr(t).put(fr.key,e)},t.cs=function(){return Tn.cs()},t.Ia=function(t){var e=t.s.projectId;return t.s.o||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.ha=function(t){var e=this,n=Mr(t);return n.get(fr.key).next((function(t){return e.aa(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(fr.key)):xn.resolve()}))},t.prototype.da=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ta=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qc=function(){t.Lc.$r((function(){return t.inForeground="visible"===t.document.visibilityState,t.Zc()}))},this.document.addEventListener("visibilitychange",this.Qc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ga=function(){this.Qc&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Qc),this.Qc=null)},t.prototype.na=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Mc=function(){t.pa(),t.Lc.$r((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Mc))},t.prototype.ba=function(){this.Mc&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Mc),this.Mc=null)},t.prototype.ma=function(t){try{var e=null!==this.Jc.getItem(this.wa(t));return p("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return m("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.pa=function(){try{this.Jc.setItem(this.wa(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.ya=function(){try{this.Jc.removeItem(this.wa(this.clientId))}catch(t){}},t.prototype.wa=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Hc="main",t}();function Mr(t){return t.store(fr.store)}function Fr(t){return t.store(Ir.store)}var Ur=function(){function t(t,e){this.db=t,this.Ta=null,this.Wh=new Xn(this,e)}return t.prototype.$h=function(t){var e=this.Ea(t);return this.db.Fo().wc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Ea=function(t){var e=0;return this.tc(t,(function(t){e++})).next((function(){return e}))},t.prototype.ce=function(t,e){return this.db.Fo().ce(t,e)},t.prototype.tc=function(t,e){return this.Da(t,(function(t,n){return e(n)}))},t.prototype.Ao=function(t){this.Ta=t},t.prototype.Du=function(t,e){return Vr(t,e)},t.prototype.Ru=function(t,e){return Vr(t,e)},t.prototype.nc=function(t,e,n){return this.db.Fo().nc(t,e,n)},t.prototype.Zs=function(t,e){return Vr(t,e)},t.prototype.Sa=function(t,e){return this.Ta.Ou(e)?xn.resolve(!0):function(t,e){var n=!1;return jn(t).Rs((function(r){return Mn(t,r,e).next((function(t){return t&&(n=!0),xn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ic=function(t,e){var n=this,r=this.db.No().Wo(),i=[],o=0;return this.Da(t,(function(s,a){if(a<=e){var l=n.Sa(t,s).next((function(e){if(!e)return o++,r.Zu(t,s).next((function(){return r.$u(s),nr(t).delete([0,mn(s.path)])}))}));i.push(l)}})).next((function(){return xn.Wu(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.di(t.Zo);return this.db.Fo().nh(t,n)},t.prototype.ih=function(t,e){return Vr(t,e)},t.prototype.Da=function(t,e){var n,r=nr(t),i=hn.Mr;return r.Ss({index:Er.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==hn.Mr&&e(new ht(vn(n)),i),i=s,n=o):i=hn.Mr})).next((function(){i!==hn.Mr&&e(new ht(vn(n)),i)}))},t.prototype.ec=function(t){return this.db.No().Cc(t)},t}();function Vr(t,e){return nr(t).put(function(t,e){return new Er(0,mn(t.path),e)}(e,t.Zo))}var jr=function(){function t(){}return t.prototype.xo=function(t){this.Ra=t},t.prototype.do=function(t,e,n,r){var i=this;return v(void 0!==this.Ra,"setLocalDocumentsView() not called"),e.Jn()||n.isEqual(st.MIN)?this.Ca(t,e):this.Ra.fo(t,r).next((function(o){var s=i.Aa(e,o);return(e.ii()||e.ei())&&i.Pa(e.Fn,s,r,n)?i.Ca(t,e):(d()<=0&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Ra.do(t,e,n).next((function(t){return s.forEach((function(e){t=t.lt(e.key,e)})),t})))}))},t.prototype.Aa=function(t,e){var n=new gt((function(e,n){return t.Xn(e,n)}));return e.forEach((function(e,r){r instanceof Xt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.Pa=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.Ca=function(t,e){return d()<=0&&p("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Ra.do(t,e,st.MIN)},t}(),Br=function(){function t(t,e){this.Cs=t,this.As=e,this.oo=[],this.ka=1,this.lastStreamToken=ye.ai,this.Na=new gt(En.Sn)}return t.prototype.Ns=function(t){return xn.resolve(0===this.oo.length)},t.prototype.Os=function(t,e,n){var r=e.batchId,i=this.Oa(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.oo[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,xn.resolve()},t.prototype.Vs=function(t){return xn.resolve(this.lastStreamToken)},t.prototype.Us=function(t,e){return this.lastStreamToken=e,xn.resolve()},t.prototype.xs=function(t,e,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.ka;this.ka++,this.oo.length>0&&v(this.oo[this.oo.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new bn(i,e,n,r);this.oo.push(o);for(var s=0,a=r;s<a.length;s++){var l=a[s];this.Na=this.Na.add(new En(l.key,i)),this.Cs.Ls(t,l.key.path.H())}return xn.resolve(o)},t.prototype.qs=function(t,e){return xn.resolve(this.Fa(e))},t.prototype.Ms=function(t,e){var n=this.Fa(e);return v(null!=n,"Failed to find local mutation batch."),xn.resolve(n.keys())},t.prototype.Qs=function(t,e){var n=this.Va(e+1),r=n<0?0:n;return xn.resolve(this.oo.length>r?this.oo[r]:null)},t.prototype.Gs=function(){return xn.resolve(0===this.oo.length?-1:this.ka-1)},t.prototype.Ws=function(t){return xn.resolve(this.oo.slice())},t.prototype.zs=function(t,e){var n=this,r=new En(e,0),i=new En(e,Number.POSITIVE_INFINITY),o=[];return this.Na.Lt([r,i],(function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.Fa(t.Fu);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),xn.resolve(o)},t.prototype.Ks=function(t,e){var n=this,r=new gt(_);return e.forEach((function(t){var e=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY);n.Na.Lt([e,i],(function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.Fu)}))})),xn.resolve(this.Ua(r))},t.prototype.Js=function(t,e){v(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ht.ht(i)||(i=i.child(""));var o=new En(new ht(i),0),s=new gt(_);return this.Na.qt((function(t){var e=t.key.path;return!!n.$(e)&&(e.length===r&&(s=s.add(t.Fu)),!0)}),o),xn.resolve(this.Ua(s))},t.prototype.Ua=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Fa(t);null!==r&&n.push(r)})),n},t.prototype.Ys=function(t,e){var n=this;v(0===this.Oa(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.oo.shift();var r=this.Na;return xn.forEach(e.mutations,(function(i){var o=new En(i.key,e.batchId);return r=r.delete(o),n.As.Zs(t,i.key)})).next((function(){n.Na=r}))},t.prototype.$s=function(t){},t.prototype.Ou=function(t,e){var n=new En(e,0),r=this.Na.Bt(n);return xn.resolve(e.isEqual(r&&r.key))},t.prototype.to=function(t){return 0===this.oo.length&&v(this.Na.J(),"Document leak -- detected dangling mutation references when queue is empty."),xn.resolve()},t.prototype.Oa=function(t,e){var n=this.Va(t);return v(n>=0&&n<this.oo.length,"Batches must exist to be "+e),n},t.prototype.Va=function(t){return 0===this.oo.length?0:t-this.oo[0].batchId},t.prototype.Fa=function(t){var e=this.Va(t);if(e<0||e>=this.oo.length)return null;var n=this.oo[e];return v(n.batchId===t,"If found batch must match"),n},t}(),qr=function(){function t(t,e){this.Cs=t,this.xa=e,this.docs=new dt(ht.G),this.size=0}return t.prototype.Yu=function(t,e,n){v(!n.isEqual(st.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.xa(e);return this.docs=this.docs.lt(r,{bc:e,size:s,readTime:n}),this.size+=s-o,this.Cs.Ls(t,r.path.H())},t.prototype.$u=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Zu=function(t,e){var n=this.docs.get(e);return xn.resolve(n?n.bc:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ae();return e.forEach((function(t){var e=n.docs.get(t);r=r.lt(t,e?e.bc:null)})),xn.resolve(r)},t.prototype.do=function(t,e,n){v(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Re(),i=new ht(e.path.child("")),o=this.docs.yt(i);o.St();){var s=o.Dt(),a=s.value,l=a.bc,u=a.readTime;if(!e.path.$(s.key.path))break;u.h(n)<=0||l instanceof Xt&&e.matches(l)&&(r=r.lt(l.key,l))}return xn.resolve(r)},t.prototype.ja=function(t,e){return xn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Eh=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.Sh=function(t){return xn.resolve(st.MIN)},t.prototype.Wo=function(e){return new t.Rc(this)},t.prototype.Cc=function(t){return xn.resolve(this.size)},t.Rc=function(t){function e(e){var n=t.call(this)||this;return n.Ac=e,n}return o.__extends(e,t),e.prototype.es=function(t){var e=this,n=[];return this.Ku.forEach((function(r,i){i?n.push(e.Ac.Yu(t,i,e.readTime)):e.Ac.$u(r)})),xn.Wu(n)},e.prototype.ts=function(t,e){return this.Ac.Zu(t,e)},e.prototype.ns=function(t,e){return this.Ac.getEntries(t,e)},e}(Cn),t}(),Hr=function(){function t(t){this.persistence=t,this.La=new Sn((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=st.MIN,this.highestTargetId=0,this.qa=0,this.Ba=new wn,this.targetCount=0,this.uc=Bn.ro()}return t.prototype.ce=function(t,e){return this.La.forEach((function(t,n){return e(n)})),xn.resolve()},t.prototype.Jo=function(t){return xn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.hc=function(t){return xn.resolve(this.qa)},t.prototype.fh=function(t){var e=this.uc.after(this.highestTargetId);return this.highestTargetId=e,xn.resolve(e)},t.prototype.eh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.qa&&(this.qa=e),xn.resolve()},t.prototype.cc=function(t){this.La.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.qa&&(this.qa=t.sequenceNumber)},t.prototype.lh=function(t,e){return v(!this.La.has(e.target),"Adding a target that already exists"),this.cc(e),this.targetCount+=1,xn.resolve()},t.prototype.nh=function(t,e){return v(this.La.has(e.target),"Updating a non-existent target"),this.cc(e),xn.resolve()},t.prototype.fc=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.La.has(e.target),"Removing a non-existent target from the cache"),this.La.delete(e.target),this.Ba.Pu(e.targetId),this.targetCount-=1,xn.resolve()},t.prototype.nc=function(t,e,n){var r=this,i=0,o=[];return this.La.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.La.delete(s),o.push(r.lc(t,a.targetId)),i++)})),xn.Wu(o).next((function(){return i}))},t.prototype.wc=function(t){return xn.resolve(this.targetCount)},t.prototype.ah=function(t,e){var n=this.La.get(e)||null;return xn.resolve(n)},t.prototype.ye=function(t,e){return y("Not yet implemented.")},t.prototype.$o=function(t,e,n){this.Ba.Su(e,n);var r=this.persistence.As,i=[];return r&&e.forEach((function(e){i.push(r.Du(t,e))})),xn.Wu(i)},t.prototype.Xo=function(t,e,n){this.Ba.Au(e,n);var r=this.persistence.As,i=[];return r&&e.forEach((function(e){i.push(r.Ru(t,e))})),xn.Wu(i)},t.prototype.lc=function(t,e){return this.Ba.Pu(e),xn.resolve()},t.prototype.wh=function(t,e){var n=this.Ba.Nu(e);return xn.resolve(n)},t.prototype.Ou=function(t,e){return xn.resolve(this.Ba.Ou(e))},t}(),zr=function(){function t(t,e){var n=this;this.clientId=t,this.Ma={},this.ea=new hn(0),this.Bc=!1,this.Bc=!0,this.As=e(this),this.Oo=new Hr(this),this.Cs=new lr,this.so=new qr(this.Cs,(function(t){return n.As.Qa(t)}))}return t.Ga=function(e,n){return new t(e,(function(t){return new $r(t,n)}))},t.Wa=function(e){return new t(e,(function(t){return new Wr(t)}))},t.prototype.shutdown=function(){return this.Bc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Co",{get:function(){return this.Bc},enumerable:!0,configurable:!0}),t.prototype.gh=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.ra=function(t){return t(!0)},t.prototype.ua=function(){},t.prototype.yh=function(t){},t.prototype.Uo=function(){return this.Cs},t.prototype.Po=function(t){var e=this.Ma[t.v()];return e||(e=new Br(this.Cs,this.As),this.Ma[t.v()]=e),e},t.prototype.Fo=function(){return this.Oo},t.prototype.No=function(){return this.so},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Gr(this.ea.next());return this.As.za(),n(i).next((function(t){return r.As.Ka(i).next((function(){return t}))})).Qu().then((function(t){return i.ss(),t}))},t.prototype.Ha=function(t,e){return xn.zu((n=this.Ma,r=[],F(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.Ou(t,e)}})));var n,r},t}(),Gr=function(t){function e(e){var n=t.call(this)||this;return n.Zo=e,n}return o.__extends(e,t),e}(kn),Wr=function(){function t(t){this.persistence=t,this.Ta=null,this.Ja=null}return Object.defineProperty(t.prototype,"Ya",{get:function(){if(this.Ja)return this.Ja;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.Ao=function(t){this.Ta=t},t.prototype.Du=function(t,e){return this.Ya.delete(e),xn.resolve()},t.prototype.Ru=function(t,e){return this.Ya.add(e),xn.resolve()},t.prototype.Zs=function(t,e){return this.Ya.add(e),xn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Fo();return r.wh(t,e.targetId).next((function(t){t.forEach((function(t){return n.Ya.add(t)}))})).next((function(){return r.fc(t,e)}))},t.prototype.za=function(){this.Ja=new Set},t.prototype.Ka=function(t){var e=this,n=this.persistence.No().Wo();return xn.forEach(this.Ya,(function(r){return e.Xa(t,r).next((function(t){t||n.$u(r)}))})).next((function(){return e.Ja=null,n.apply(t)}))},t.prototype.ih=function(t,e){var n=this;return this.Xa(t,e).next((function(t){t?n.Ya.delete(e):n.Ya.add(e)}))},t.prototype.Qa=function(t){return 0},t.prototype.Xa=function(t,e){var n=this;return xn.zu([function(){return n.persistence.Fo().Ou(t,e)},function(){return n.persistence.Ha(t,e)},function(){return xn.resolve(n.Ta.Ou(e))}])},t}(),$r=function(){function t(t,e){this.persistence=t,this.Ta=null,this.$a=new Sn((function(t){return mn(t.path)})),this.Wh=new Xn(this,e)}return t.prototype.za=function(){},t.prototype.Ka=function(t){return xn.resolve()},t.prototype.ce=function(t,e){return this.persistence.Fo().ce(t,e)},t.prototype.$h=function(t){var e=this.Za(t);return this.persistence.Fo().wc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Za=function(t){var e=0;return this.tc(t,(function(t){e++})).next((function(){return e}))},t.prototype.tc=function(t,e){var n=this;return xn.forEach(this.$a,(function(r,i){return n.Sa(t,r,i).next((function(t){return t?xn.resolve():e(i)}))}))},t.prototype.Ao=function(t){this.Ta=t},t.prototype.nc=function(t,e,n){return this.persistence.Fo().nc(t,e,n)},t.prototype.ic=function(t,e){var n=this,r=0,i=this.persistence.No(),o=i.Wo();return i.ja(t,(function(i){return n.Sa(t,i,e).next((function(t){t||(r++,o.$u(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},t.prototype.Zs=function(t,e){return this.$a.set(e,t.Zo),xn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.di(t.Zo);return this.persistence.Fo().nh(t,n)},t.prototype.Du=function(t,e){return this.$a.set(e,t.Zo),xn.resolve()},t.prototype.Ru=function(t,e){return this.$a.set(e,t.Zo),xn.resolve()},t.prototype.ih=function(t,e){return this.$a.set(e,t.Zo),xn.resolve()},t.prototype.Qa=function(t){var e=t.key.toString().length;return t instanceof Xt&&(e+=t.data().bn()),e},t.prototype.Sa=function(t,e,n){var r=this;return xn.zu([function(){return r.persistence.Ha(t,e)},function(){return xn.resolve(r.Ta.Ou(e))},function(){return r.persistence.Fo().Ou(t,e)},function(){var t=r.$a.get(e);return xn.resolve(void 0!==t&&t>n)}])},t.prototype.ec=function(t){return this.persistence.No().Cc(t)},t}(),Kr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Lc=t,this.Gr=e,this.tf=n,this.nf=r,this.if=i,this.ef=0,this.rf=null,this.uf=Date.now(),this.reset()}return t.prototype.reset=function(){this.ef=0},t.prototype.sf=function(){this.ef=this.if},t.prototype.hf=function(t){var e=this;this.cancel();var n=Math.floor(this.ef+this.cf()),r=Math.max(0,Date.now()-this.uf),i=Math.max(0,n-r);this.ef>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ef+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.rf=this.Lc.fu(this.Gr,i,(function(){return e.uf=Date.now(),t()})),this.ef*=this.nf,this.ef<this.tf&&(this.ef=this.tf),this.ef>this.if&&(this.ef=this.if)},t.prototype.cancel=function(){null!==this.rf&&(this.rf.cancel(),this.rf=null)},t.prototype.cf=function(){return(Math.random()-.5)*this.ef},t}(),Qr=function(){function t(t,e,n,r,i,o){this.Lc=t,this.af=n,this.connection=r,this.ff=i,this.listener=o,this.state=0,this.lf=0,this.df=null,this.stream=null,this.vf=new Kr(t,e)}return t.prototype.wf=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.mf=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(v(0===this.state,"Already started"),this.auth()):this.pf()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.wf()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.gf=function(){v(!this.wf(),"Can only inhibit backoff in a stopped state"),this.state=0,this.vf.reset()},t.prototype.bf=function(){var t=this;this.mf()&&null===this.df&&(this.df=this.Lc.fu(this.af,6e4,(function(){return t.yf()})))},t.prototype._f=function(t){this.If(),this.stream.send(t)},t.prototype.yf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.mf()?[2,this.close(0)]:[2]}))}))},t.prototype.If=function(){this.df&&(this.df.cancel(),this.df=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return v(this.wf(),"Only started streams should be closed."),v(3===t||te(e),"Can't provide an error when not in an error state."),this.If(),this.vf.cancel(),this.lf++,3!==t?this.vf.reset():e&&e.code===I.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.vf.sf()):e&&e.code===I.UNAUTHENTICATED&&this.ff.I(),null!==this.stream&&(this.Tf(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ef(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Tf=function(){},t.prototype.auth=function(){var t=this;v(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.Df(this.lf),n=this.lf;this.ff.getToken().then((function(e){t.lf===n&&t.Sf(e)}),(function(n){e((function(){var e=new k(I.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Rf(e)}))}))},t.prototype.Sf=function(t){var e=this;v(1===this.state,"Trying to start stream in a non-starting state");var n=this.Df(this.lf);this.stream=this.Cf(t),this.stream.Af((function(){n((function(){return v(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Af()}))})),this.stream.Ef((function(t){n((function(){return e.Rf(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.pf=function(){var t=this;v(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.vf.hf((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return v(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),v(this.wf(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.Rf=function(t){return v(this.wf(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Df=function(t){var e=this;return function(n){e.Lc.$r((function(){return e.lf===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Yr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this;return s.serializer=i,s}return o.__extends(e,t),e.prototype.Cf=function(t){return this.connection.Pf("Listen",t)},e.prototype.onMessage=function(t){this.vf.reset();var e=this.serializer.Ze(t),n=this.serializer.nr(t);return this.listener.kf(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.je,e.addTarget=this.serializer.Yn(t);var n=this.serializer.Tr(t);n&&(e.labels=n),this._f(e)},e.prototype.Nf=function(t){var e={};e.database=this.serializer.je,e.removeTarget=t,this._f(e)},e}(Qr),Xr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this;return s.serializer=i,s.Of=!1,s.lastStreamToken=ye.ai,s}return o.__extends(e,t),Object.defineProperty(e.prototype,"Ff",{get:function(){return this.Of},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.Of=!1,t.prototype.start.call(this)},e.prototype.Tf=function(){this.Of&&this.Vf([])},e.prototype.Cf=function(t){return this.connection.Pf("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.Re(t.streamToken),this.Of){this.vf.reset();var e=this.serializer.lr(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Uf(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.Of=!0,this.listener.xf()},e.prototype.jf=function(){v(this.mf(),"Writing handshake requires an opened stream"),v(!this.Of,"Handshake already completed");var t={};t.database=this.serializer.je,this._f(t)},e.prototype.Vf=function(t){var e=this;v(this.mf(),"Writing mutations requires an opened stream"),v(this.Of,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.bn()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.Se(this.lastStreamToken),writes:t.map((function(t){return e.serializer.ir(t)}))};this._f(n)},e}(Qr),Zr=function(){function t(t,e,n,r){this.Lc=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Lf=function(t){return new Xr(this.Lc,this.connection,this.credentials,this.serializer,t)},t.prototype.qf=function(t){return new Yr(this.Lc,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.je,writes:t.map((function(t){return e.serializer.ir(t)}))};return this.Bf("Commit",n).then((function(t){return e.serializer.lr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.je,documents:t.map((function(t){return e.serializer.Oe(t)}))};return this.Mf("BatchGetDocuments",n).then((function(n){var r=Te();n.forEach((function(t){var n=e.serializer.Ye(t);r=r.lt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Bf=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Bf(t,e,r)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.I(),t}))},t.prototype.Mf=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Mf(t,e,r)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.I(),t}))},t}(),Jr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new k(I.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+rt(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(H("FieldPath","string",n,t[n]),0===t[n].length)throw new k(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Qf=new ct(t)}return t.documentId=function(){return t.Gf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw tt("isEqual","FieldPath",1,e);return this.Qf.isEqual(e.Qf)},t.Gf=new t(ct.st().nt()),t}(),ti=new RegExp("[~\\*/\\[\\]]"),ei=function(){function t(t){this.Wf=t}return t.delete=function(){return V("FieldValue.delete",arguments),ni.instance},t.serverTimestamp=function(){return V("FieldValue.serverTimestamp",arguments),ri.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B("FieldValue.arrayUnion",arguments,1),new ii(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B("FieldValue.arrayRemove",arguments,1),new oi(t)},t.increment=function(t){return H("FieldValue.increment","number",1,t),j("FieldValue.increment",arguments,1),new si(t)},t.prototype.isEqual=function(t){return this===t},t}(),ni=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(ei),ri=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(ei),ii=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.zf=e,n}return o.__extends(e,t),e}(ei),oi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.zf=e,n}return o.__extends(e,t),e}(ei),si=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.Kf=e,n}return o.__extends(e,t),e}(ei),ai=sn(ei,"Use FieldValue.<field>() instead."),li=/^__.*__$/,ui=function(){function t(t,e,n){this.data=t,this.un=e,this.fieldTransforms=n}return t.prototype.Hf=function(t,e){var n=[];return n.push(null!==this.un?new At(t,this.data,this.un,e):new Tt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Nt(t,this.fieldTransforms)),n},t}(),ci=function(){function t(t,e,n){this.data=t,this.un=e,this.fieldTransforms=n}return t.prototype.Hf=function(t,e){var n=[new At(t,this.data,this.un,e)];return this.fieldTransforms.length>0&&n.push(new Nt(t,this.fieldTransforms)),n},t}();function hi(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var di=function(){function t(t,e,n,r,i,o){this.Jf=t,this.methodName=e,this.path=n,this.Yf=r,void 0===i&&this.Xf(),this.Yf=void 0!==r&&r,this.fieldTransforms=i||[],this.un=o||[]}return t.prototype.$f=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Jf,this.methodName,n,!1,this.fieldTransforms,this.un);return r.Zf(e),r},t.prototype.tl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Jf,this.methodName,n,!1,this.fieldTransforms,this.un);return r.Xf(),r},t.prototype.nl=function(e){return new t(this.Jf,this.methodName,null,!0,this.fieldTransforms,this.un)},t.prototype.il=function(t){var e=null===this.path||this.path.J()?"":" (found in field "+this.path.toString()+")";return new k(I.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.un.find((function(e){return t.$(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.$(e.field)}))},t.prototype.Xf=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Zf(this.path.get(t))},t.prototype.Zf=function(t){if(0===t.length)throw this.il("Document fields must not be empty");if(hi(this.Jf)&&li.test(t))throw this.il('Document fields cannot begin and end with "__"')},t}(),fi=function(t,e){this.s=t,this.key=e},pi=function(){function t(t){this.el=t}return t.prototype.rl=function(t,e){var n=new di(0,t,ct.et);gi("Data must be an object, but it was:",n,e);var r=this.ul(e,n);return new ui(r,null,n.fieldTransforms)},t.prototype.sl=function(t,e,n){var r=new di(2,t,ct.et);gi("Data must be an object, but it was:",r,e);var i,o,s=this.ul(e,r);if(n){for(var a=new gt(ct.G),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof Jr)h=c.Qf;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=vi(t,c)}if(!r.contains(h))throw new k(I.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=St.Jt(a),o=r.fieldTransforms.filter((function(t){return i.Xt(t.field)}))}else i=St.Yt(r.un),o=r.fieldTransforms;return new ui(s,i,o)},t.prototype.ol=function(t,e){var n=this,r=new di(1,t,ct.et);gi("Data must be an object, but it was:",r,e);var i=new gt(ct.G),o=$t.vn();F(e,(function(e,s){var a=vi(t,e),l=r.tl(a);if((s=n.hl(s,l))instanceof ni)i=i.add(a);else{var u=n.ul(s,l);null!=u&&(i=i.add(a),o.set(a,u))}}));var s=St.Jt(i);return new ci(o.cn(),s,r.fieldTransforms)},t.prototype.cl=function(t,e,n,r){var i=new di(1,t,ct.et),o=[yi(t,e)],s=[n];if(r.length%2!=0)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(yi(t,r[a])),s.push(r[a+1]);var l=new gt(ct.G),u=$t.vn();for(a=0;a<o.length;++a){var c=o[a],h=i.tl(c),d=this.hl(s[a],h);if(d instanceof ni)l=l.add(c);else{var f=this.ul(d,h);null!=f&&(l=l.add(c),u.set(c,f))}}var p=St.Jt(l);return new ci(u.cn(),p,i.fieldTransforms)},t.prototype.al=function(t,e,n){void 0===n&&(n=!1);var r=new di(n?4:3,t,ct.et),i=this.ul(e,r);return v(null!=i,"Parsed data should not be null."),v(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.hl=function(t,e){try{return this.el(t)}catch(t){var n=bi(t);throw e.il(n)}},t.prototype.ul=function(t,e){if(mi(t=this.hl(t,e)))return gi("Unsupported field value:",e,t),this.fl(t,e);if(t instanceof ei)return this.ll(t,e),null;if(e.path&&e.un.push(e.path),t instanceof Array){if(e.Yf&&4!==e.Jf)throw e.il("Nested arrays are not supported");return this.dl(t,e)}return this.vl(t,e)},t.prototype.fl=function(t,e){var n=this,r=new dt(_);return U(t)?e.path&&e.path.length>0&&e.un.push(e.path):F(t,(function(t,i){var o=n.ul(i,e.$f(t));null!=o&&(r=r.lt(t,o))})),new $t(r)},t.prototype.dl=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.ul(o[i],e.nl(r));null==s&&(s=Lt.yn),n.push(s),r++}return new Qt(n)},t.prototype.ll=function(t,e){if(!hi(e.Jf))throw e.il(t.Wf+"() can only be used with update() and set()");if(null===e.path)throw e.il(t.Wf+"() is not currently supported inside arrays");if(t instanceof ni){if(2!==e.Jf)throw 1===e.Jf?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.il("FieldValue.delete() can only appear at the top level of your update data")):e.il("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.un.push(e.path)}else if(t instanceof ri)e.fieldTransforms.push(new xt(e.path,vt.instance));else if(t instanceof ii){var n=this.wl(t.Wf,t.zf),r=new bt(n);e.fieldTransforms.push(new xt(e.path,r))}else if(t instanceof oi){n=this.wl(t.Wf,t.zf);var i=new _t(n);e.fieldTransforms.push(new xt(e.path,i))}else if(t instanceof si){var o=this.al("FieldValue.increment",t.Kf),s=new wt(o);e.fieldTransforms.push(new xt(e.path,s))}else y("Unknown FieldValue type: "+t)},t.prototype.vl=function(t,e){if(null===t)return Lt.yn;if("number"==typeof t)return ne(t)?new Vt(t):new jt(t);if("boolean"==typeof t)return Mt.of(t);if("string"==typeof t)return new Bt(t);if(t instanceof Date)return new qt(ot.fromDate(t));if(t instanceof ot)return new qt(new ot(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof it)return new Wt(t);if(t instanceof un)return new zt(t);if(t instanceof fi)return new Gt(t.s,t.key);throw e.il("Unsupported field value: "+X(t))},t.prototype.wl=function(t,e){var n=this;return e.map((function(e,r){var i=new di(3,t,ct.et);return n.ul(e,i.nl(r))}))},t}();function mi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof it||t instanceof un||t instanceof fi||t instanceof ei)}function gi(t,e,n){if(!mi(n)||!Y(n)){var r=X(n);throw e.il("an object"===r?t+" a custom object":t+" "+r)}}function yi(t,e){if(e instanceof Jr)return e.Qf;if("string"==typeof e)return vi(t,e);throw new k(I.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function vi(t,e){try{return function(t){if(t.search(ti)>=0)throw new k(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Jr.bind.apply(Jr,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new k(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Qf}catch(r){var n=bi(r);throw new k(I.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function bi(t){return t instanceof Error?t.message:t.toString()}var _i=function(){function t(t){this.ml=t,this.pl=De(),this.mutations=[],this.gl=!1,this.bl=null,this.yl=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this._l(),this.mutations.length>0)throw new k(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.ml.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof Zt||t instanceof Xt?n.Il(t):y("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Hf(t,this.in(t))),this.yl.add(t)},t.prototype.update=function(t,e){try{this.write(e.Hf(t,this.Tl(t)))}catch(t){this.bl=t}this.yl.add(t)},t.prototype.delete=function(t){this.write([new Rt(t,this.in(t))]),this.yl.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this._l(),this.bl)throw this.bl;return t=this.pl,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new Ot(t,e.in(t)))})),[4,this.ml.commit(this.mutations)];case 1:return n.sent(),this.gl=!0,[2]}}))}))},t.prototype.Il=function(t){var e;if(t instanceof Xt)e=t.version;else{if(!(t instanceof Zt))throw y("Document in a transaction was a "+t.constructor.name);e=st.q()}var n=this.pl.get(t.key);if(null!==n){if(!e.isEqual(n))throw new k(I.ABORTED,"Document version changed between two reads.")}else this.pl=this.pl.lt(t.key,e)},t.prototype.in=function(t){var e=this.pl.get(t);return!this.yl.has(t)&&e?It.updateTime(e):It.NONE},t.prototype.Tl=function(t){var e=this.pl.get(t);if(!this.yl.has(t)&&e){if(e.isEqual(st.q()))throw new k(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(e)}return It.exists(!0)},t.prototype.write=function(t){this._l(),this.mutations=this.mutations.concat(t)},t.prototype._l=function(){v(!this.gl,"A transaction object cannot be used after its update callback has been invoked.")},t}(),wi=function(){function t(t,e){this.Qr=t,this.El=e,this.state="Unknown",this.Dl=0,this.Sl=null,this.Rl=!0}return t.prototype.Cl=function(){var t=this;0===this.Dl&&(this.Al("Unknown"),v(null===this.Sl,"onlineStateTimer shouldn't be started yet"),this.Sl=this.Qr.fu("online_state_timeout",1e4,(function(){return t.Sl=null,v("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Pl("Backend didn't respond within 10 seconds."),t.Al("Offline"),Promise.resolve()})))},t.prototype.kl=function(t){"Online"===this.state?(this.Al("Unknown"),v(0===this.Dl,"watchStreamFailures must be 0"),v(null===this.Sl,"onlineStateTimer must be null")):(this.Dl++,this.Dl>=1&&(this.Nl(),this.Pl("Connection failed 1 times. Most recent error: "+t.toString()),this.Al("Offline")))},t.prototype.set=function(t){this.Nl(),this.Dl=0,"Online"===t&&(this.Rl=!1),this.Al(t)},t.prototype.Al=function(t){t!==this.state&&(this.state=t,this.El(t))},t.prototype.Pl=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rl?(m(e),this.Rl=!1):p("OnlineStateTracker",e)},t.prototype.Nl=function(){null!==this.Sl&&(this.Sl.cancel(),this.Sl=null)},t}(),Ei=function(){function t(t,e,n,r,i){var s=this;this.zh=t,this.ml=e,this.Ol=[],this.Fl={},this.Vl=null,this.networkEnabled=!1,this.isPrimary=!1,this.Ul=i,this.Ul.xl((function(t){n.$r((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.jl()?(p("RemoteStore","Restarting streams for network reachability change."),[4,this.Ll()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.ql=new wi(n,r),this.Bl=this.ml.qf({Af:this.Ml.bind(this),Ef:this.Ql.bind(this),kf:this.Gl.bind(this)}),this.Wl=this.ml.Lf({Af:this.zl.bind(this),Ef:this.Kl.bind(this),xf:this.Hl.bind(this),Uf:this.Uf.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.jl()?(t=this.Wl,[4,this.zh.Vs()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Jl()?this.Yl():this.ql.set("Unknown"),[4,this.Xl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$l()];case 1:return t.sent(),this.ql.set("Offline"),[2]}}))}))},t.prototype.$l=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Wl.stop()];case 1:return t.sent(),[4,this.Bl.stop()];case 2:return t.sent(),this.Ol.length>0&&(p("RemoteStore","Stopping write stream with "+this.Ol.length+" pending writes"),this.Ol=[]),this.Zl(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.$l()];case 1:return t.sent(),this.Ul.shutdown(),this.ql.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){P(this.Fl,t.targetId)||(this.Fl[t.targetId]=t,this.Jl()?this.Yl():this.Bl.mf()&&this.td(t))},t.prototype.nd=function(t){v(P(this.Fl,t),"unlisten called on target no currently watched: "+t),delete this.Fl[t],this.Bl.mf()&&this.ed(t),U(this.Fl)&&(this.Bl.mf()?this.Bl.bf():this.jl()&&this.ql.set("Unknown"))},t.prototype.ye=function(t){return this.Fl[t]||null},t.prototype.be=function(t){return this.rd.be(t)},t.prototype.td=function(t){this.Vl.Xi(t.targetId),this.Bl.watch(t)},t.prototype.ed=function(t){this.Vl.Xi(t),this.Bl.Nf(t)},t.prototype.Yl=function(){v(this.Jl(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Vl=new $e(this),this.Bl.start(),this.ql.Cl()},t.prototype.Jl=function(){return this.jl()&&!this.Bl.wf()&&!U(this.Fl)},t.prototype.jl=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Zl=function(){this.Vl=null},t.prototype.Ml=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return M(this.Fl,(function(e,n){t.td(n)})),[2]}))}))},t.prototype.Ql=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&v(!this.Jl(),"Watch stream was stopped gracefully while still needed."),this.Zl(),this.Jl()?(this.ql.kl(t),this.Yl()):this.ql.set("Unknown"),[2]}))}))},t.prototype.Gl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.ql.set("Online"),t instanceof Ge&&2===t.state&&t.cause?[2,this.ud(t)]:(t instanceof He?this.Vl.ue(t):t instanceof ze?this.Vl.de(t):(v(t instanceof Ge,"Expected watchChange to be an instance of WatchTargetChange"),this.Vl.he(t)),e.isEqual(st.MIN)?[3,3]:[4,this.zh.Jo()]);case 1:return n=r.sent(),e.h(n)>=0?[4,this.sd(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.sd=function(t){var e=this;v(!t.isEqual(st.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Vl.me(t);return M(n.Si,(function(n,r){if(r.resumeToken.bn()>0){var i=e.Fl[n];i&&(e.Fl[n]=i.vi(r.resumeToken,t))}})),n.Ri.forEach((function(t){var n=e.Fl[t];if(n){e.Fl[t]=n.vi(ye.ai,n.li),e.ed(t);var r=new Ee(n.target,t,1,n.sequenceNumber);e.td(r)}})),this.rd.Yo(n)},t.prototype.ud=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return P(this.Fl,t)?(delete this.Fl[t],this.Vl.removeTarget(t),[2,this.rd.od(t,n)]):[2]}))}))}))})),r},t.prototype.Xl=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.hd()?[4,this.zh.sh(this.Ol.length>0?this.Ol[this.Ol.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Ol.length&&this.Wl.bf(),[3,4]);case 2:return this.ad(t),[4,this.Xl()];case 3:e.sent(),e.label=4;case 4:return this.fd()&&this.ld(),[2]}}))}))},t.prototype.hd=function(){return this.jl()&&this.Ol.length<10},t.prototype.dd=function(){return this.Ol.length},t.prototype.ad=function(t){v(this.hd(),"addToWritePipeline called when pipeline is full"),this.Ol.push(t),this.Wl.mf()&&this.Wl.Ff&&this.Wl.Vf(t.mutations)},t.prototype.fd=function(){return this.jl()&&!this.Wl.wf()&&this.Ol.length>0},t.prototype.ld=function(){v(this.fd(),"startWriteStream() called when shouldStartWriteStream() is false."),this.Wl.start()},t.prototype.zl=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Wl.jf(),[2]}))}))},t.prototype.Hl=function(){var t=this;return this.zh.Us(this.Wl.lastStreamToken).then((function(){for(var e=0,n=t.Ol;e<n.length;e++)t.Wl.Vf(n[e].mutations)})).catch(Gn)},t.prototype.Uf=function(t,e){var n=this;v(this.Ol.length>0,"Got result for empty write pipeline");var r=this.Ol.shift(),i=_n.from(r,t,e,this.Wl.lastStreamToken);return this.rd.vd(i).then((function(){return n.Xl()}))},t.prototype.Kl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&v(!this.fd(),"Write stream was stopped gracefully while still needed."),t&&this.Ol.length>0?[2,(this.Wl.Ff?this.wd(t):this.md(t)).then((function(){e.fd()&&e.ld()}))]:[2]}))}))},t.prototype.md=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return xe(t.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.Wl.lastStreamToken),this.Wl.lastStreamToken=ye.ai,[2,this.zh.Us(ye.ai).catch(Gn)]):[2]}))}))},t.prototype.wd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return xe(i=t.code)&&i!==I.ABORTED?(e=this.Ol.shift(),this.Wl.gf(),[2,this.rd.pd(e.batchId,t).then((function(){return n.Xl()}))]):[2];var i}))}))},t.prototype.gd=function(){return new _i(this.ml)},t.prototype.Ll=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$l()];case 1:return t.sent(),this.ql.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.bd=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.jl()?(p("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Ll()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.yd=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.$l()];case 3:e.sent(),this.ql.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}();function Si(t,e){return v(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function xi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.l()&&(r+="_"+e.uid),r}function Ci(t,e){return"firestore_targets_"+t+"_"+e}var Ii=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t._d=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new k(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(m("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Id=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ki=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t._d=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new k(r.error.code,r.error.message)),i?new t(e,r.state,o):(m("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Id=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ti=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t._d=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Fe(),s=0;i&&s<r.activeTargetIds.length;++s)i=ne(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(m("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ai=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t._d=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(m("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ni=function(){function t(){this.activeTargetIds=Fe()}return t.prototype.Td=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ed=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Id=function(){var t={activeTargetIds:this.activeTargetIds.tt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ri=function(){function t(e,n,r,i,o){if(this.Lc=e,this.platform=n,this.persistenceKey=r,this.Dd=i,this.rd=null,this.El=null,this.jr=null,this.Sd={},this.Rd=this.Cd.bind(this),this.Co=!1,this.Ad=[],!t.cs(this.platform))throw new k(I.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Pd=Si(this.persistenceKey,this.Dd),this.kd=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Sd[this.Dd]=new Ni,this.Nd=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Od=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Fd=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Vd=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Rd)}return t.cs=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,l,u,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return v(!this.Co,"WebStorageSharedClientState already started"),v(null!==this.rd,"syncEngine property must be set before calling start()"),v(null!==this.El,"onlineStateHandler property must be set before calling start()"),[4,this.rd.gh()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Dd&&(i=this.getItem(Si(this.persistenceKey,r)))&&(s=Ti._d(r,i))&&(this.Sd[s.clientId]=s);for(this.Ud(),(a=this.storage.getItem(this.Vd))&&(l=this.xd(a))&&this.jd(l),u=0,c=this.Ad;u<c.length;u++)this.Cd(c[u]);return this.Ad=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.Co=!0,[2]}}))}))},t.prototype.Br=function(t){this.setItem(this.kd,JSON.stringify(t))},t.prototype.Ld=function(){var t=Fe();return F(this.Sd,(function(e,n){t=t.Mt(n.activeTargetIds)})),t},t.prototype.qd=function(t){for(var e in this.Sd)if(this.Sd.hasOwnProperty(e)&&this.Sd[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Bd=function(t){this.Md(t,"pending")},t.prototype.Qd=function(t,e,n){this.Md(t,e,n),this.Gd(t)},t.prototype.Wd=function(t){var e="not-current";if(this.qd(t)){var n=this.storage.getItem(Ci(this.persistenceKey,t));if(n){var r=ki._d(t,n);r&&(e=r.state)}}return this.zd.Td(t),this.Ud(),e},t.prototype.Kd=function(t){this.zd.Ed(t),this.Ud()},t.prototype.Hd=function(t){return this.zd.activeTargetIds.has(t)},t.prototype.Jd=function(t){this.removeItem(Ci(this.persistenceKey,t))},t.prototype.Yd=function(t,e,n){this.Xd(t,e,n)},t.prototype.Lo=function(t,e,n){var r=this;e.forEach((function(t){r.Gd(t)})),this.currentUser=t,n.forEach((function(t){r.Bd(t)}))},t.prototype.$d=function(t){this.Zd(t)},t.prototype.shutdown=function(){this.Co&&(this.platform.window.removeEventListener("storage",this.Rd),this.removeItem(this.Pd),this.Co=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Cd=function(t){var e=this;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Pd)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Lc.$r((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,a;return o.__generator(this,(function(o){if(!this.Co)return this.Ad.push(t),[2];if(null===t.key)return[2];if(this.Nd.test(t.key)){if(null==t.newValue)return n=this.tv(t.key),[2,this.nv(n,null)];if(e=this.iv(t.key,t.newValue))return[2,this.nv(e.clientId,e)]}else if(this.Od.test(t.key)){if(null!==t.newValue&&(r=this.ev(t.key,t.newValue)))return[2,this.rv(r)]}else if(this.Fd.test(t.key)){if(null!==t.newValue&&(i=this.uv(t.key,t.newValue)))return[2,this.sv(i)]}else if(t.key===this.Vd){if(null!==t.newValue&&(s=this.xd(t.newValue)))return[2,this.jd(s)]}else t.key===this.kd&&(v(!!this.jr,"Missing sequenceNumberHandler"),(a=function(t){var e=hn.Mr;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){m("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==hn.Mr&&this.jr(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"zd",{get:function(){return this.Sd[this.Dd]},enumerable:!0,configurable:!0}),t.prototype.Ud=function(){this.setItem(this.Pd,this.zd.Id())},t.prototype.Md=function(t,e,n){var r=new Ii(this.currentUser,t,e,n),i=xi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Id())},t.prototype.Gd=function(t){var e=xi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Zd=function(t){this.storage.setItem(this.Vd,JSON.stringify({clientId:this.Dd,onlineState:t}))},t.prototype.Xd=function(t,e,n){var r=Ci(this.persistenceKey,t),i=new ki(t,e,n);this.setItem(r,i.Id())},t.prototype.tv=function(t){var e=this.Nd.exec(t);return e?e[1]:null},t.prototype.iv=function(t,e){var n=this.tv(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),Ti._d(n,e)},t.prototype.ev=function(t,e){var n=this.Od.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Ii._d(new C(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uv=function(t,e){var n=this.Fd.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return ki._d(r,e)},t.prototype.xd=function(t){return Ai._d(t)},t.prototype.rv=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.rd.ov(t.batchId,t.state,t.error)]}))}))},t.prototype.sv=function(t){return this.rd.hv(t.targetId,t.state,t.error)},t.prototype.nv=function(t,e){var n=this,r=this.Ld();e?this.Sd[t]=e:delete this.Sd[t];var i=this.Ld(),s=[],a=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.rd.cv(s,a)},t.prototype.jd=function(t){this.Sd[t.clientId]&&this.El(t.onlineState)},t}(),Oi=function(){function t(){this.av=new Ni,this.fv={},this.rd=null,this.El=null,this.jr=null}return t.prototype.Bd=function(t){},t.prototype.Qd=function(t,e,n){},t.prototype.Wd=function(t){return this.av.Td(t),this.fv[t]||"not-current"},t.prototype.Yd=function(t,e,n){this.fv[t]=e},t.prototype.Kd=function(t){this.av.Ed(t)},t.prototype.Hd=function(t){return this.av.activeTargetIds.has(t)},t.prototype.Jd=function(t){delete this.fv[t]},t.prototype.Ld=function(){return this.av.activeTargetIds},t.prototype.qd=function(t){return this.av.activeTargetIds.has(t)},t.prototype.start=function(){return this.av=new Ni,Promise.resolve()},t.prototype.Lo=function(t,e,n){},t.prototype.$d=function(t){},t.prototype.shutdown=function(){},t.prototype.Br=function(t){},t}(),Di=function(t){this.key=t},Pi=function(t){this.key=t},Li=function(){function t(t,e){this.query=t,this.lv=e,this.dv=null,this.Ni=!1,this.vv=Le(),this.Ii=Le(),this.wv=new Ue(t.Xn.bind(t))}return Object.defineProperty(t.prototype,"mv",{get:function(){return this.lv},enumerable:!0,configurable:!0}),t.prototype.pv=function(t,e){var n=this,r=e?e.gv:new Ve,i=e?e.wv:this.wv,o=e?e.Ii:this.Ii,s=i,a=!1,l=this.query.ii()&&i.size===this.query.limit?i.last():null,u=this.query.ei()&&i.size===this.query.limit?i.first():null;if(t.pt((function(t,e){var c=i.get(t),h=e instanceof Xt?e:null;h&&(v(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!c&&n.Ii.has(c.key),f=!!h&&(h.en||n.Ii.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.bv(c,h)||(r.track({type:2,doc:h}),p=!0,(l&&n.query.Xn(h,l)>0||u&&n.query.Xn(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.ii()||this.query.ei())for(;s.size>this.query.limit;){var c=this.query.ii()?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return v(!a||!e,"View was refilled using docs that themselves needed refilling."),{wv:s,gv:r,Pa:a,Ii:o}},t.prototype.bv=function(t,e){return t.en&&e.hasCommittedMutations&&!e.en},t.prototype.es=function(t,e,n){var r=this;v(!t.Pa,"Cannot apply changes that need a refill");var i=this.wv;this.wv=t.wv,this.Ii=t.Ii;var o=t.gv.yi();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.Xn(t.doc,e.doc)})),this.yv(n);var s=e?this._v():[],a=0===this.vv.size&&this.Ni?1:0,l=a!==this.dv;return this.dv=a,0!==o.length||l?{snapshot:new je(this.query,t.wv,i,o,t.Ii,0===a,l,!1),Iv:s}:{Iv:s}},t.prototype.Tv=function(t){return this.Ni&&"Offline"===t?(this.Ni=!1,this.es({wv:this.wv,gv:new Ve,Ii:this.Ii,Pa:!1},!1)):{Iv:[]}},t.prototype.Ev=function(t){return!this.lv.has(t)&&!!this.wv.has(t)&&!this.wv.get(t).en},t.prototype.yv=function(t){var e=this;t&&(t.Oi.forEach((function(t){return e.lv=e.lv.add(t)})),t.Fi.forEach((function(t){return v(e.lv.has(t),"Modified document "+t+" not found in view.")})),t.Vi.forEach((function(t){return e.lv=e.lv.delete(t)})),this.Ni=t.Ni)},t.prototype._v=function(){var t=this;if(!this.Ni)return[];var e=this.vv;this.vv=Le(),this.wv.forEach((function(e){t.Ev(e.key)&&(t.vv=t.vv.add(e.key))}));var n=[];return e.forEach((function(e){t.vv.has(e)||n.push(new Pi(e))})),this.vv.forEach((function(t){e.has(t)||n.push(new Di(t))})),n},t.prototype.Dv=function(t){this.lv=t.mh,this.vv=Le();var e=this.pv(t.documents);return this.es(e,!0)},t.prototype.Sv=function(){return je.Di(this.query,this.wv,this.Ii,0===this.dv)},t}(),Mi=function(){function t(t,e,n,r){this.Qr=t,this.Rv=e,this.updateFunction=n,this.Kr=r,this.Cv=5,this.vf=new Kr(this.Qr,"retry_transaction")}return t.prototype.run=function(){this.Av()},t.prototype.Av=function(){var t=this;this.vf.hf((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.Rv.gd(),(e=this.Pv(t))&&e.then((function(e){n.Qr.$r((function(){return t.commit().then((function(){n.Kr.resolve(e)})).catch((function(t){n.kv(t)}))}))})).catch((function(t){n.kv(t)})),[2]}))}))}))},t.prototype.Pv=function(t){try{var e=this.updateFunction(t);return!te(e)&&e.catch&&e.then?e:(this.Kr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Kr.reject(t),null}},t.prototype.kv=function(t){var e=this;this.Cv>0&&this.Nv(t)?(this.Cv-=1,this.Qr.$r((function(){return e.Av(),Promise.resolve()}))):this.Kr.reject(t)},t.prototype.Nv=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!xe(e)}return!1},t}(),Fi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ui=function(t){this.key=t,this.Ov=!1},Vi=function(){function t(t,e,n,r){this.zh=t,this.Rv=e,this.Fv=n,this.currentUser=r,this.Vv=null,this.Uv=new Sn((function(t){return t.canonicalId()})),this.xv={},this.jv=new dt(ht.G),this.Lv={},this.qv=new wn,this.Bv={},this.Mv=new Map,this.Qv=Bn.uo(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Gv",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.Vv,"SyncEngine already has a subscriber."),this.Vv=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Wv("listen()"),(r=this.Uv.get(t))?(this.Fv.Wd(e=r.targetId),n=r.view.Sv(),[3,4]):[3,1];case 1:return[4,this.zh.hh(t.Yn())];case 2:return i=o.sent(),s=this.Fv.Wd(i.targetId),[4,this.zv(t,e=i.targetId,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.Rv.listen(i),o.label=4;case 4:return this.Vv.kf([n]),[2,e]}}))}))},t.prototype.zv=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,l,u;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.zh.vh(t,!0)];case 1:return r=o.sent(),i=new Li(t,r.mh),s=i.pv(r.documents),a=qe.ki(e,n&&"Offline"!==this.onlineState),v(0===(l=i.es(s,!0===this.isPrimary,a)).Iv.length,"View returned limbo docs before target ack from the server."),v(!!l.snapshot,"applyChanges for new view should always return a snapshot"),u=new Fi(t,e,i),this.Uv.set(t,u),this.xv[e]||(this.xv[e]=[]),this.xv[e].push(t),[2,l.snapshot]}}))}))},t.prototype.Kv=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.zh.vh(t.query,!0)];case 1:return e=r.sent(),n=t.view.Dv(e),this.isPrimary&&this.Hv(t.targetId,n.Iv),[2,n]}}))}))},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Wv("unlisten()"),v(!!(e=this.Uv.get(t)),"Trying to unlisten on query not found:"+t),(n=this.xv[e.targetId]).length>1?(this.xv[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.Uv.delete(t),[2]):this.isPrimary?(this.Fv.Kd(e.targetId),this.Fv.qd(e.targetId)?[3,2]:[4,this.zh.dh(e.targetId,!1).then((function(){r.Fv.Jd(e.targetId),r.Rv.nd(e.targetId),r.Jv(e.targetId)})).catch(Gn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Jv(e.targetId),[4,this.zh.dh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Wv("write()"),[4,this.zh.Qo(t)];case 1:return n=r.sent(),this.Fv.Bd(n.batchId),this.Yv(n.batchId,e),[4,this.Xv(n.Ku)];case 2:return r.sent(),[4,this.Rv.Xl()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Mi(t,this.Rv,e,n).run()},t.prototype.Yo=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.Wv("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zh.Yo(t)];case 2:return e=r.sent(),F(t.Si,(function(t,e){var r=n.Lv[Number(t)];r&&(v(e.Oi.size+e.Fi.size+e.Vi.size<=1,"Limbo resolution for single document contains multiple changes."),e.Oi.size>0?r.Ov=!0:e.Fi.size>0?v(r.Ov,"Received change for limbo target document without add."):e.Vi.size>0&&(v(r.Ov,"Received remove for limbo target document without add."),r.Ov=!1))})),[4,this.Xv(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Gn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Tv=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.Wv("applyOnlineStateChange()");var n=[];this.Uv.forEach((function(e,r){var i=r.view.Tv(t);v(0===i.Iv.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Vv.$v(t),this.Vv.kf(n),this.onlineState=t,this.isPrimary&&this.Fv.$d(t)}},t.prototype.od=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Wv("rejectListens()"),this.Fv.Yd(t,"rejected",e),(r=(n=this.Lv[t])&&n.key)?(this.jv=this.jv.remove(r),delete this.Lv[t],i=(i=new dt(ht.G)).lt(r,new Zt(r,st.q())),s=Le().add(r),a=new Be(st.MIN,{},new gt(_),i,s),[2,this.Yo(a)]):[3,1];case 1:return[4,this.zh.dh(t,!1).then((function(){return l.Jv(t,e)})).catch(Gn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.ov=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Wv("applyBatchState()"),[4,this.zh.Go(t)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Rv.Xl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Zv(t,n||null),this.zh.bh(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.Xv(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.vd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Wv("applySuccessfulWrite()"),this.Zv(e=t.batch.batchId,null),this.tw(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zh.Os(t)];case 2:return n=r.sent(),this.Fv.Qd(e,"acknowledged"),[4,this.Xv(n)];case 3:return r.sent(),[3,6];case 4:return[4,Gn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.pd=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Wv("rejectFailedWrite()"),this.Zv(t,e),this.tw(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zh.Ho(t)];case 2:return n=r.sent(),this.Fv.Qd(t,"rejected",e),[4,this.Xv(n)];case 3:return r.sent(),[3,6];case 4:return[4,Gn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.nw=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Rv.jl()||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.zh.Gs()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.Mv.get(e)||[]).push(t),this.Mv.set(e,n),[2])}}))}))},t.prototype.tw=function(t){(this.Mv.get(t)||[]).forEach((function(t){t.resolve()})),this.Mv.delete(t)},t.prototype.iw=function(t){this.Mv.forEach((function(e){e.forEach((function(e){e.reject(new k(I.CANCELLED,t))}))})),this.Mv.clear()},t.prototype.Yv=function(t,e){var n=this.Bv[this.currentUser.v()];n||(n=new dt(_)),n=n.lt(t,e),this.Bv[this.currentUser.v()]=n},t.prototype.Zv=function(t,e){var n=this.Bv[this.currentUser.v()];if(n){var r=n.get(t);r&&(v(t===n.vt(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Bv[this.currentUser.v()]=n}},t.prototype.Jv=function(t,e){var n=this;void 0===e&&(e=null),this.Fv.Kd(t),v(this.xv[t]&&0!==this.xv[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.xv[t];r<i.length;r++){var o=i[r];this.Uv.delete(o),e&&this.Vv.ew(o,e)}if(delete this.xv[t],this.isPrimary){var s=this.qv.Nu(t);this.qv.Pu(t),s.forEach((function(t){n.qv.Ou(t)||n.rw(t)}))}},t.prototype.rw=function(t){var e=this.jv.get(t);null!==e&&(this.Rv.nd(e),this.jv=this.jv.remove(t),delete this.Lv[e])},t.prototype.Hv=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Di?(this.qv.Du(i.key,t),this.uw(i)):i instanceof Pi?(p("SyncEngine","Document no longer in limbo: "+i.key),this.qv.Ru(i.key,t),this.qv.Ou(i.key)||this.rw(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.uw=function(t){var e=t.key;if(!this.jv.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.Qv.next(),r=ie.jn(e.path);this.Lv[n]=new Ui(e),this.Rv.listen(new Ee(r.Yn(),n,2,hn.Mr)),this.jv=this.jv.lt(e,n)}},t.prototype.sw=function(){return this.jv},t.prototype.Xv=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.Uv.forEach((function(o,a){i.push(Promise.resolve().then((function(){var e=a.view.pv(t);return e.Pa?s.zh.vh(a.query,!1).then((function(t){return a.view.pv(t.documents,e)})):e})).then((function(t){var i=a.view.es(t,!0===s.isPrimary,e&&e.Si[a.targetId]);if(s.Hv(a.targetId,i.Iv),i.snapshot){s.isPrimary&&s.Fv.Yd(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=Hn.Io(a.targetId,i.snapshot);r.push(o)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.Vv.kf(n),[4,this.zh.uh(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.Wv=function(t){v(null!==this.Vv,"Trying to call "+t+" before calling subscribe().")},t.prototype.bd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.iw("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.zh.Lo(t)]):[3,3];case 1:return n=r.sent(),this.Fv.Lo(t,n.Bo,n.Mo),[4,this.Xv(n.qo)];case 2:r.sent(),r.label=3;case 3:return[4,this.Rv.bd()];case 4:return r.sent(),[2]}}))}))},t.prototype.yd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Rv.yd(!0)]);case 1:return o.sent(),i=this.Fv.Ld(),[4,this.ow(i.tt())];case 2:for(e=o.sent(),n=0,r=e;n<r.length;n++)this.Rv.listen(r[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],s=Promise.resolve(),M(this.xv,(function(t,e){a.Fv.Hd(t)?i.push(t):s=s.then((function(){return a.Jv(t),a.zh.dh(t,!0)})),a.Rv.nd(t)})),[4,s]);case 4:return o.sent(),[4,this.ow(i)];case 5:return o.sent(),this.hw(),[4,this.Rv.yd(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.hw=function(){var t=this;M(this.Lv,(function(e){t.Rv.nd(e)})),this.qv.ku(),this.Lv=[],this.jv=new dt(ht.G)},t.prototype.ow=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,l,u,c,h,d,f,p;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(a=void 0,(l=this.xv[s=i[r]])&&0!==l.length?[4,this.zh.dh(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.zh.hh(l[0].Yn())];case 3:a=o.sent(),u=0,c=l,o.label=4;case 4:return u<c.length?(v(!!(d=this.Uv.get(h=c[u])),"No query view found for "+h),[4,this.Kv(d)]):[3,7];case 5:(f=o.sent()).snapshot&&n.push(f.snapshot),o.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return v(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.zh.Th(s)];case 9:return v(!!(p=o.sent()),"Target for id "+s+" not found"),[4,this.zh.hh(p)];case 10:return a=o.sent(),[4,this.zv(this.cw(p),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(a),o.label=13;case 13:return r++,[3,1];case 14:return this.Vv.kf(n),[2,e]}}))}))},t.prototype.cw=function(t){return new ie(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.gh=function(){return this.zh.gh()},t.prototype.hv=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.xv[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.zh.Eh()];case 2:return r=o.sent(),i=Be.Pi(t,"current"===e),[4,this.Xv(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.zh.dh(t,!0)];case 5:return o.sent(),this.Jv(t,n),[3,7];case 6:y("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.cv=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,l,u,c,h,d=this;return o.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,f.label=1;case 1:return n<r.length?(v(!this.xv[h=r[n]],"Trying to add an already active target"),[4,this.zh.Th(h)]):[3,6];case 2:return v(!!(i=f.sent()),"Query data for active target "+h+" not found"),[4,this.zh.hh(i)];case 3:return s=f.sent(),[4,this.zv(this.cw(i),s.targetId,!1)];case 4:f.sent(),this.Rv.listen(s),f.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return l.xv[t]?[4,l.zh.dh(t,!1).then((function(){d.Rv.nd(t),d.Jv(t)})).catch(Gn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},l=this,u=0,c=e,f.label=7;case 7:return u<c.length?[5,a(h=c[u])]:[3,10];case 8:f.sent(),f.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.zh.yh(!0),this.Rv.enableNetwork()},t.prototype.disableNetwork=function(){return this.zh.yh(!1),this.Rv.disableNetwork()},t.prototype.be=function(t){var e=this.Lv[t];if(e&&e.Ov)return Le().add(e.key);var n=Le(),r=this.xv[t];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Uv.get(s);v(!!a,"No query view found for "+s),n=n.Mt(a.view.mv)}return n},t}(),ji=function(){this.aw=null,this.targetId=0,this.listeners=[]},Bi=function(){function t(t){this.rd=t,this.fw=new Sn((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.lw=new Set,this.rd.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.fw.get(e);return r||(n=!0,r=new ji,this.fw.set(e,r)),r.listeners.push(t),v(!t.Tv(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.aw&&t.dw(r.aw)&&this.vw(),n?this.rd.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){return n=!1,(r=this.fw.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.fw.delete(e),[2,this.rd.nd(e)]):[2]}))}))},t.prototype.kf=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.fw.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].dw(i)&&(e=!0);o.aw=i}}e&&this.vw()},t.prototype.ew=function(t,e){var n=this.fw.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.fw.delete(t)},t.prototype.$v=function(t){this.onlineState=t;var e=!1;this.fw.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Tv(t)&&(e=!0)})),e&&this.vw()},t.prototype.ww=function(t){this.lw.add(t),t.next()},t.prototype.mw=function(t){this.lw.delete(t)},t.prototype.vw=function(){this.lw.forEach((function(t){t.next()}))},t}(),qi=function(){function t(t,e,n){this.query=t,this.pw=e,this.gw=!1,this.bw=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.dw=function(t){if(v(t.docChanges.length>0||t.Ti,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new je(t.query,t.docs,t._i,e,t.Ii,t.fromCache,t.Ti,!0)}var o=!1;return this.gw?this.yw(t)&&(this.pw.next(t),o=!0):this._w(t,this.onlineState)&&(this.Iw(t),o=!0),this.bw=t,o},t.prototype.onError=function(t){this.pw.error(t)},t.prototype.Tv=function(t){this.onlineState=t;var e=!1;return this.bw&&!this.gw&&this._w(this.bw,t)&&(this.Iw(this.bw),e=!0),e},t.prototype._w=function(t,e){return v(!this.gw,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.Tw&&"Offline"!==e?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.J()||"Offline"===e)},t.prototype.yw=function(t){return t.docChanges.length>0||!!(t.Ti||this.bw&&this.bw.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Iw=function(t){v(!this.gw,"Trying to raise initial events for second time"),t=je.Di(t.query,t.docs,t.Ii,t.fromCache),this.gw=!0,this.pw.next(t)},t}(),Hi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.Xc=function(){return Qn.jh(this.cacheSizeBytes)},t}(),zi=function(){},Gi=function(){function t(t,e,n,r){this.platform=t,this.Ew=e,this.credentials=n,this.Qr=r,this.clientId=b.u()}return t.prototype.start=function(t){var e=this;this.Dw();var n=new dn,r=new dn,i=!1;return this.credentials.T((function(o){i?e.Qr.$r((function(){return e.bd(o)})):(i=!0,e.Sw(t,r,o).then((function(t){return e.Rw(o,t)})).then(n.resolve,n.reject))})),this.Qr.$r((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.Dw(),this.Qr.enqueue((function(){return t.rd.enableNetwork()}))},t.prototype.Sw=function(t,e,n){var r=this;return t instanceof Hi?this.Cw(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.Aw(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.Pw()})):(e.resolve(),this.Pw())},t.prototype.Aw=function(t){return t instanceof k?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Dw=function(){if(this.Qr.uu)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Cw=function(t,e){var n=this,r=Lr.Ia(this.Ew),i=new rn(this.Ew.s,{Te:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,s;return o.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Ri.cs(this.platform))throw new k(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.Xc(),this.Fv=e.synchronizeTabs?new Ri(this.Qr,this.platform,r,this.clientId,t):new Oi,[4,Lr.Yc({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,Lc:this.Qr,serializer:i,Xc:n,qc:this.Fv})];case 1:return s=o.sent(),this.persistence=s,[2,s.As.Wh]}}))}))}))},t.prototype.Pw=function(){return this.persistence=zr.Wa(this.clientId),this.Fv=new Oi,Promise.resolve(null)},t.prototype.Rw=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.kw(this.Ew).then((function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,i,s,a,l,u=this;return o.__generator(this,(function(c){switch(c.label){case 0:return n=new jr,this.zh=new zn(this.persistence,n,t),[4,this.zh.start()];case 1:return c.sent(),e&&(this.Nw=new Yn(e,this.Qr,this.zh)),i=this.platform.Ow(),s=this.platform.Fw(this.Ew.s),a=new Zr(this.Qr,r,this.credentials,s),l=function(t){return u.rd.Tv(t,1)},this.Rv=new Ei(this.zh,a,this.Qr,(function(t){return u.rd.Tv(t,0)}),i),this.rd=new Vi(this.zh,this.Rv,this.Fv,t),this.Fv.El=l,this.Rv.rd=this.rd,this.Fv.rd=this.rd,this.Vw=new Bi(this.rd),[4,this.Fv.start()];case 2:return c.sent(),[4,this.Rv.start()];case 3:return c.sent(),[4,this.persistence.ra((function(t){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.rd.yd(t)];case 1:return e.sent(),this.Nw&&(t&&!this.Nw.Co?this.Nw.start():t||this.Nw.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.ua((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.bd=function(t){return this.Qr.du(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.rd.bd(t)},t.prototype.disableNetwork=function(){var t=this;return this.Dw(),this.Qr.enqueue((function(){return t.rd.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Qr.au((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Nw&&this.Nw.stop(),[4,this.Rv.shutdown()];case 1:return t.sent(),[4,this.Fv.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.D(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Dw();var e=new dn;return this.Qr.$r((function(){return t.rd.nw(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Dw();var i=new qi(t,e,n);return this.Qr.$r((function(){return r.Vw.listen(i)})),i},t.prototype.nd=function(t){var e=this;this.Uw||this.Qr.$r((function(){return e.Vw.nd(t)}))},t.prototype.xw=function(t){var e=this;return this.Dw(),this.Qr.enqueue((function(){return e.zh.oh(t)})).then((function(t){if(t instanceof Xt)return t;if(t instanceof Zt)return null;throw new k(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.jw=function(t){var e=this;return this.Dw(),this.Qr.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.zh.vh(t,!0)];case 1:return e=i.sent(),n=new Li(t,e.mh),r=n.pv(e.documents),[2,n.es(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.Dw();var n=new dn;return this.Qr.$r((function(){return e.rd.write(t,n)})),n.promise},t.prototype.s=function(){return this.Ew.s},t.prototype.ww=function(t){var e=this;this.Dw(),this.Qr.$r((function(){return e.Vw.ww(t),Promise.resolve()}))},t.prototype.mw=function(t){this.Uw||this.Vw.mw(t)},Object.defineProperty(t.prototype,"Uw",{get:function(){return this.Qr.uu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Dw();var n=new dn;return this.Qr.$r((function(){return e.rd.runTransaction(e.Qr,t,n),Promise.resolve()})),n.promise},t}(),Wi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Lw(this.observer.next,t)},t.prototype.error=function(t){this.Lw(this.observer.error,t)},t.prototype.qw=function(){this.muted=!0},t.prototype.Lw=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function $i(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ki=Qn.Bh,Qi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new k(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else G("settings","non-empty string","host",t.host),this.host=t.host,W("settings","boolean","ssl",t.ssl),this.ssl=L(t.ssl,!0);if(J("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),W("settings","object","credentials",t.credentials),this.credentials=t.credentials,W("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=L(t.timestampsInSnapshots,!0),W("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Qn.Qh;else{if(t.cacheSizeBytes!==Ki&&t.cacheSizeBytes<Qn.Mh)throw new k(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qn.Mh);this.cacheSizeBytes=t.cacheSizeBytes}W("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Yi=function(){function t(e,n){var r=this;if(this.Bw=null,this.Mw=new pn,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Qw(),[4,this.Gw.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this.Bw=i,this.Ww=t.zw(i),this.Kw=i.name,this.Hw=new N(n)}else{var s=e;if(!s.projectId)throw new k(I.INVALID_ARGUMENT,"Must provide projectId");this.Ww=new x(s.projectId,s.database),this.Kw="[DEFAULT]",this.Hw=new A}this.Jw=new Qi({}),this.Yw=this.Xw(this.Ww)}return t.prototype.settings=function(t){if(j("Firestore.settings",arguments,1),H("Firestore.settings","object",1,t),P(t,"persistence"))throw new k(I.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Qi(t);if(this.Gw&&!this.Jw.isEqual(e))throw new k(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Jw=e,void 0!==e.credentials&&(this.Hw=D(e.credentials))},t.prototype.enableNetwork=function(){return this.Qw(),this.Gw.enableNetwork()},t.prototype.disableNetwork=function(){return this.Qw(),this.Gw.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.Gw)throw new k(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=L(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.$w(new Hi(this.Jw.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Lr.Ia(this.Zw()),n=new dn;return this.Mw.su((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this.Gw&&!this.Gw.Uw)throw new k(I.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Lr.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"tm",{get:function(){return this.Qw(),this.Gw.Uw},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Qw(),this.Gw.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Qw(),$i(t)?this.nm(t):(H("Firestore.onSnapshotsInSync","function",1,t),this.nm({next:t}))},t.prototype.nm=function(t){var e=this,n=new Wi({next:function(){t.next&&t.next()},error:function(t){throw y("Uncaught Error in onSnapshotsInSync")}});return this.Gw.ww(n),function(){n.qw(),e.Gw.mw(n)}},t.prototype.Qw=function(){return this.Gw||this.$w(new zi),this.Gw},t.prototype.Zw=function(){return new S(this.Ww,this.Kw,this.Jw.host,this.Jw.ssl,this.Jw.forceLongPolling)},t.prototype.$w=function(t){v(!!this.Jw.host,"FirestoreSettings.host is not set"),v(!this.Gw,"configureClient() called multiple times");var e=this.Zw();return this.Gw=new Gi(on.t(),e,this.Hw,this.Mw),this.Gw.start(t)},t.prototype.Xw=function(t){return new pi((function(e){if(e instanceof Ji){var n=t,r=e.firestore.Ww;if(!r.isEqual(n))throw new k(I.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new fi(t,e.im)}return e}))},t.zw=function(t){var e=t.options;if(!P(e,"projectId"))throw new k(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new k(I.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new x(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Bw)throw new k(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bw},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return j("Firestore.collection",arguments,1),H("Firestore.collection","non-empty string",1,t),this.Qw(),new oo(lt.it(t),this)},t.prototype.doc=function(t){return j("Firestore.doc",arguments,1),H("Firestore.doc","non-empty string",1,t),this.Qw(),Ji.em(lt.it(t),this)},t.prototype.collectionGroup=function(t){if(j("Firestore.collectionGroup",arguments,1),H("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new k(I.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Qw(),new ro(new ie(lt.et,t),this)},t.prototype.runTransaction=function(t){var e=this;return j("Firestore.runTransaction",arguments,1),H("Firestore.runTransaction","function",1,t),this.Qw().transaction((function(n){return t(new Xi(e,n))}))},t.prototype.batch=function(){return this.Qw(),new Zi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case 0:return"debug";case 1:return"error";case 2:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(j("Firestore.setLogLevel",arguments,1),H("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":f(0);break;case"error":f(1);break;case"silent":f(2);break;default:throw new k(I.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.rm=function(){return this.Jw.timestampsInSnapshots},t}(),Xi=function(){function t(t,e){this.um=t,this.sm=e}return t.prototype.get=function(t){var e=this;j("Transaction.get",arguments,1);var n=uo("Transaction.get",t,this.um);return this.sm.lookup([n.im]).then((function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof Zt)return new eo(e.um,n.im,null,!1,!1,n.om);if(r instanceof Xt)return new eo(e.um,n.im,r,!1,!1,n.om);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){q("Transaction.set",arguments,2,3);var r=uo("Transaction.set",t,this.um);n=so("Transaction.set",n);var i=ho(r.om,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.um.Yw.sl(s,o,n.mergeFields):this.um.Yw.rl(s,o);return this.sm.set(r.im,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Jr?(B("Transaction.update",arguments,3),r=uo("Transaction.update",t,this.um),i=this.um.Yw.cl("Transaction.update",e,n,o)):(j("Transaction.update",arguments,2),r=uo("Transaction.update",t,this.um),i=this.um.Yw.ol("Transaction.update",e)),this.sm.update(r.im,i),this},t.prototype.delete=function(t){j("Transaction.delete",arguments,1);var e=uo("Transaction.delete",t,this.um);return this.sm.delete(e.im),this},t}(),Zi=function(){function t(t){this.um=t,this.hm=[],this.cm=!1}return t.prototype.set=function(t,e,n){q("WriteBatch.set",arguments,2,3),this.am();var r=uo("WriteBatch.set",t,this.um);n=so("WriteBatch.set",n);var i=ho(r.om,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.um.Yw.sl(s,o,n.mergeFields):this.um.Yw.rl(s,o);return this.hm=this.hm.concat(a.Hf(r.im,It.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.am(),"string"==typeof e||e instanceof Jr?(B("WriteBatch.update",arguments,3),r=uo("WriteBatch.update",t,this.um),i=this.um.Yw.cl("WriteBatch.update",e,n,o)):(j("WriteBatch.update",arguments,2),r=uo("WriteBatch.update",t,this.um),i=this.um.Yw.ol("WriteBatch.update",e)),this.hm=this.hm.concat(i.Hf(r.im,It.exists(!0))),this},t.prototype.delete=function(t){j("WriteBatch.delete",arguments,1),this.am();var e=uo("WriteBatch.delete",t,this.um);return this.hm=this.hm.concat(new Rt(e.im,It.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.am(),this.cm=!0,this.hm.length>0?[2,this.um.Qw().write(this.hm)]:[2]}))}))},t.prototype.am=function(){if(this.cm)throw new k(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ji=function(){function t(t,e,n){this.im=t,this.firestore=e,this.om=n,this.Gw=this.firestore.Qw()}return t.em=function(e,n,r){if(e.length%2!=0)throw new k(I.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.nt()+" has "+e.length);return new t(new ht(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.im.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new oo(this.im.path.H(),this.firestore,this.om)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.im.path.nt()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(j("DocumentReference.collection",arguments,1),H("DocumentReference.collection","non-empty string",1,t),!t)throw new k(I.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=lt.it(t);return new oo(this.im.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw tt("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.im.isEqual(e.im)&&this.om===e.om},t.prototype.set=function(t,e){q("DocumentReference.set",arguments,1,2),e=so("DocumentReference.set",e);var n=ho(this.om,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.Yw.sl(i,r,e.mergeFields):this.firestore.Yw.rl(i,r);return this.Gw.write(o.Hf(this.im,It.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Jr?(B("DocumentReference.update",arguments,2),n=this.firestore.Yw.cl("DocumentReference.update",t,e,r)):(j("DocumentReference.update",arguments,1),n=this.firestore.Yw.ol("DocumentReference.update",t)),this.Gw.write(n.Hf(this.im,It.exists(!0)))},t.prototype.delete=function(){return j("DocumentReference.delete",arguments,0),this.Gw.write([new Rt(this.im,It.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];q("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||$i(t[i])||(J("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),W("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return $i(t[i])?n=t[i]:(H("DocumentReference.onSnapshot","function",i,t[i]),z("DocumentReference.onSnapshot","function",i+1,t[i+1]),z("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.fm(o,n)},t.prototype.fm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Wi({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.im);e.next(new eo(n.firestore,n.im,r,t.fromCache,t.hasPendingWrites,n.om))}},error:r}),o=this.Gw.listen(ie.jn(this.im.path),i,t);return function(){i.qw(),n.Gw.nd(o)}},t.prototype.get=function(t){var e=this;return q("DocumentReference.get",arguments,0,1),lo("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Qw().xw(e.im).then((function(t){n(new eo(e.firestore,e.im,t,!0,t instanceof Xt&&t.en,e.om))}),r):e.lm(n,r,t)}))},t.prototype.lm=function(t,e,n){var r=this.fm({includeMetadataChanges:!0,Tw:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new k(I.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new k(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.im,this.firestore,e)},t}(),to=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),eo=function(){function t(t,e,n,r,i,o){this.um=t,this.im=e,this.dm=n,this.vm=r,this.wm=i,this.om=o}return t.prototype.data=function(t){if(q("DocumentSnapshot.data",arguments,0,1),t=ao("DocumentSnapshot.data",t),this.dm){if(this.om){var e=new no(this.um,this.im,this.dm,this.vm,this.wm);return this.om.fromFirestore(e,t)}return this.mm(this.dm.data(),Dt.mn(t,this.um.rm()))}},t.prototype.get=function(t,e){if(q("DocumentSnapshot.get",arguments,1,2),e=ao("DocumentSnapshot.get",e),this.dm){var n=this.dm.data().field(yi("DocumentSnapshot.get",t));if(null!==n)return this.pm(n,Dt.mn(e,this.um.rm()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.im.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ji(this.im,this.um,this.om)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.dm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new to(this.wm,this.vm)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw tt("isEqual","DocumentSnapshot",1,e);return this.um===e.um&&this.vm===e.vm&&this.im.isEqual(e.im)&&(null===this.dm?null===e.dm:this.dm.isEqual(e.dm))&&this.om===e.om},t.prototype.mm=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.pm(i,e)})),r},t.prototype.pm=function(t,e){if(t instanceof $t)return this.mm(t,e);if(t instanceof Qt)return this.gm(t,e);if(t instanceof Gt){var n=t.value(e),r=this.um.Qw().s();return t.s.isEqual(r)||m("Document "+this.im.path+" contains a document reference within a different database ("+t.s.projectId+"/"+t.s.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ji(n,this.um,this.om)}return t.value(e)},t.prototype.gm=function(t,e){var n=this;return t.Ht.map((function(t){return n.pm(t,e)}))},t}(),no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(eo),ro=function(){function t(t,e,n){this.bm=t,this.firestore=e,this.om=n}return t.prototype.where=function(e,n,r){j("Query.where",arguments,3),Z("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];K("Query.where",o,2,n);var s=yi("Query.where",e),a=oe.it(n);if(s.ut()){if(a===oe.ARRAY_CONTAINS||a===oe.ARRAY_CONTAINS_ANY)throw new k(I.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===oe.IN){this.ym(r,a);for(var l=[],u=0,c=r;u<c.length;u++){var h=c[u];l.push(this._m(h))}i=new Qt(l)}else i=this._m(r)}else a!==oe.IN&&a!==oe.ARRAY_CONTAINS_ANY||this.ym(r,a),i=this.firestore.Yw.al("Query.where",r,a===oe.IN);var d=se.create(s,a,i);return this.Im(d),new t(this.bm.Bn(d),this.firestore,this.om)},t.prototype.orderBy=function(e,n){var r;if(q("Query.orderBy",arguments,1,2),z("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=de.ASCENDING;else{if("desc"!==n)throw new k(I.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=de.DESCENDING}if(null!==this.bm.startAt)throw new k(I.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.bm.endAt)throw new k(I.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=yi("Query.orderBy",e),o=new pe(i,r);return this.Tm(o),new t(this.bm.Qn(o),this.firestore,this.om)},t.prototype.limit=function(e){return j("Query.limit",arguments,1),H("Query.limit","number",1,e),et("Query.limit",1,e),new t(this.bm.Gn(e),this.firestore,this.om)},t.prototype.limitToLast=function(e){return j("Query.limitToLast",arguments,1),H("Query.limitToLast","number",1,e),et("Query.limitToLast",1,e),new t(this.bm.Wn(e),this.firestore,this.om)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.startAt",arguments,1);var i=this.Em("Query.startAt",e,n,!0);return new t(this.bm.zn(i),this.firestore,this.om)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.startAfter",arguments,1);var i=this.Em("Query.startAfter",e,n,!1);return new t(this.bm.zn(i),this.firestore,this.om)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.endBefore",arguments,1);var i=this.Em("Query.endBefore",e,n,!0);return new t(this.bm.Kn(i),this.firestore,this.om)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.endAt",arguments,1);var i=this.Em("Query.endAt",e,n,!1);return new t(this.bm.Kn(i),this.firestore,this.om)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw tt("isEqual","Query",1,e);return this.firestore===e.firestore&&this.bm.isEqual(e.bm)},t.prototype.withConverter=function(e){return new t(this.bm,this.firestore,e)},t.prototype.Em=function(t,e,n,r){if(Z(t,1,e),e instanceof eo){if(n.length>0)throw new k(I.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new k(I.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Dm(t,i.dm,r)}var o=[e].concat(n);return this.Sm(t,o,r)},t.prototype.Dm=function(t,e,n){for(var r=[],i=0,o=this.bm.orderBy;i<o.length;i++){var s=o[i];if(s.field.ut())r.push(new Gt(this.firestore.Ww,e.key));else{var a=e.field(s.field);if(a instanceof Ht)throw new k(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=s.field.nt();throw new k(I.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(a)}}return new fe(r,n)},t.prototype.Sm=function(t,e,n){var r=this.bm.On;if(e.length>r.length)throw new k(I.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.ut()){if("string"!=typeof s)throw new k(I.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.bm.ui()&&-1!==s.indexOf("/"))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.bm.path.child(lt.it(s));if(!ht.ht(a))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ht(a);i.push(new Gt(this.firestore.Ww,l))}else{var u=this.firestore.Yw.al(t,s);i.push(u)}}return new fe(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];q("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||$i(t[i])||(J("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),W("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),$i(t[i])?n=t[i]:(H("Query.onSnapshot","function",i,t[i]),z("Query.onSnapshot","function",i+1,t[i+1]),z("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Rm(this.bm),this.fm(r,n)},t.prototype.fm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Wi({next:function(t){e.next&&e.next(new io(n.firestore,n.bm,t,n.om))},error:r}),o=this.firestore.Qw(),s=o.listen(this.bm,i,t);return function(){i.qw(),o.nd(s)}},t.prototype.Rm=function(t){if(t.ei()&&0===t.On.length)throw new k(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return q("Query.get",arguments,0,1),lo("Query.get",t),this.Rm(this.bm),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Qw().jw(e.bm).then((function(t){n(new io(e.firestore,e.bm,t,e.om))}),r):e.lm(n,r,t)}))},t.prototype.lm=function(t,e,n){var r=this.fm({includeMetadataChanges:!0,Tw:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new k(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype._m=function(t){if("string"==typeof t){if(""===t)throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.bm.ui()&&-1!==t.indexOf("/"))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.bm.path.child(lt.it(t));if(!ht.ht(e))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Gt(this.firestore.Ww,new ht(e))}if(t instanceof Ji)return new Gt(this.firestore.Ww,t.im);throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+X(t)+".")},t.prototype.ym=function(t,e){if(!Array.isArray(t)||0===t.length)throw new k(I.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new k(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new k(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new k(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Im=function(t){if(t instanceof se){var e=[oe.ARRAY_CONTAINS,oe.ARRAY_CONTAINS_ANY],n=[oe.IN,oe.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Mn()){var o=this.bm.Ln();if(null!==o&&!o.isEqual(t.field))throw new k(I.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.bm.qn();null!==s&&this.Cm(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.bm.ri(n)),null===a&&r&&(a=this.bm.ri(e)),null!=a)throw new k(I.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.Tm=function(t){if(null===this.bm.qn()){var e=this.bm.Ln();null!==e&&this.Cm(e,t.field)}},t.prototype.Cm=function(t,e){if(!e.isEqual(t))throw new k(I.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),io=function(){function t(t,e,n,r){this.um=t,this.Am=e,this.Pm=n,this.om=r,this.km=null,this.Nm=null,this.metadata=new to(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pm.docs.J()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pm.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;q("QuerySnapshot.forEach",arguments,1,2),H("QuerySnapshot.forEach","function",1,t),this.Pm.docs.forEach((function(r){t.call(e,n.Om(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ro(this.Am,this.um,this.om)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(J("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),W("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pm.Ei)throw new k(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.km&&this.Nm===e||(this.km=function(t,e,n,r){if(n._i.J()){var i,o=0;return n.docChanges.map((function(e){var s=new no(t,e.doc.key,e.doc,n.fromCache,n.Ii.has(e.doc.key),r);return v(0===e.type,"Invalid event type for first snapshot"),v(!i||n.query.Xn(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n._i;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new no(t,e.doc.key,e.doc,n.fromCache,n.Ii.has(e.doc.key),r),o=-1,a=-1;return 0!==e.type&&(v((o=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),1!==e.type&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:co(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this.um,e,this.Pm,this.om),this.Nm=e),this.km},t.prototype.isEqual=function(e){if(!(e instanceof t))throw tt("isEqual","QuerySnapshot",1,e);return this.um===e.um&&this.Am.isEqual(e.Am)&&this.Pm.isEqual(e.Pm)&&this.om===e.om},t.prototype.Om=function(t){return new no(this.um,t.key,t,this.metadata.fromCache,this.Pm.Ii.has(t.key),this.om)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(io.prototype.docChanges,t,{get:function(){return function(){throw new k(I.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var oo=function(t){function e(e,n,r){var i=t.call(this,ie.jn(e),n,r)||this;if(i.Fm=e,e.length%2!=1)throw new k(I.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.nt()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.bm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.bm.path.H();return t.J()?null:new Ji(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.bm.path.nt()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(q("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.u()),H("CollectionReference.doc","non-empty string",1,t),""===t)throw new k(I.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=lt.it(t);return Ji.em(this.bm.path.child(e),this.firestore,this.om)},e.prototype.add=function(t){j("CollectionReference.add",arguments,1);var e=this.om?this.om.toFirestore(t):t;H("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Fm,this.firestore,t)},e}(ro);function so(t,e){if(void 0===e)return{merge:!1};if(J(t,e,["merge","mergeFields"]),W(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+X(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+X(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Jr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new k(I.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ao(t,e){return void 0===e?{}:(J(t,e,["serverTimestamps"]),$(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function lo(t,e){z(t,"object",1,e),e&&(J(t,e,["source"]),$(t,0,"source",e.source,["default","server","cache"]))}function uo(t,e,n){if(e instanceof Ji){if(e.firestore!==n)throw new k(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw tt(t,"DocumentReference",1,e)}function co(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y("Unknown change type: "+t)}}function ho(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var fo=sn(Yi,"Use firebase.firestore() instead."),po=sn(Xi,"Use firebase.firestore().runTransaction() instead."),mo=sn(Zi,"Use firebase.firestore().batch() instead."),go=sn(Ji,"Use firebase.firestore().doc() instead."),yo=sn(eo),vo=sn(no),bo=sn(ro),_o=sn(io),wo=sn(oo,"Use firebase.firestore().collection() instead."),Eo={Firestore:fo,GeoPoint:it,Timestamp:ot,Blob:cn,Transaction:po,WriteBatch:mo,DocumentReference:go,DocumentSnapshot:yo,Query:bo,QueryDocumentSnapshot:vo,QuerySnapshot:_o,CollectionReference:wo,FieldPath:Jr,FieldValue:ai,setLogLevel:Yi.setLogLevel,CACHE_SIZE_UNLIMITED:Ki},So=function(){function t(){}return t.prototype.xl=function(t){},t.prototype.shutdown=function(){},t}(),xo=function(){function t(){var t=this;this.Vm=function(){return t.Um()},this.xm=function(){return t.jm()},this.Lm=[],this.qm()}return t.prototype.xl=function(t){this.Lm.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Vm),window.removeEventListener("offline",this.xm)},t.prototype.qm=function(){window.addEventListener("online",this.Vm),window.addEventListener("offline",this.xm)},t.prototype.Um=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Lm;t<e.length;t++)(0,e[t])(0)},t.prototype.jm=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Lm;t<e.length;t++)(0,e[t])(1)},t.cs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Co=function(){function t(t){this.Bm=t.Bm,this.Mm=t.Mm}return t.prototype.Af=function(t){v(!this.Qm,"Called onOpen on stream twice!"),this.Qm=t},t.prototype.Ef=function(t){v(!this.Gm,"Called onClose on stream twice!"),this.Gm=t},t.prototype.onMessage=function(t){v(!this.Wm,"Called onMessage on stream twice!"),this.Wm=t},t.prototype.close=function(){this.Mm()},t.prototype.send=function(t){this.Bm(t)},t.prototype.zm=function(){v(void 0!==this.Qm,"Cannot call onOpen because no callback was set"),this.Qm()},t.prototype.Km=function(t){v(void 0!==this.Gm,"Cannot call onClose because no callback was set"),this.Gm(t)},t.prototype.Hm=function(t){v(void 0!==this.Wm,"Cannot call onMessage because no callback was set"),this.Wm(t)},t}(),Io={BatchGetDocuments:"batchGet",Commit:"commit"},ko="gl-js/ fire/"+c,To=function(){function t(t){this.s=t.s,this.Jm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Ym=function(t,e){if(e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n]);t["X-Goog-Api-Client"]=ko},t.prototype.Bf=function(t,e,n){var r=this,i=this.Xm(t);return new Promise((function(s,a){var l=new u.XhrIo;l.listenOnce(u.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=l.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),s(e);break;case u.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),a(new k(I.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=l.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0){var r=l.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(I).indexOf(o)>=0?o:I.UNKNOWN);a(new k(i,r.message))}else a(new k(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else p("Connection",'RPC "'+t+'" failed'),a(new k(I.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{p("Connection",'RPC "'+t+'" completed.')}var o}));var c=o.__assign({},e);delete c.database;var h=JSON.stringify(c);p("Connection","XHR sending: ",i+" "+h);var d={"Content-Type":"text/plain"};r.Ym(d,n),l.send(i,"POST",h,d,15)}))},t.prototype.Mf=function(t,e,n){return this.Bf(t,e,n)},t.prototype.Pf=function(t,e){var n=[this.Jm,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Ym(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),l=!1,c=!1,h=new Co({Bm:function(t){c?p("Connection","Not sending because WebChannel is closed:",t):(l||(p("Connection","Opening WebChannel transport."),s.open(),l=!0),p("Connection","WebChannel sending:",t),s.send(t))},Mm:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){c||p("Connection","WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){c||(c=!0,p("Connection","WebChannel transport closed"),h.Km())})),d(u.WebChannel.EventType.ERROR,(function(t){c||(c=!0,p("Connection","WebChannel transport errored:",t),h.Km(new k(I.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];v(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=_e[t];if(void 0!==e)return Ce(e)}(i),a=r.message;void 0===o&&(o=I.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.Km(new k(o,a)),s.close()}else p("Connection","WebChannel received:",n),h.Hm(n)}})),setTimeout((function(){h.zm()}),0),h},t.prototype.Xm=function(t){var e=Io[t];return v(void 0!==e,"Unknown REST mapping for: "+t),this.Jm+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),Ao=function(){function t(){this.xr="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.kw=function(t){return Promise.resolve(new To(t))},t.prototype.Ow=function(){return xo.cs()?new xo:new So},t.prototype.Fw=function(t){return new rn(t,{Te:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();function No(t){(function(t){var e;t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new Yi(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((v((e=Eo)&&"object"==typeof e,"shallowCopy() expects object parameter."),o.__assign({},e))))})(t),t.registerVersion("@firebase/firestore","1.12.2")}on.Ur(new Ao),No(i),e.__PRIVATE_registerFirestore=No},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],l=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService(l);a.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.12.0","app"),t.exports=i},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.ErrorFactory("app","Firebase",u),h="[DEFAULT]",d=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new l.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=h),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=h),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw c.create("duplicate-app",{appName:a});var l=new t(n,o,r);return e[a]=l,l},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&l.push("and"),s&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(l.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.12.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||h))throw c.create("no-app",{appName:t});return e[t]}function u(a){var l,u,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){l={error:g}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var b=m;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.0",void 0),t.registerVersion("fire-js","")}(b),e.default=b,e.firebase=b},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return lr})),n.d(e,"WebChannel",(function(){return ur})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var A,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var D=s.navigator;if(D){var P=D.userAgent;if(P){A=P;break t}}A=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=c;var j,B,q=R(A,"Opera"),H=R(A,"Trident")||R(A,"MSIE"),z=R(A,"Edge"),G=z||H,W=R(A,"Gecko")&&!(R(A.toLowerCase(),"webkit")&&!R(A,"Edge"))&&!(R(A,"Trident")||R(A,"MSIE"))&&!R(A,"Edge"),$=R(A.toLowerCase(),"webkit")&&!R(A,"Edge");function K(){var t=s.document;return t?t.documentMode:void 0}t:{var Q="",Y=(B=A,W?/rv:([^\);]+)(\)|;)/.exec(B):z?/Edge\/([\d\.]+)/.exec(B):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):$?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&(Q=Y?Y[1]:""),H){var X=K();if(null!=X&&X>parseFloat(Q)){j=String(X);break t}}j=Q}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(j)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;Z=et&&H?K()||("CSS1Compat"==et.compatMode?parseInt(j,10):5):void 0;var nt=!H||9<=Number(Z),rt=H&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},E(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=xt(r),e&&e[lt]?e.Aa(n,r,p(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[lt]?t.za(e,n,p(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=Et(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(ft(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function _t(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||u("window.event"),this))}function Et(t){return(t=t[mt])instanceof dt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==h(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Ct(){S.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,l=s.da||s.src;s.Z&&ft(t.c,s),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Ia}E(Ct,S),Ct.prototype[lt]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=xt(r),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=It(s,r,!0,t)&&i}if(i=It(s=t.a=n,r,!0,t)&&i,i=It(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Ct.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=s.JSON.stringify;function Tt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}Tt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nt,Rt=new Tt((function(){return new Dt}),(function(t){t.reset()}));function Ot(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function Pt(t){s.setTimeout((function(){throw t}),0)}function Lt(t,e){Nt||function(){var t=s.Promise.resolve(void 0);Nt=function(){t.then(Ut)}}(),Mt||(Nt(),Mt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Ft=new At;function Ut(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Rt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Vt(t,e){Ct.call(this),this.b=t||1,this.a=e||s,this.f=b(this.gb,this),this.g=w()}function jt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function qt(t,e,n){S.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.$a,this),this.a=[]}function Ht(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function zt(t){S.call(this),this.b=t,this.a={}}E(Vt,Ct),(r=Vt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(jt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Vt.N.G.call(this),jt(this),delete this.a},E(qt,S),(r=qt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:Ht(this)},r.G=function(){qt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,Ht(this))},E(zt,S);var Gt=[];function Wt(t,e,n,r){d(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function $t(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function Kt(){}zt.prototype.G=function(){zt.N.G.call(this),$t(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=new Ct;function Yt(t){ot.call(this,"serverreachability",t)}function Xt(t){Qt.dispatchEvent(new Yt(Qt,t))}function Zt(t){ot.call(this,"statevent",t)}function Jt(t){Qt.dispatchEvent(new Zt(Qt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}E(Yt,ot),E(Zt,ot),E(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function le(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new zt(this),this.O=de,this.P=new Vt(t=G?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(le,ot),E(ue,ot),E(ce,ie),se=new ce;var de=45e3,fe={},pe={};function me(t,e,n){t.F=1,t.f=je(De(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,r){t.F=1,t.f=je(De(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),_e(t),t.D=De(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?M(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==pe){4==e&&(t.c=4,Jt(14),r=!1);break}if(i==fe){t.c=4,Jt(15),r=!1;break}Ce(t,i)}4==e&&0==n.length&&(t.c=1,Jt(16),r=!1),t.b=t.b&&r,r||(xe(t),Se(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.ab,t),e)}function Ee(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Ca()||t.m||t.g.na(t)}function xe(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,jt(t.P),$t(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ce(t,e){try{t.g.Fa(t,e),Xt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||a(t))C(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(f(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t,e){Ne(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Dn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!G&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Pn(this.a,"X-HTTP-Initial-Response");if(s&&!T(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Jt(12),xe(this),Se(this);break t}this.s=!0,Ce(this,a)}this.H?(ve(this,e,o),G&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Ce(this,o),4==e&&xe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),xe(this),Se(this)}}}catch(l){}},r.bb=function(){if(this.a){var t=Dn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ve(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,xe(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Jt(17)),xe(this),this.c=2,Se(this)):we(this,this.R-t)},(r=ke.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},r.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Re=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Le(this,t.b),Me(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Re))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=Be(n[2]||""),Le(this,n[3]||"",!0),Me(this,n[4]),this.a=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new Qe(null,this.h))}function De(t){return new Oe(t)}function Pe(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.b=n?Be(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Qe?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,$e)),t.c=new Qe(e,t.h))}function Ue(t,e,n){t.c.set(e,n)}function Ve(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function je(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return a(t)?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,ze,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Ke)),t.join("")},Oe.prototype.resolve=function(t){var e=De(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Le(e,t.b):n=null!=t.i;var r=t.a;if(n)Me(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(R(i,"./")||R(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var ze=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,$e=/[#\?@]/g,Ke=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=en(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te(t.a,e))}function Ze(t,e){return Ye(t),e=en(t,e),Ne(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),k(n)),t.b+=n.length)}function tn(t){var e=new Qe;return e.c=t.c,t.a&&(e.a=new ke(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Wn(t.a,t,!1)):(Jt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ue(e,n,r),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new ke}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Qe.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Ze(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},E((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Qn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Qn(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!H||10<=Number(Z))&&(this.c=200,this.b.cancel(),Jt(11),Wn(this.a,this,!0))):(Jt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Wn(this.a,this,!0)):(Jt(10),Wn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,Qn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(R(e,"spdy")||R(e,"quic")||R(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function fn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ne(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ne(t.a.a.b,n)),n&&Te(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return C(t.a.C(),(function(t){e=e.concat(t.j)})),e}return k(t.c)}function vn(){}function bn(){this.a=new vn}function _n(t,e,n){var r=n||"";try{Ie(t,(function(t,n){var i=t;p(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var En=s.JSON.parse;function Sn(t){Ct.call(this),this.headers=new ke,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}E(Sn,Ct);var xn="",Cn=/^https?$/i,In=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function Tn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),Rn(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Nn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Dn(t)||2!=t.T()))if(t.l&&4==Dn(t))Bt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Dn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(Re)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}i=!Cn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Dn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.T()+"]",An(t)}}finally{Rn(t)}}}function Rn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Dn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ue(t,e,n),t}function Mn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Un(t),3==t.u){var e=t.P++,n=De(t.B);Ue(n,"SID",t.H),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=je(De(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Yn(t)}function Un(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),$n(t),t.b.cancel(),t.h&&(l(t.h)&&s.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new ln(t.Qa++,e)),3==t.u&&jn(t)}function jn(t){dn(t.b)||t.h||(t.h=!0,Lt(t.Ha,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=De(t.B);Ue(r,"SID",t.H),Ue(r,"RID",n),Ue(r,"AID",t.O),qn(t,r),t.g&&t.i&&Ln(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function qn(t,e){t.c&&Ie({},(function(t,n){Ue(e,n,t)}))}function Hn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=o))o=Math.max(0,i[l].b-100),a=!1;else try{_n(c,s,"req"+u+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function zn(t){t.a||t.l||(t.S=1,Lt(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ga,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),jn(t)}function $n(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Qn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.eb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Pe(n,"https"),je(n)),function(t,e){var n=new Kt;if(s.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Un(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof Oe?De(t):new Oe(t,void 0)}(n);if(""!=r.b)e&&Le(r,e+"."+r.b),Me(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Pe(i,t),e&&Le(i,e),n&&Me(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&L(t.V,(function(t,e){Ue(r,e,t)})),n=t.I,(e=t.j)&&n&&Ue(r,e,n),Ue(r,"VER",t.wa),qn(t,r),r}function Zn(){}function Jn(){if(H&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function tr(t,e){Ct.call(this),this.a=new Mn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void Tn(this,o)}t=n||"";var i=new ke(this.headers);r&&Ie(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=kn,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=x(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return H&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=Bt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Tn(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Rn(this,!0)),Sn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Nn(this):this.Za())},r.Za=function(){Nn(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(B){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Mn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hn(this,n,e),Ue(i=De(this.B),"RID",t),Ue(i,"CVER",22),this.o&&this.j&&Ue(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Ln(i,this.g,r),mn(this.b,n),this.W?(Ue(i,"$req",e),Ue(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=De(this.pa);Ue(t,"RID","rpc"),Ue(t,"SID",this.H),Ue(t,"CI",this.ia?"0":"1"),Ue(t,"AID",this.O),qn(this,t),Ue(t,"TYPE","xmlhttp"),this.g&&this.i&&Ln(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;$n(this),this.a.cancel(),this.a=null}Gn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Ya,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Qn(this,11)}else if((t.s||this.a==t)&&$n(this),!T(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ue(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),_e(r)),this.a=r):zn(this),0<this.f.length&&jn(this)}else"stop"!=r[0]&&"close"!=r[0]||Qn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Qn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),Jt(19))},r.na=function(t){var e=null;if(this.a==t){$n(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Qt.dispatchEvent(new te(Qt,t.l?t.l.length:0,e,this.A)),jn(this)):zn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(fn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(b(t.Ha,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Qn(this,5);break;case 4:Qn(this,10);break;case 3:Qn(this,6);break;default:Qn(this,2)}}},r.eb=function(t){Jt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Jn.prototype.a=function(t,e){return new tr(t,e)},E(tr,Ct),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Jt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Ln(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=kt(t),Vn(this.a,e)):Vn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},E(er,le),E(nr,ue),E(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Ct.prototype.listen=Ct.prototype.za,Sn.prototype.listenOnce=Sn.prototype.Aa,Sn.prototype.getLastError=Sn.prototype.Xa,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getResponseJson=Sn.prototype.Ua,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Sn},sr=or.createWebChannelTransport,ar=or.ErrorCode,lr=or.EventType,ur=or.WebChannel,cr=or.XhrIo;e.default=or},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(d){e=!0,t=d instanceof h?f(d.errors):[d]}if(l(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(f(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new m(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class g extends m{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(r((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function b(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[p])return t[p]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=E(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=E(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function E(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);const x=S;class C extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class I extends m{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new I(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class N extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const R=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},O=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=D(),L=t=>e=>{const n=t[P]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},M=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function U(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const V=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return M(t);if(F(t))return R(t);if(U(t))return O(t);if(t&&"function"==typeof t[P])return L(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function j(t,e,n,r,i=new N(t,n,r)){if(!i.closed)return V(e)(i)}class B extends m{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(t,e))}}class H{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new z(t,this.project,this.thisArg))}}class z extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function G(t,e){return new w(e?n=>{const r=new d;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:R(t))}function W(t,e){if(!e)return t instanceof w?t:new w(V(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:M(t))}(t,e);if(U(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:O(t))}(t,e);if(F(t))return G(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function $(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe($((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends B{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new N(this,void 0,void 0);this.destination.add(r),j(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(t){return t}function X(t=Number.POSITIVE_INFINITY){return $(Y,t)}function Z(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:X(e)(G(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new et(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class et extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class it extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ot(){return new k}function st(){return t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,rt);return r.source=e,r.subjectFactory=n,r}}(ot)(t))}const at="__parameters__";function lt(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(at)?t[at]:Object.defineProperty(t,at,{value:[]})[at];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const ut=lt("Inject",t=>({token:t})),ct=lt("Optional"),ht=lt("Self"),dt=lt("SkipSelf");var ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function pt(t){for(let e in t)if(t[e]===pt)return e;throw Error("Could not find renamed property on target object.")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gt(t){const e=t[yt];return e&&e.token===t?e:null}const yt=pt({ngInjectableDef:pt});function vt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const bt=pt({__forward_ref__:pt});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return vt(this())},t}function wt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(bt)&&e.__forward_ref__===_t?e():t}const Et="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,It=Et||Ct||St||xt;class kt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tt=new kt("INJECTOR",-1),At=new Object,Nt="ngTempTokenPath",Rt="ngTokenPath",Ot=/\n/gm,Dt="\u0275",Pt="__source",Lt=pt({provide:String,useValue:pt});let Mt,Ft=void 0;function Ut(t){const e=Ft;return Ft=t,e}function Vt(t,e=ft.Default){if(void 0===Ft)throw new Error("inject() must be called from an injection context");return null===Ft?function(t,e,n){const r=gt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ft.Optional)return null;throw new Error(`Injector: NOT_FOUND [${vt(t)}]`)}(t,0,e):Ft.get(t,e&ft.Optional?null:void 0,e)}function jt(t,e=ft.Default){return(Mt||Vt)(t,e)}const Bt=jt;class qt{get(t,e=At){if(e===At){const e=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Ht(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Dt?t.substr(2):t;let i=vt(e);if(e instanceof Array)i=e.map(vt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):vt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ot,"\n  ")}`}class zt{}class Gt{}function Wt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $t(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Kt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Qt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))(),Yt="ngDebugContext",Xt="ngOriginalError",Zt="ngErrorLogger";function Jt(t){return t[Yt]}function te(t){return t[Xt]}function ee(t,...e){t.error(...e)}class ne{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Zt]||ee}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Jt(t)?Jt(t):this._findContext(te(t)):null}_findOriginalError(t){let e=te(t);for(;e&&te(e);)e=te(e);return e}}let re=!0,ie=!1;function oe(){return ie=!0,re}class se{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,le=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ue(t){return(t=String(t)).match(ae)||t.match(le)?t:(oe()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ce(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function he(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const de=ce("area,br,col,hr,img,wbr"),fe=ce("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pe=ce("rp,rt"),me=he(pe,fe),ge=he(de,he(fe,ce("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),he(pe,ce("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),me),ye=ce("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ve=ce("srcset"),be=he(ye,ve,ce("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ce("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_e=ce("script,style,template");class we{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ge.hasOwnProperty(e))return this.sanitizedSomething=!0,!_e.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!be.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ye[o]&&(s=ue(s)),ve[o]&&(r=s,s=(r=String(r)).split(",").map(t=>ue(t.trim())).join(", ")),this.buf.push(" ",e,'="',xe(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ge.hasOwnProperty(e)&&!de.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Se=/([^\#-~ |!])/g;function xe(t){return t.replace(/&/g,"&amp;").replace(Ee,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Se,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ce;function Ie(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ke=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Te{}const Ae=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ne=/^url\(([^)]+)\)$/;function Re(t){var e;return e=t.replace(/[$@]/g,"_"),`ng-reflect-${t=e.replace(Oe,(...t)=>"-"+t[1].toLowerCase())}`}const Oe=/([A-Z])/g;function De(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Pe=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Le(),t})();const Le=(...t)=>{},Me=new kt("The presence of this token marks an injector as being the root injector."),Fe=function(t,e,n){return new ze(t,e,n)};let Ue=(()=>{class t{static create(t,e){return Array.isArray(t)?Fe(t,e,""):Fe(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=At,t.NULL=new qt,t.ngInjectableDef=mt({token:t,providedIn:"any",factory:()=>jt(Tt)}),t.__NG_ELEMENT_ID__=-1,t})();const Ve=function(t){return t},je=[],Be=Ve,qe=function(){return Array.prototype.slice.call(arguments)},He="\u0275";class ze{constructor(t,e=Ue.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Ue,{token:Ue,fn:Ve,deps:je,value:this,useNew:!1}),r.set(Tt,{token:Tt,fn:Ve,deps:je,value:this,useNew:!1}),function t(e,n){if(n)if((n=wt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw We("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw We("Unexpected provider",n);{let t=wt(n.provide);const r=function(t){const e=function(t){let e=je;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=wt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof ct||n==ct?r|=1:n instanceof dt||n==dt?r&=-3:n instanceof ht||n==ht?r&=-5:i=n instanceof ut?n.token:wt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:wt(t.useExisting),options:6}];else if(!(n||Lt in t))throw We("'deps' required",t);return e}(t);let n=Ve,r=je,i=!1,o=wt(t.provide);if(Lt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=wt(t.useClass);else{if("function"!=typeof o)throw We("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==qe)throw Ge(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:qe,value:je});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==qe)throw Ge(t);e.set(t,r)}}}(r,t)}get(t,e,n=ft.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let a;if(!n||s&ft.SkipSelf)s&ft.Self||(a=i.get(e,o,ft.Default));else{if((a=n.value)==Be)throw Error(He+"Circular dependency");if(a===je){n.value=Be;let e=void 0,o=n.useNew,s=n.fn,l=n.deps,u=je;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,s=2&o?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&o?i:Ue.NULL,1&o?null:Ue.THROW_IF_NOT_FOUND,ft.Default))}}n.value=a=o?new s(...u):s.apply(e,u)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Nt]=a[Nt]||[]).unshift(e),n&&n.value==Be&&(n.value=je),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[Nt];throw e[Pt]&&i.unshift(e[Pt]),t.message=Ht("\n"+t.message,i,"StaticInjectorError",r),t[Rt]=i,t[Nt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(vt(n))),`StaticInjector[${t.join(", ")}]`}}function Ge(t){return We("Cannot mix multi providers and regular providers",t)}function We(t,e){return new Error(Ht(t,e,"StaticInjectorError"))}const $e=new kt("AnalyzeForEntryComponents");let Ke=null;function Qe(){if(!Ke){const t=It.Symbol;if(t&&t.iterator)Ke=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ke=n)}}}return Ke}function Ye(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Xe(t,e){const n=Je(t),r=Je(e);if(n&&r)return function(t,e,n){const r=t[Qe()](),i=e[Qe()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Xe);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Ye(t,e)}}class Ze{constructor(t){this.wrapped=t}static wrap(t){return new Ze(t)}static unwrap(t){return Ze.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ze}}function Je(t){return!!tn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qe()in t)}function tn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function en(t){return!!t&&"function"==typeof t.then}function nn(t){return!!t&&"function"==typeof t.subscribe}class rn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class on{}class sn{}function an(t){const e=Error(`No component factory found for ${vt(t)}. Did you add it to @NgModule.entryComponents?`);return e[ln]=t,e}const ln="ngComponent";class un{resolveComponentFactory(t){throw an(t)}}let cn=(()=>{class t{}return t.NULL=new un,t})();class hn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw an(t);return new dn(e,this._ngModule)}}class dn extends sn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function fn(...t){}let pn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>mn(t),t})();const mn=fn;class gn{}class yn{}const vn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let bn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_n(),t})();const _n=fn;class wn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const En=new wn("8.2.13");class Sn{constructor(){}supports(t){return Je(t)}create(t){return new Cn(t)}}const xn=(t,e)=>e;class Cn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<An(n,r,i)?e:n,s=An(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Je(t))throw new Error(`Error trying to diff '${vt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Ye(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Ye(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Qe()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ye(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Ye(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ye(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ye(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new In(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Tn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class In{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ye(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Tn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new kn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function An(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Nn{constructor(){}supports(t){return t instanceof Map||tn(t)}create(){return new Rn}}class Rn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tn(t)))throw new Error(`Error trying to diff '${vt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new On(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ye(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class On{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Dn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new Sn])}),t})(),Pn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new Nn])}),t})();const Ln=[new Nn],Mn=new Dn([new Sn]),Fn=new Pn(Ln);let Un=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vn(t,pn),t})();const Vn=fn;let jn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bn(t,pn),t})();const Bn=fn;function qn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Hn(n,e),n}(i,t)}function Hn(t,e){t[Yt]=e,t[Zt]=e.logError.bind(e)}function zn(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Gn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Wn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function $n(t,e){return t.nodes[e]}function Kn(t,e){return t.nodes[e]}function Qn(t,e){return t.nodes[e]}function Yn(t,e){return t.nodes[e]}function Xn(t,e){return t.nodes[e]}const Zn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Jn=()=>{},tr=new Map;function er(t){let e=tr.get(t);return e||(e=vt(t)+"_"+tr.size,tr.set(t,e)),e}function nr(t,e,n,r){if(Ze.isWrapped(r)){r=Ze.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=Ze.unwrap(t.oldValues[i]);t.oldValues[i]=new Ze(o)}return r}const rr="$$undefined",ir="$$empty";function or(t){return{id:rr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let sr=0;function ar(t,e,n,r){return!(!(2&t.state)&&Ye(t.oldValues[e.bindingIndex+n],r))}function lr(t,e,n,r){return!!ar(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function ur(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Xe(i,r)){const o=e.bindings[n].name;throw qn(Zn.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function cr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function hr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function dr(t,e,n,r){try{return cr(33554432&t.def.nodes[e].flags?Kn(t,e).componentView:t),Zn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function fr(t){return t.parent?Kn(t.parent,t.parentNodeDef.nodeIndex):null}function pr(t){return t.parent?t.parentNodeDef.parent:null}function mr(t,e){switch(201347067&e.flags){case 1:return Kn(t,e.nodeIndex).renderElement;case 2:return $n(t,e.nodeIndex).renderText}}function gr(t,e){return t?`${t}:${e}`:e}function yr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function vr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function br(t){return 1<<t%32}function _r(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=br(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function wr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Pt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:er(n)}})}function Er(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Kt.Native?Kn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Sr=new WeakMap;function xr(t){let e=Sr.get(t);return e||((e=t(()=>Jn)).factory=t,Sr.set(t,e)),e}function Cr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(mr(t,t.def.lastRenderRootNode))),Ir(t,e,0,t.def.nodes.length-1,n,r,i)}function Ir(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Tr(t,n,e,i,o,s),a+=n.childCount}}function kr(t,e,n,r,i,o){let s=t;for(;s&&!yr(s);)s=s.parent;const a=s.parent,l=pr(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Tr(a,t,n,r,i,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Ar(t,s[e],n,r,i,o)}}function Tr(t,e,n,r,i,o){if(8&e.flags)kr(t,e.ngContent.index,n,r,i,o);else{const s=mr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Ar(t,s,n,r,i,o),32&e.bindingFlags&&Ar(Kn(t,e.nodeIndex).componentView,s,n,r,i,o)):Ar(t,s,n,r,i,o),16777216&e.flags){const s=Kn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Cr(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Ir(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Ar(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Nr=/^:([^:]+):(.+)$/;function Rr(t){if(":"===t[0]){const e=t.match(Nr);return[e[1],e[2]]}return["",t]}function Or(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Dr(t,e,n,r,i,o,s,a,l,u,c,h,d,f,p,m,g,y,v,b){switch(t){case 1:return e+Pr(n)+r;case 2:return e+Pr(n)+r+Pr(i)+o;case 3:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a;case 4:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a+Pr(l)+u;case 5:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a+Pr(l)+u+Pr(c)+h;case 6:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a+Pr(l)+u+Pr(c)+h+Pr(d)+f;case 7:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a+Pr(l)+u+Pr(c)+h+Pr(d)+f+Pr(p)+m;case 8:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a+Pr(l)+u+Pr(c)+h+Pr(d)+f+Pr(p)+m+Pr(g)+y;case 9:return e+Pr(n)+r+Pr(i)+o+Pr(s)+a+Pr(l)+u+Pr(c)+h+Pr(d)+f+Pr(p)+m+Pr(g)+y+Pr(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Pr(t){return null!=t?t.toString():""}const Lr=new Object,Mr=er(Ue),Fr=er(Tt),Ur=er(zt);function Vr(t,e,n,r){return n=wt(n),{index:-1,deps:wr(r,vt(e)),flags:t,token:e,value:n}}function jr(t,e,n=Ue.THROW_IF_NOT_FOUND){const r=Ut(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Mr:case Fr:case Ur:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Br(t,a)),e===Lr?void 0:e}if((l=gt(e.token))&&(i=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Lr,t._providers[n]=Br(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ut(r)}var i,o}function Br(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(jr(t,n[0]));case 2:return new e(jr(t,n[0]),jr(t,n[1]));case 3:return new e(jr(t,n[0]),jr(t,n[1]),jr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=jr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(jr(t,n[0]));case 2:return e(jr(t,n[0]),jr(t,n[1]));case 3:return e(jr(t,n[0]),jr(t,n[1]),jr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=jr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=jr(t,e.deps[0]);break;case 256:n=e.value}return n===Lr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Lr:n}function qr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,$t(n,e),Zn.dirtyParentQueries(r),zr(r),r}function Hr(t,e,n){const r=e?mr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Cr(n,2,i,o,void 0)}function zr(t){Cr(t,3,null,null,void 0)}const Gr=new Object;function Wr(t,e,n,r,i,o){return new $r(t,e,n,r,i,o)}class $r extends sn{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=xr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Zn.createRootView(t,e||[],n,i,r,Gr),a=Qn(s,o).instance;return n&&s.renderer.setAttribute(Kn(s,0).renderElement,"ng-version",En.full),new Kr(s,new Zr(s),a)}}class Kr extends on{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new pn(Kn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new ni(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Qr(t,e,n){return new Yr(t,e,n)}class Yr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new pn(this._data.renderElement)}get injector(){return new ni(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=pr(t),t=t.parent;return t?new ni(t,e):new ni(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=qr(this._data,t);Zn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Zr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof dn||(i=o.get(zt));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Wt(i,n,r),function(t,e){const n=fr(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Zn.dirtyParentQueries(r),Hr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];$t(r,e),null==n&&(n=r.length),Wt(r,n,i),Zn.dirtyParentQueries(i),zr(i),Hr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=qr(this._data,t);e&&Zn.destroyView(e)}detach(t){const e=qr(this._data,t);return e?new Zr(e):null}}function Xr(t){return new Zr(t)}class Zr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Cr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){cr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Zn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Zn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,zr(this._view),Zn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Jr(t,e){return new ti(t,e)}class ti extends Un{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Zr(Zn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new pn(Kn(this._parentView,this._def.nodeIndex).renderElement)}}function ei(t,e){return new ni(t,e)}class ni{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ue.THROW_IF_NOT_FOUND){return Zn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:er(t)},e)}}function ri(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Kn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return $n(t,n.nodeIndex).renderText;if(20240&n.flags)return Qn(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function ii(t){return new oi(t.renderer)}class oi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Rr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Rr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function si(t,e,n,r){return new ai(t,e,n,r)}class ai{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Br(t,i))}}(this)}get(t,e=Ue.THROW_IF_NOT_FOUND,n=ft.Default){let r=0;return n&ft.SkipSelf?r|=1:n&ft.Self&&(r|=4),jr(this,{token:t,tokenKey:er(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(cn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${vt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Lr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const li=er(gn),ui=er(bn),ci=er(pn),hi=er(jn),di=er(Un),fi=er(Pe),pi=er(Ue),mi=er(Tt);function gi(t,e,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return bi(t,e|=16384,n,r,i,i,o,l,u)}function yi(t,e,n){return bi(-1,t|=16,null,0,e,e,n)}function vi(t,e,n,r,i){return bi(-1,t,e,0,n,r,i)}function bi(t,e,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=_r(n);l||(l=[]),a||(a=[]),o=wt(o);const d=wr(s,vt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Or(a),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function _i(t,e){return xi(t,e)}function wi(t,e){let n=t;for(;n.parent&&!yr(n);)n=n.parent;return Ci(n.parent,pr(n),!0,e.provider.value,e.provider.deps)}function Ei(t,e){const n=Ci(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!nn(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Si(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Si(t,e,n){return r=>dr(t,e,n,r)}function xi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Ci(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(ki(t,e,n,i[0]));case 2:return r(ki(t,e,n,i[0]),ki(t,e,n,i[1]));case 3:return r(ki(t,e,n,i[0]),ki(t,e,n,i[1]),ki(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=ki(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return ki(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Ci(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(ki(t,e,n,i[0]));case 2:return new r(ki(t,e,n,i[0]),ki(t,e,n,i[1]));case 3:return new r(ki(t,e,n,i[0]),ki(t,e,n,i[1]),ki(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=ki(t,e,n,i[r]);return new r(...s)}}const Ii={};function ki(t,e,n,r,i=Ue.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===fi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case li:return ii(Ti(a,e,n));case ui:return Ti(a,e,n).renderer;case ci:return new pn(Kn(a,e.nodeIndex).renderElement);case hi:return Kn(a,e.nodeIndex).viewContainer;case di:if(e.element.template)return Kn(a,e.nodeIndex).template;break;case fi:return Xr(Ti(a,e,n));case pi:case mi:return ei(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Qn(a,t.nodeIndex);return e||(e={instance:xi(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=yr(a),e=pr(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,Ii);return l!==Ii||i===Ii?l:o.root.ngModule.injector.get(r.token,i)}function Ti(t,e,n){let r;if(n)r=Kn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!yr(r);)r=r.parent;return r}function Ai(t,e,n,r,i,o){if(32768&n.flags){const e=Kn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Ze.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new rn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ni(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Oi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Ri(t,s,e,r)),s=s.parent}}function Ri(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Oi(t,i,e.flags&n,r++),i+=e.childCount}return r}function Oi(t,e,n,r){const i=Qn(t,e);if(!i)return;const o=i.instance;o&&(Zn.setCurrentNode(t,e),1048576&n&&Wn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Wn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Di=new kt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qt}),Pi={},Li=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();var Mi=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Fi(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Pi[e];if(n)return n;const r=e.split("-")[0];if(n=Pi[r])return n;if("en"===r)return Mi;throw new Error(`Missing locale data for the locale "${t}".`)}const Ui="en-US";let Vi=Ui;function ji(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(Vi=t.toLowerCase().replace(/_/g,"-"))}class Bi extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof d&&t.add(s),s}}function qi(){return this._results[Qe()]()}class Hi{constructor(){this.dirty=!0,this._results=[],this.changes=new Bi,this.length=0;const t=Qe(),e=Hi.prototype;e[t]||(e[t]=qi)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const zi=new kt("Application Initializer");class Gi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();en(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Wi=new kt("AppId");function $i(){return`${Ki()}${Ki()}${Ki()}`}function Ki(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qi=new kt("Platform Initializer"),Yi=new kt("Platform ID"),Xi=new kt("appBootstrapListener");class Zi{log(t){console.log(t)}warn(t){console.warn(t)}}const Ji=new kt("LocaleId"),to=!1;function eo(){throw new Error("Runtime compiler is not loaded")}const no=eo,ro=eo,io=eo,oo=eo;class so{constructor(){this.compileModuleSync=no,this.compileModuleAsync=ro,this.compileModuleAndAllComponentsSync=io,this.compileModuleAndAllComponentsAsync=oo}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class ao{}let lo,uo;function co(){const t=It.wtf;return!(!t||!(lo=t.trace)||(uo=lo.events,0))}const ho=co();function fo(t,e){return null}const po=ho?function(t,e=null){return uo.createScope(t,e)}:(t,e)=>fo,mo=ho?function(t,e){return lo.leaveScope(t,e),e}:(t,e)=>e,go=(()=>Promise.resolve(0))();function yo(t){"undefined"==typeof Zone?go.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class vo{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bi(!1),this.onMicrotaskEmpty=new Bi(!1),this.onStable=new Bi(!1),this.onError=new Bi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Eo(e),t.invokeTask(r,i,o,s)}finally{So(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Eo(e),t.invoke(r,i,o,s,a)}finally{So(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,wo(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,_o,bo,bo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function bo(){}const _o={};function wo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Eo(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function So(t){t._nesting--,wo(t)}class xo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bi,this.onMicrotaskEmpty=new Bi,this.onStable=new Bi,this.onError=new Bi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Co{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),yo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Io{constructor(){this._applications=new Map,Ao.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ao.findTestabilityInTree(this,t,e)}}class ko{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let To,Ao=new ko,No=function(t,e,n){return t.get(ao).createCompiler([e]).compileModuleAsync(n)},Ro=function(t){return t instanceof dn};const Oo=new kt("AllowMultipleToken");class Do{constructor(t,e){this.name=t,this.token=e}}function Po(t,e,n=[]){const r=`Platform: ${e}`,i=new kt(r);return(e=[])=>{let o=Lo();if(!o||o.injector.get(Oo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(To&&!To.destroyed&&!To.injector.get(Oo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");To=t.get(Mo);const e=t.get(Qi,null);e&&e.forEach(t=>t())}(Ue.create({providers:t,name:r}))}return function(t){const e=Lo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Lo(){return To&&!To.destroyed?To:null}class Mo{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new xo:("zone.js"===i?void 0:i)||new vo({enableLongStackTrace:oe()}),r=[{provide:vo,useValue:n}];var i;return n.run(()=>{const e=Ue.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ne,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return to&&ji(i.injector.get(Ji,Ui)||Ui),i.onDestroy(()=>Vo(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return en(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Gi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Fo({},e);return No(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Uo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${vt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Fo(t,e){return Array.isArray(e)?e.reduce(Fo,t):Object.assign({},t,e)}let Uo=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oe(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{vo.assertNotInAngularZone(),yo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Z(s,a.pipe(st()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof sn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Ro(n)?null:this._injector.get(zt),i=n.create(Ue.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Co,null);return o&&i.injector.get(Io).registerApplication(i.location.nativeElement,o),this._loadComponent(i),oe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,mo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Vo(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xi,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Vo(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=po("ApplicationRef#tick()"),t})();function Vo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class jo{}const Bo="#",qo="NgFactory";class Ho{}const zo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Go{constructor(t,e){this._compiler=t,this._config=e||zo}load(t){return!to&&this._compiler instanceof so?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(Bo);return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Wo(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(Bo),i=qo;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Wo(t,e,r))}}function Wo(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class $o{constructor(t,e){this.name=t,this.callback=e}}class Ko{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Qo&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Qo extends Ko{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Qo&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Qo&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Qo&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Qo)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Yo=new Map,Xo=function(t){return Yo.get(t)||null};function Zo(t){Yo.set(t.nativeNode,t)}const Jo=Po(null,"core",[{provide:Yi,useValue:"unknown"},{provide:Mo,deps:[Ue]},{provide:Io,deps:[]},{provide:Zi,deps:[]}]);function ts(){return Mn}function es(){return Fn}function ns(t){return t?(to&&ji(t),t):Ui}function rs(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class is{constructor(t){}}function os(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=_r(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?xr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Jn},provider:null,text:null,query:null,ngContent:null}}function ss(t,e,n,r,i,o,s=[],a,l,u,c,h){u||(u=Jn);const{matchedQueries:d,references:f,matchedQueryIds:p}=_r(n);let m=null,g=null;o&&([m,g]=Rr(o)),a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=Rr(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const v=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e]=l[_];v[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=Rr(t);return[n,r,e]});return h=function(t){if(t&&t.id===rr){const e=null!=t.encapsulation&&t.encapsulation!==Kt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${sr++}`:ir}return t&&t.id===ir&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Or(y),outputs:v,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Jn},provider:null,text:null,query:null,ngContent:null}}function as(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Er(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Kt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function ls(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],s=us(t,n.nodeIndex,gr(o.target,o.eventName));let a=o.target,l=t;"component"===o.target&&(a=null,l=e);const u=l.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=u}}function us(t,e,n){return r=>dr(t,e,n,r)}function cs(t,e,n,r){if(!lr(t,e,n,r))return!1;const i=e.bindings[n],o=Kn(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(ke.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function hs(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:br(e),bindings:r},ngContent:null}}function ds(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&vr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Xn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Xn(t,n).setDirty(),n+=e.childCount}}function fs(t,e){const n=Xn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=ps(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Qn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ps(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function ps(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(ms(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Kn(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(ps(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=fr(o);s&&s===n&&ps(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];ps(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function ms(t,e,n){if(null!=n)switch(n){case 1:return Kn(t,e.nodeIndex).renderElement;case 0:return new pn(Kn(t,e.nodeIndex).renderElement);case 2:return Kn(t,e.nodeIndex).template;case 3:return Kn(t,e.nodeIndex).viewContainer;case 4:return Qn(t,e.nodeIndex).instance}}function gs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ys(t,e,n){const r=Er(t,e,n);r&&kr(t,n.ngContent.index,1,r,null,void 0)}function vs(t,e){return _s(128,t,new Array(e+1))}function bs(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return _s(64,t,i)}function _s(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Or(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ws(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Es(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Er(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ss(t,e){return(null!=t?t.toString():"")+e.suffix}function xs(t,e,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Is(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[er(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[er(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Cs(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Cs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Jn,updateRenderer:r||Jn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Cs(t){return 0!=(1&t.flags)&&null===t.element.name}function Is(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function ks(t,e,n,r){const i=Ns(t.root,t.renderer,t,e,n);return Rs(i,t.component,r),Os(i),i}function Ts(t,e,n){const r=Ns(t,t.renderer,null,null,e);return Rs(r,n,n),Os(r),r}function As(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ns(t.root,o,t,e.element.componentProvider,n)}function Ns(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Rs(t,e,n){t.component=e,t.context=n}function Os(t){let e;yr(t)&&(e=Kn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Zn.setCurrentNode(t,i),201347067&o.flags){case 1:const n=as(t,e,o);let a=void 0;if(33554432&o.flags){const e=xr(o.element.componentView);a=Zn.createComponentView(t,o,e,n)}ls(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Jr(t,o):void 0},16777216&o.flags&&(s.viewContainer=Qr(t,o,s));break;case 2:s=Es(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:_i(t,o)});break;case 16:s={instance:wi(t,o)};break;case 16384:(s=r[i])||(s={instance:Ei(t,o)}),32768&o.flags&&Rs(Kn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Hi;break;case 8:ys(t,e,o),s=void 0}r[i]=s}Bs(t,js.CreateViewNodes),Gs(t,201326592,268435456,0)}function Ds(t){Ms(t),Zn.updateDirectives(t,1),qs(t,js.CheckNoChanges),Zn.updateRenderer(t,1),Bs(t,js.CheckNoChanges),t.state&=-97}function Ps(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Gn(t,0,256),Ms(t),Zn.updateDirectives(t,0),qs(t,js.CheckAndUpdate),Gs(t,67108864,536870912,0);let e=Gn(t,256,512);Ni(t,2097152|(e?1048576:0)),Zn.updateRenderer(t,0),Bs(t,js.CheckAndUpdate),Gs(t,134217728,536870912,0),Ni(t,8388608|((e=Gn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Gn(t,768,1024)}function Ls(t,e,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,l,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&cs(t,e,0,n)&&(f=!0),d>1&&cs(t,e,1,r)&&(f=!0),d>2&&cs(t,e,2,i)&&(f=!0),d>3&&cs(t,e,3,o)&&(f=!0),d>4&&cs(t,e,4,s)&&(f=!0),d>5&&cs(t,e,5,a)&&(f=!0),d>6&&cs(t,e,6,l)&&(f=!0),d>7&&cs(t,e,7,u)&&(f=!0),d>8&&cs(t,e,8,c)&&(f=!0),d>9&&cs(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,s,a,l,u,c,h);case 2:return function(t,e,n,r,i,o,s,a,l,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&lr(t,e,0,n)&&(d=!0),p>1&&lr(t,e,1,r)&&(d=!0),p>2&&lr(t,e,2,i)&&(d=!0),p>3&&lr(t,e,3,o)&&(d=!0),p>4&&lr(t,e,4,s)&&(d=!0),p>5&&lr(t,e,5,a)&&(d=!0),p>6&&lr(t,e,6,l)&&(d=!0),p>7&&lr(t,e,7,u)&&(d=!0),p>8&&lr(t,e,8,c)&&(d=!0),p>9&&lr(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=Ss(n,f[0])),p>1&&(d+=Ss(r,f[1])),p>2&&(d+=Ss(i,f[2])),p>3&&(d+=Ss(o,f[3])),p>4&&(d+=Ss(s,f[4])),p>5&&(d+=Ss(a,f[5])),p>6&&(d+=Ss(l,f[6])),p>7&&(d+=Ss(u,f[7])),p>8&&(d+=Ss(c,f[8])),p>9&&(d+=Ss(h,f[9]));const m=$n(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,r,i,o,s,a,l,u,c,h);case 16384:return function(t,e,n,r,i,o,s,a,l,u,c,h){const d=Qn(t,e.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&ar(t,e,0,n)&&(p=!0,m=Ai(t,d,e,0,n,m)),g>1&&ar(t,e,1,r)&&(p=!0,m=Ai(t,d,e,1,r,m)),g>2&&ar(t,e,2,i)&&(p=!0,m=Ai(t,d,e,2,i,m)),g>3&&ar(t,e,3,o)&&(p=!0,m=Ai(t,d,e,3,o,m)),g>4&&ar(t,e,4,s)&&(p=!0,m=Ai(t,d,e,4,s,m)),g>5&&ar(t,e,5,a)&&(p=!0,m=Ai(t,d,e,5,a,m)),g>6&&ar(t,e,6,l)&&(p=!0,m=Ai(t,d,e,6,l,m)),g>7&&ar(t,e,7,u)&&(p=!0,m=Ai(t,d,e,7,u,m)),g>8&&ar(t,e,8,c)&&(p=!0,m=Ai(t,d,e,8,c,m)),g>9&&ar(t,e,9,h)&&(p=!0,m=Ai(t,d,e,9,h,m)),m&&f.ngOnChanges(m),65536&e.flags&&Wn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,l,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&lr(t,e,0,n)&&(f=!0),p>1&&lr(t,e,1,r)&&(f=!0),p>2&&lr(t,e,2,i)&&(f=!0),p>3&&lr(t,e,3,o)&&(f=!0),p>4&&lr(t,e,4,s)&&(f=!0),p>5&&lr(t,e,5,a)&&(f=!0),p>6&&lr(t,e,6,l)&&(f=!0),p>7&&lr(t,e,7,u)&&(f=!0),p>8&&lr(t,e,8,c)&&(f=!0),p>9&&lr(t,e,9,h)&&(f=!0),f){const f=Yn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=s),p>5&&(m[5]=a),p>6&&(m[6]=l),p>7&&(m[7]=u),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=o),p>4&&(m[d[4].name]=s),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=l),p>7&&(m[d[7].name]=u),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,o);break;case 5:m=t.transform(r,i,o,s);break;case 6:m=t.transform(r,i,o,s,a);break;case 7:m=t.transform(r,i,o,s,a,l);break;case 8:m=t.transform(r,i,o,s,a,l,u);break;case 9:m=t.transform(r,i,o,s,a,l,u,c);break;case 10:m=t.transform(r,i,o,s,a,l,u,c,h)}}f.value=m}return f}(t,e,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)cs(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)lr(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Ss(n[t],r[t]);i=e.text.prefix+i;const o=$n(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Qn(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)ar(t,e,a,n[a])&&(o=!0,s=Ai(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&Wn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)lr(t,e,o,n[o])&&(i=!0);if(i){const i=Yn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Ms(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Kn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,hr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Fs(t,e,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,h){const d=e.bindings.length;d>0&&ur(t,e,0,n),d>1&&ur(t,e,1,r),d>2&&ur(t,e,2,i),d>3&&ur(t,e,3,o),d>4&&ur(t,e,4,s),d>5&&ur(t,e,5,a),d>6&&ur(t,e,6,l),d>7&&ur(t,e,7,u),d>8&&ur(t,e,8,c),d>9&&ur(t,e,9,h)}(t,e,r,i,o,s,a,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)ur(t,e,r,n[r])}(t,e,r),!1}function Us(t,e){if(Xn(t,e.nodeIndex).dirty)throw qn(Zn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Vs(t){if(!(128&t.state)){if(qs(t,js.Destroy),Bs(t,js.Destroy),Ni(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=fr(t);if(e){const n=e.template._projectedViews;n&&($t(n,n.indexOf(t)),Zn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Kn(t,n).renderElement):2&e.flags?t.renderer.destroyNode($n(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Xn(t,n).destroy()}}(t),yr(t)&&t.renderer.destroy(),t.state|=128}}const js=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Bs(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Hs(Kn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function qs(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Kn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Hs(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Hs(t,e){const n=t.state;switch(e){case js.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ds(t):64&n&&zs(t,js.CheckNoChangesProjectedViews));break;case js.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ds(t):64&n&&zs(t,e));break;case js.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ps(t):64&n&&zs(t,js.CheckAndUpdateProjectedViews));break;case js.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ps(t):64&n&&zs(t,e));break;case js.Destroy:Vs(t);break;case js.CreateViewNodes:Os(t)}}function zs(t,e){qs(t,e),Bs(t,e)}function Gs(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Zn.setCurrentNode(t,i.nodeIndex),r){case 0:fs(t,i);break;case 1:Us(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Ws=!1;function $s(t,e,n,r,i,o){const s=i.injector.get(yn);return Ts(Qs(t,i,s,e,n),r,o)}function Ks(t,e,n,r,i,o){const s=i.injector.get(yn),a=Qs(t,i,new ka(s),e,n),l=oa(r);return Ca(ha.create,Ts,null,[a,l,o])}function Qs(t,e,n,r,i){const o=e.injector.get(Te),s=e.injector.get(ne),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Ys(t,e,n,r){const i=oa(n);return Ca(ha.create,ks,null,[t,e,i,r])}function Xs(t,e,n,r){return n=ea.get(e.element.componentProvider.provider.token)||oa(n),Ca(ha.create,As,null,[t,e,n,r])}function Zs(t,e,n,r){return si(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Js.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Js.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{ta.forEach((r,i)=>{gt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Js.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=wr(i.deps),r.value=i.value)}if(ta.size>0){let e=new Set(t.modules);ta.forEach((r,i)=>{if(e.has(gt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:wr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[er(i)]=e}})}}(t=t.factory(()=>Jn)),t):t}(r))}const Js=new Map,ta=new Map,ea=new Map;function na(t){let e;Js.set(t.token,t),"function"==typeof t.token&&(e=gt(t.token))&&"function"==typeof e.providedIn&&ta.set(t.token,t)}function ra(t,e){const n=xr(e.viewDefFactory),r=xr(n.nodes[0].element.componentView);ea.set(t,r)}function ia(){Js.clear(),ta.clear(),ea.clear()}function oa(t){if(0===Js.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Js.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Jn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Js.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=wr(n.deps),t.value=n.value)}}}}function sa(t,e,n,r,i,o,s,a,l,u,c,h,d){const f=t.def.nodes[e];return Ls(t,f,n,r,i,o,s,a,l,u,c,h,d),224&f.flags?Yn(t,e).value:void 0}function aa(t,e,n,r,i,o,s,a,l,u,c,h,d){const f=t.def.nodes[e];return Fs(t,f,n,r,i,o,s,a,l,u,c,h,d),224&f.flags?Yn(t,e).value:void 0}function la(t){return Ca(ha.detectChanges,Ps,null,[t])}function ua(t){return Ca(ha.checkNoChanges,Ds,null,[t])}function ca(t){return Ca(ha.destroy,Vs,null,[t])}const ha=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let da,fa,pa;function ma(t,e){fa=t,pa=e}function ga(t,e,n,r){return ma(t,e),Ca(ha.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function ya(t,e){if(128&t.state)throw zn(ha[da]);return ma(t,wa(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ba(t,o,r,i):_a(t,o,r,i),16384&o.flags&&ma(t,wa(t,n)),224&o.flags?Yn(t,o.nodeIndex).value:void 0}),t)}function va(t,e){if(128&t.state)throw zn(ha[da]);return ma(t,Ea(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ba(t,o,r,i):_a(t,o,r,i),3&o.flags&&ma(t,Ea(t,n)),224&o.flags?Yn(t,o.nodeIndex).value:void 0}),t)}function ba(t,e,n,r){if(Ls(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=i[t];8&r.flags&&(n[Re(r.nonMinifiedName)]=De(o))}const r=e.parent,o=Kn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}}function _a(t,e,n,r){Fs(t,e,n,...r)}function wa(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ea(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Sa{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=pr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Kn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return ei(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){xa(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&xa(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!yr(t);)t=t.parent;return t.parent?Kn(t.parent,pr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?mr(this.view,this.nodeDef):mr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):Jn),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function xa(t,e,n){for(let r in e.references)n[r]=ms(t,e,e.references[r])}function Ca(t,e,n,r){const i=da,o=fa,s=pa;try{da=t;const a=e.apply(n,r);return fa=o,pa=s,da=i,a}catch(u){if(Jt(u)||!fa)throw u;throw a=u,l=Ia(),a instanceof Error||(a=new Error(a.toString())),Hn(a,l),a}var a,l}function Ia(){return fa?new Sa(fa,pa):null}class ka{constructor(t){this.delegate=t}createRenderer(t,e){return new Ta(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ta{constructor(t){this.delegate=t,this.debugContextFactory=Ia,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Xo(t);!function(t){Yo.delete(t.nativeNode)}(e),e instanceof Ko&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Qo(n,null,r);e.name=t,Zo(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Zo(new Ko(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Zo(new Ko(e,null,n)),e}appendChild(t,e){const n=Xo(t),r=Xo(e);n&&r&&n instanceof Qo&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Xo(t),i=Xo(e),o=Xo(n);r&&i&&r instanceof Qo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Xo(t),r=Xo(e);n&&r&&n instanceof Qo&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Ia();return r&&Zo(new Qo(n,null,r)),n}setAttribute(t,e,n,r){const i=Xo(t);i&&i instanceof Qo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Xo(t);r&&r instanceof Qo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Xo(t);n&&n instanceof Qo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Xo(t);n&&n instanceof Qo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Xo(t);i&&i instanceof Qo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Xo(t);r&&r instanceof Qo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Xo(t);r&&r instanceof Qo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Xo(t);r&&r.listeners.push(new $o(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Aa(t,e,n){return new Na(t,e,n)}class Na extends Gt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Ws)return;Ws=!0;const t=oe()?{setCurrentNode:ma,createRootView:Ks,createEmbeddedView:Ys,createComponentView:Xs,createNgModuleRef:Zs,overrideProvider:na,overrideComponentView:ra,clearOverrides:ia,checkAndUpdateView:la,checkNoChangesView:ua,destroyView:ca,createDebugContext:(t,e)=>new Sa(t,e),handleEvent:ga,updateDirectives:ya,updateRenderer:va}:{setCurrentNode:()=>{},createRootView:$s,createEmbeddedView:ks,createComponentView:As,createNgModuleRef:si,overrideProvider:Jn,overrideComponentView:Jn,clearOverrides:Jn,checkAndUpdateView:Ps,checkNoChangesView:Ds,destroyView:Vs,createDebugContext:(t,e)=>new Sa(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?sa:aa,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?sa:aa,t)};Zn.setCurrentNode=t.setCurrentNode,Zn.createRootView=t.createRootView,Zn.createEmbeddedView=t.createEmbeddedView,Zn.createComponentView=t.createComponentView,Zn.createNgModuleRef=t.createNgModuleRef,Zn.overrideProvider=t.overrideProvider,Zn.overrideComponentView=t.overrideComponentView,Zn.clearOverrides=t.clearOverrides,Zn.checkAndUpdateView=t.checkAndUpdateView,Zn.checkNoChangesView=t.checkNoChangesView,Zn.destroyView=t.destroyView,Zn.resolveDep=ki,Zn.createDebugContext=t.createDebugContext,Zn.handleEvent=t.handleEvent,Zn.updateDirectives=t.updateDirectives,Zn.updateRenderer=t.updateRenderer,Zn.dirtyParentQueries=ds}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(xr(this._ngModuleDefFactory));return Zn.createNgModuleRef(this.moduleType,t||Ue.NULL,this._bootstrapComponents,e)}}class Ra{}class Oa{constructor(t,e){this.authService=t,this.router=e,this.title="kanji",this.isAuthenticated=!1}isLoggedIn(){return this.authService.isLoggedIn}ngOnInit(){}ngOnDestroy(){this.userSub.unsubscribe()}logout(){this.authService.signOut()}}class Da{}class Pa{}const La="*";function Ma(t,e=null){return{type:2,steps:t,options:e}}function Fa(t){return{type:6,styles:t,offset:null}}function Ua(t){Promise.resolve(null).then(t)}class Va{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ua(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ja{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ua(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Ba="!";function qa(){throw Error("Host already has a portal attached")}class Ha{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&qa(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class za extends Ha{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Ga extends Ha{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Wa{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&qa(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof za?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ga?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $a extends Wa{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class Ka extends Wa{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Bi}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class Qa{}class Ya{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}function Xa(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Xa.prototype=Object.create(Error.prototype);const Za=Xa,Ja=new w(t=>t.complete());function tl(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Ja}function el(t){return e=>0===t?tl():e.lift(new nl(t))}class nl{constructor(t){if(this.total=t,this.total<0)throw new Za}call(t,e){return e.subscribe(new rl(t,this.total))}}class rl extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function il(t){return e=>e.lift(new ol(t))}class ol{constructor(t){this.notifier=t}call(t,e){const n=new sl(t),r=j(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class sl extends B{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function al(t){return null!=t&&"false"!==`${t}`}function ll(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ul(t){return Array.isArray(t)?t:[t]}function cl(t){return null==t?"":"string"==typeof t?t:`${t}px`}function hl(t){return t instanceof pn?t.nativeElement:t}function dl(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function fl(...t){let e=t[t.length-1];switch(A(e)?t.pop():e=void 0,t.length){case 0:return tl(e);case 1:return e?G(t,e):dl(t[0]);default:return G(t,e)}}function pl(t,e,n,i){return r(n)&&(i=n,n=void 0),i?pl(t,e,n).pipe(q(t=>l(t)?i(...t):i(t))):new w(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class ml extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class gl extends ml{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let yl=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class vl extends yl{constructor(t,e=yl.now){super(t,()=>vl.delegate&&vl.delegate!==this?vl.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return vl.delegate&&vl.delegate!==this?vl.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}let bl=1;const _l={},wl={setImmediate(t){const e=bl++;return _l[e]=t,Promise.resolve().then(()=>(function(t){const e=_l[t];e&&e()})(e)),e},clearImmediate(t){delete _l[t]}};class El extends gl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=wl.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(wl.clearImmediate(e),t.scheduled=void 0)}}class Sl extends vl{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const xl=new Sl(El);class Cl{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Il(t,this.compare,this.keySelector))}}class Il extends m{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const kl=new vl(gl);class Tl{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Al(t,this.durationSelector))}}class Al extends B{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=j(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Nl(t){return!l(t)&&t-parseFloat(t)+1>=0}function Rl(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ol(t,e=kl){return n=()=>(function(t=0,e,n){let r=-1;return Nl(e)?r=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=kl),new w(e=>{const i=Nl(t)?t:+t-n.now();return n.schedule(Rl,i,{index:0,period:r,subscriber:e})})})(t,e),function(t){return t.lift(new Tl(n))};var n}function Dl(t,e){return function(n){return n.lift(new Pl(t,e))}}class Pl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ll(t,this.predicate,this.thisArg))}}class Ll extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ml(){return X(1)}function Fl(...t){return Ml()(fl(...t))}function Ul(...t){return e=>{let n=t[t.length-1];A(n)?t.pop():n=null;const r=t.length;return Fl(1!==r||n?r>0?G(t,n):tl(n):dl(t[0]),e)}}function Vl(t,e){return"function"==typeof e?n=>n.pipe(Vl((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))))):e=>e.lift(new jl(t))}class jl{constructor(t){this.project=t}call(t,e){return e.subscribe(new Bl(t,this.project))}}class Bl extends B{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new N(this,void 0,void 0);this.destination.add(i),this.innerSubscription=j(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}class ql extends gl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Hl extends vl{}const zl=new Hl(ql);function Gl(t,e){return new w(e?n=>e.schedule(Wl,0,{error:t,subscriber:n}):e=>e.error(t))}function Wl({error:t,subscriber:e}){e.error(t)}let $l=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return fl(this.value);case"E":return Gl(this.error);case"C":return tl()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Kl(t,e=0){return function(n){return n.lift(new Ql(t,e))}}class Ql{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Yl(t,this.scheduler,this.delay))}}class Yl extends m{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Yl.dispatch,this.delay,new Xl(t,this.destination)))}_next(t){this.scheduleMessage($l.createNext(t))}_error(t){this.scheduleMessage($l.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage($l.createComplete()),this.unsubscribe()}}class Xl{constructor(t,e){this.notification=t,this.destination=e}}class Zl{}const Jl=new kt("Location Initialized");class tu{}const eu=new kt("appBaseHref");class nu{constructor(t,e){this._subject=new Bi,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=nu.stripTrailingSlash(ru(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+nu.normalizeQueryParams(e))}normalize(t){return nu.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ru(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nu.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nu.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function ru(t){return t.replace(/\/index.html$/,"")}class iu extends tu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=nu.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+nu.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+nu.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class ou extends tu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nu.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+nu.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+nu.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+nu.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const su=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),au=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),lu=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),uu=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),cu=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function hu(t,e){return yu(Fi(t)[Li.DateFormat],e)}function du(t,e){return yu(Fi(t)[Li.TimeFormat],e)}function fu(t,e){return yu(Fi(t)[Li.DateTimeFormat],e)}function pu(t,e){const n=Fi(t),r=n[Li.NumberSymbols][e];if(void 0===r){if(e===cu.CurrencyDecimal)return n[Li.NumberSymbols][cu.Decimal];if(e===cu.CurrencyGroup)return n[Li.NumberSymbols][cu.Group]}return r}const mu=function(t){return Fi(t)[Li.PluralCase]};function gu(t){if(!t[Li.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Li.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function vu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const bu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_u={},wu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Eu=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Su=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),xu=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Cu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Iu(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function ku(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Su.FullYear:return e.getFullYear();case Su.Month:return e.getMonth();case Su.Date:return e.getDate();case Su.Hours:return e.getHours();case Su.Minutes:return e.getMinutes();case Su.Seconds:return e.getSeconds();case Su.FractionalSeconds:return e.getMilliseconds();case Su.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Su.Hours)0===a&&-12===n&&(a=12);else if(t===Su.FractionalSeconds)return l=e,Iu(a,3).substr(0,l);var l;const u=pu(s,cu.MinusSign);return Iu(a,e,u,r,i)}}function Tu(t,e,n=au.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case xu.Months:return function(t,e,n){const r=Fi(t),i=yu([r[Li.MonthsFormat],r[Li.MonthsStandalone]],e);return yu(i,n)}(e,i,r)[t.getMonth()];case xu.Days:return function(t,e,n){const r=Fi(t),i=yu([r[Li.DaysFormat],r[Li.DaysStandalone]],e);return yu(i,n)}(e,i,r)[t.getDay()];case xu.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Fi(t);return gu(e),(e[Li.ExtraData][2]||[]).map(t=>"string"==typeof t?vu(t):[vu(t[0]),vu(t[1])])}(e),n=function(t,e,n){const r=Fi(t);gu(r);const i=yu([r[Li.ExtraData][0],r[Li.ExtraData][1]],e)||[];return yu(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:l,minutes:u}=t[1];s>=r&&a>=i&&(s<l||s===l&&a<u)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===a&&(o=n[e])}}),o)return o}return function(t,e,n){const r=Fi(t),i=yu([r[Li.DayPeriodsFormat],r[Li.DayPeriodsStandalone]],e);return yu(i,n)}(e,i,r)[s<12?0:1];case xu.Eras:return function(t,e){return yu(Fi(t)[Li.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Au(t){return function(e,n,r){const i=-1*r,o=pu(n,cu.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Eu.Short:return(i>=0?"+":"")+Iu(s,2,o)+Iu(Math.abs(i%60),2,o);case Eu.ShortGMT:return"GMT"+(i>=0?"+":"")+Iu(s,1,o);case Eu.Long:return"GMT"+(i>=0?"+":"")+Iu(s,2,o)+":"+Iu(Math.abs(i%60),2,o);case Eu.Extended:return 0===r?"Z":(i>=0?"+":"")+Iu(s,2,o)+":"+Iu(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Nu=0,Ru=4;function Ou(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,Nu,1).getDay();return new Date(t,0,1+(e<=Ru?Ru:Ru+7)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(Ru-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Iu(i,t,pu(r,cu.MinusSign))}}const Du={};function Pu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Lu(t){return t instanceof Date&&!isNaN(t.valueOf())}const Mu=new kt("UseV4Plurals");class Fu{}class Uu extends Fu{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):mu(e||this.locale)(t)){case su.Zero:return"zero";case su.One:return"one";case su.Two:return"two";case su.Few:return"few";case su.Many:return"many";default:return"other"}}}function Vu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class ju{}class Bu{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Je(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${vt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let qu=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Hu extends qu{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class zu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Gu{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){oe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new zu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Wu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Wu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Wu{constructor(t,e){this.record=t,this.view=e}}class $u{constructor(t,e){this._viewContainer=t,this._context=new Ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Qu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Qu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Ku{constructor(){this.$implicit=null,this.ngIf=null}}function Qu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}class Yu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class Xu{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Zu{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Yu(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class Ju{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,r){let i=function(t){if(Lu(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(bu))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,u),e}(n)}const e=new Date(t);if(!Lu(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Fi(t)[Li.LocaleId]}(e);if(_u[r]=_u[r]||{},_u[r][n])return _u[r][n];let i="";switch(n){case"shortDate":i=hu(e,uu.Short);break;case"mediumDate":i=hu(e,uu.Medium);break;case"longDate":i=hu(e,uu.Long);break;case"fullDate":i=hu(e,uu.Full);break;case"shortTime":i=du(e,uu.Short);break;case"mediumTime":i=du(e,uu.Medium);break;case"longTime":i=du(e,uu.Long);break;case"fullTime":i=du(e,uu.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=Cu(fu(e,uu.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=Cu(fu(e,uu.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");i=Cu(fu(e,uu.Long),[a,l]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");i=Cu(fu(e,uu.Full),[u,c])}return i&&(_u[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(!(o=wu.exec(e))){s.push(e);break}{const t=(s=s.concat(o.slice(1))).pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Pu(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Pu(e,r)-r))}(i,r));let l="";return s.forEach(t=>{const e=function(t){if(Du[t])return Du[t];let e;switch(t){case"G":case"GG":case"GGG":e=Tu(xu.Eras,lu.Abbreviated);break;case"GGGG":e=Tu(xu.Eras,lu.Wide);break;case"GGGGG":e=Tu(xu.Eras,lu.Narrow);break;case"y":e=ku(Su.FullYear,1,0,!1,!0);break;case"yy":e=ku(Su.FullYear,2,0,!0,!0);break;case"yyy":e=ku(Su.FullYear,3,0,!1,!0);break;case"yyyy":e=ku(Su.FullYear,4,0,!1,!0);break;case"M":case"L":e=ku(Su.Month,1,1);break;case"MM":case"LL":e=ku(Su.Month,2,1);break;case"MMM":e=Tu(xu.Months,lu.Abbreviated);break;case"MMMM":e=Tu(xu.Months,lu.Wide);break;case"MMMMM":e=Tu(xu.Months,lu.Narrow);break;case"LLL":e=Tu(xu.Months,lu.Abbreviated,au.Standalone);break;case"LLLL":e=Tu(xu.Months,lu.Wide,au.Standalone);break;case"LLLLL":e=Tu(xu.Months,lu.Narrow,au.Standalone);break;case"w":e=Ou(1);break;case"ww":e=Ou(2);break;case"W":e=Ou(1,!0);break;case"d":e=ku(Su.Date,1);break;case"dd":e=ku(Su.Date,2);break;case"E":case"EE":case"EEE":e=Tu(xu.Days,lu.Abbreviated);break;case"EEEE":e=Tu(xu.Days,lu.Wide);break;case"EEEEE":e=Tu(xu.Days,lu.Narrow);break;case"EEEEEE":e=Tu(xu.Days,lu.Short);break;case"a":case"aa":case"aaa":e=Tu(xu.DayPeriods,lu.Abbreviated);break;case"aaaa":e=Tu(xu.DayPeriods,lu.Wide);break;case"aaaaa":e=Tu(xu.DayPeriods,lu.Narrow);break;case"b":case"bb":case"bbb":e=Tu(xu.DayPeriods,lu.Abbreviated,au.Standalone,!0);break;case"bbbb":e=Tu(xu.DayPeriods,lu.Wide,au.Standalone,!0);break;case"bbbbb":e=Tu(xu.DayPeriods,lu.Narrow,au.Standalone,!0);break;case"B":case"BB":case"BBB":e=Tu(xu.DayPeriods,lu.Abbreviated,au.Format,!0);break;case"BBBB":e=Tu(xu.DayPeriods,lu.Wide,au.Format,!0);break;case"BBBBB":e=Tu(xu.DayPeriods,lu.Narrow,au.Format,!0);break;case"h":e=ku(Su.Hours,1,-12);break;case"hh":e=ku(Su.Hours,2,-12);break;case"H":e=ku(Su.Hours,1);break;case"HH":e=ku(Su.Hours,2);break;case"m":e=ku(Su.Minutes,1);break;case"mm":e=ku(Su.Minutes,2);break;case"s":e=ku(Su.Seconds,1);break;case"ss":e=ku(Su.Seconds,2);break;case"S":e=ku(Su.FractionalSeconds,1);break;case"SS":e=ku(Su.FractionalSeconds,2);break;case"SSS":e=ku(Su.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Au(Eu.Short);break;case"ZZZZZ":e=Au(Eu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Au(Eu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Au(Eu.Long);break;default:return null}return Du[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,e,r||this.locale,n)}catch(i){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${vt(t)}'`)}(Ju,i.message)}}}class tc{}const ec=new kt("DocumentToken"),nc="browser",rc="server";function ic(t){return t===nc}function oc(t){return t===rc}let sc,ac=(()=>{class t{}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new lc(jt(ec),window,jt(ne))}),t})();class lc{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}try{sc="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(NR){sc=!1}let uc,cc=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ic(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sc)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(Yi,8))},token:t,providedIn:"root"}),t})();class hc{}const dc=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fc(){if(uc)return uc;if("object"!=typeof document||!document)return uc=new Set(dc);let t=document.createElement("input");return uc=new Set(dc.filter(e=>(t.setAttribute("type",e),t.type===e)))}let pc;function mc(t){return function(){if(null==pc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pc=!0}))}finally{pc=pc||!1}return pc}()?t:!!t.capture}const gc=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let yc;function vc(){if("object"!=typeof document||!document)return gc.NORMAL;if(!yc){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),yc=gc.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,yc=0===t.scrollLeft?gc.NEGATED:gc.INVERTED),t.parentNode.removeChild(t)}return yc}function bc(t){return t&&"function"==typeof t.connect}const _c=20;let wc=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=_c){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Ol(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fl()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Dl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pl(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(vo),jt(cc))},token:t,providedIn:"root"}),t})();class Ec{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new k,this._elementScrolled=new w(t=>this.ngZone.runOutsideAngular(()=>pl(this.elementRef.nativeElement,"scroll").pipe(il(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&vc()!=gc.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),vc()==gc.INVERTED?t.left=t.right:vc()==gc.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&vc()==gc.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&vc()==gc.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}class Sc{}const xc=20;let Cc=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Z(pl(window,"resize"),pl(window,"orientationchange")):fl(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=xc){return t>0?this._change.pipe(Ol(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(cc),jt(vo))},token:t,providedIn:"root"}),t})();const Ic=27;class kc{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cl(-this._previousScrollPosition.left),t.style.top=cl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Tc(){return Error("Scroll strategy has already been attached.")}class Ac{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Tc();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Nc{enable(){}disable(){}attach(){}}function Rc(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Oc(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Dc{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Tc();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Rc(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Pc=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Nc,this.close=t=>new Ac(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new kc(this._viewportRuler,this._document),this.reposition=t=>new Dc(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(wc),jt(Cc),jt(vo),jt(ec))},token:t,providedIn:"root"}),t})();class Lc{constructor(t){if(this.scrollStrategy=new Nc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Mc{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Fc{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function Uc(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function Vc(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let jc=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(ec))},token:t,providedIn:"root"}),t})(),Bc=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(ec))},token:t,providedIn:"root"}),t})();class qc{constructor(t,e,n,r,i,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new k,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(el(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=cl(this._config.width),t.height=cl(this._config.height),t.minWidth=cl(this._config.minWidth),t.minHeight=cl(this._config.minHeight),t.maxWidth=cl(this._config.maxWidth),t.maxHeight=cl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;ul(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(il(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Hc="cdk-overlay-connected-position-bounding-box";class zc{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(Hc),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Hc),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),o=Math.max(t.y+e.height-r.bottom,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,y:u=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Fc(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,l,u;if("top"===e.overlayY)i=n.height-(o=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)i=n.height-(s=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;o=t.y-e,(i=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:o,left:l,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=cl(n.height),r.top=cl(n.top),r.bottom=cl(n.bottom),r.width=cl(n.width),r.left=cl(n.left),r.right=cl(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=cl(t)),i&&(r.maxWidth=cl(i))}this._lastBoundingBoxSize=n,Gc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Gc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();Gc(n,this._getExactOverlayY(e,t,r)),Gc(n,this._getExactOverlayX(e,t,r))}else n.position="static";let r="",i=this._getOffset(e,"x"),o=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),o&&(r+=`translateY(${o}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),Gc(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=cl(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"right"==(r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:i.left=cl(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Oc(t,n),isOriginOutsideView:Rc(t,n),isOverlayClipped:Oc(e,n),isOverlayOutsideView:Rc(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{Vc("originX",t.originX),Uc("originY",t.originY),Vc("overlayX",t.overlayX),Uc("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&ul(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof pn)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Gc(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class Wc{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new zc(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Mc(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const $c="cdk-global-overlay-wrapper";class Kc{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add($c),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove($c),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Qc=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Kc}connectedTo(t,e,n){return new Wc(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new zc(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(Cc),jt(ec),jt(cc),jt(Bc))},token:t,providedIn:"root"}),t})(),Yc=0;class Xc{constructor(t,e,n,r,i,o,s,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Lc(t);return i.direction=i.direction||this._directionality.value,new qc(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${Yc++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Uo)),new $a(t,this._componentFactoryResolver,this._appRef,this._injector)}}const Zc=new kt("cdk-connected-overlay-scroll-strategy");function Jc(t){return()=>t.scrollStrategies.reposition()}class th{}function eh(t,e,n){return function(r){return r.lift(new nh(t,e,n))}}class nh{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new rh(t,this.nextOrObserver,this.error,this.complete))}}class rh extends m{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function ih(t,e=kl){return n=>n.lift(new oh(t,e))}class oh{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new sh(t,this.dueTime,this.scheduler))}}class sh extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ah,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ah(t){t.debouncedNext()}let lh=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(NR){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===ch(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=ch(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||uh(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(cc))},token:t,providedIn:"root"}),t})();function uh(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function ch(t){if(!uh(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class hh{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),oe()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(el(1)).subscribe(t)}}let dh=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new hh(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(lh),jt(vo),jt(ec))},token:t,providedIn:"root"}),t})();const fh=new kt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ph=new kt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let mh=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(fh,8),jt(vo),jt(ec),jt(ph,8))},token:t,providedIn:"root"}),t})();const gh=650,yh=mc({passive:!0,capture:!0});let vh=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,gh)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return fl(null);const n=hl(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new k};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",o,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",o,!0)},r.subject.asObservable()}stopMonitoring(t){const e=hl(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=hl(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,yh),document.addEventListener("mousedown",this._documentMousedownListener,yh),document.addEventListener("touchstart",this._documentTouchstartListener,yh),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,yh),document.removeEventListener("mousedown",this._documentMousedownListener,yh),document.removeEventListener("touchstart",this._documentTouchstartListener,yh),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(vo),jt(cc))},token:t,providedIn:"root"}),t})();const bh={};function _h(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),G(t,n).lift(new wh(e))}class wh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Eh(t,this.resultSelector))}}class Eh extends B{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(bh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===bh?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Sh{constructor(t){this.total=t}call(t,e){return e.subscribe(new xh(t,this.total))}}class xh extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const Ch=new Set;let Ih,kh=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Th}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Ch.has(t))try{Ih||((Ih=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(Ih)),Ih.sheet&&(Ih.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Ch.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(cc))},token:t,providedIn:"root"}),t})();function Th(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Ah=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new k}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Nh(ul(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=_h(Nh(ul(t)).map(t=>this._registerQuery(t).observable));return(e=Fl(e.pipe(el(1)),e.pipe(t=>t.lift(new Sh(1)),ih(0)))).pipe(q(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new w(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ul(e),q(e=>({query:t,matches:e.matches})),il(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(kh),jt(vo))},token:t,providedIn:"root"}),t})();function Nh(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Rh={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};class Oh{constructor(t,e){this._overlayRef=e,this._afterDismissed=new k,this._afterOpened=new k,this._onAction=new k,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const Dh=new kt("MatSnackBarData");class Ph{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class Lh{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}class Mh extends Wa{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new k,this._onEnter=new k,this._animationState="void",this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(el(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}class Fh{}const Uh=new kt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Ph}});let Vh=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign({},this._defaultConfig,n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(Lh,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new Ya(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Ph,e]])),r=new za(Mh,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const n=Object.assign({},new Ph,this._defaultConfig,e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),o=new Oh(i,r);if(t instanceof Un){const e=new Ga(t,null,{$implicit:n.data,snackBarRef:o});o.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new za(t,void 0,e),s=i.attachComponentPortal(r);o.instance=s.instance}return this._breakpointObserver.observe(Rh.HandsetPortrait).pipe(il(r.detachments())).subscribe(t=>{const e=r.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new Lc;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new Ya(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[Oh,e],[Dh,t.data]]))}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(Xc),jt(mh),jt(Tt),jt(Ah),jt(t,12),jt(Uh))},token:t,providedIn:Fh}),t})();const jh=new kt("cdk-dir-doc",{providedIn:"root",factory:function(){return Bt(ec)}});let Bh=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Bi,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(jh,8))},token:t,providedIn:"root"}),t})();class qh{}let Hh=null;function zh(){return Hh}class Gh{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Wh extends Gh{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(NR){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const $h={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Kh=3,Qh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xh=(()=>{if(It.Node)return It.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Zh extends Wh{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Zh,Hh||(Hh=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return $h}contains(t,e){return Xh.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(NR){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Kh&&Yh.hasOwnProperty(e)&&(e=Yh[e]))}return Qh[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=td||(td=document.querySelector("base"))?td.getAttribute("href"):null;return null==e?null:(n=e,Jh||(Jh=document.createElement("a")),Jh.setAttribute("href",n),"/"===Jh.pathname.charAt(0)?Jh.pathname:"/"+Jh.pathname);var n}resetBaseElement(){td=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Vu(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Jh,td=null;function ed(){return!!window.history.pushState}const nd=new kt("TRANSITION_ID"),rd=[{provide:zi,useFactory:function(t,e,n){return()=>{n.get(Gi).donePromise.then(()=>{const n=zh();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[nd,ec,Ue],multi:!0}];class id{static init(){var t;t=new id,Ao=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?zh().isShadowRoot(e)?this.findTestabilityInTree(t,zh().getHost(e),!0):this.findTestabilityInTree(t,zh().parentElement(e),!0):null}}function od(t,e){"undefined"!=typeof COMPILED&&COMPILED||((It.ng=It.ng||{})[t]=e)}const sd=(()=>({ApplicationRef:Uo,NgZone:vo}))();function ad(t){return Xo(t)}const ld=new kt("EventManagerPlugins");class ud{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class cd{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=zh().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class hd{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class dd extends hd{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>zh().remove(t))}}const fd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pd=/%COMP%/g,md="_nghost-%COMP%",gd="_ngcontent-%COMP%";function yd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yd(t,i,n):(i=i.replace(pd,t),n.push(i))}return n}function vd(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class bd{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new _d(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Kt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Sd(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Kt.Native:case Kt.ShadowDom:return new xd(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=yd(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class _d{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(fd[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=fd[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=fd[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&vn.DashCase?t.style.setProperty(e,n,r&vn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&vn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Ed(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Ed(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vd(n)):this.eventManager.addEventListener(t,e,vd(n))}}const wd=(()=>"@".charCodeAt(0))();function Ed(t,e){if(t.charCodeAt(0)===wd)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Sd extends _d{constructor(t,e,n,r){super(t),this.component=n;const i=yd(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=gd.replace(pd,r+"-"+n.id),this.hostAttr=md.replace(pd,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class xd extends _d{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Kt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=yd(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Cd=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Id=Cd("addEventListener"),kd=Cd("removeEventListener"),Td={},Ad="FALSE",Nd="ANGULAR",Rd="addEventListener",Od="removeEventListener",Dd="__zone_symbol__propagationStopped",Pd="__zone_symbol__stopImmediatePropagation",Ld=(()=>{const t="undefined"!=typeof Zone&&Zone[Cd("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Md=function(t){return!!Ld&&Ld.hasOwnProperty(t)},Fd=function(t){const e=Td[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Dd];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class Ud extends cd{constructor(t,e,n){super(t),this.ngZone=e,n&&oc(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Pd])return;const t=Event.prototype[Pd]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Dd]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Id]||vo.isInAngularZone()&&!Md(e))t[Rd](e,r,!1);else{let n=Td[e];n||(n=Td[e]=Cd(Nd+e+Ad));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=Md(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[Id](e,Fd,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[kd];if(!r)return t[Od].apply(t,[e,n,!1]);let i=Td[e],o=i&&t[i];if(!o)return t[Od].apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,Fd,!1]):t[Od].apply(t,[e,n,!1])}}const Vd={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},jd=new kt("HammerGestureConfig"),Bd=new kt("HammerLoader");class qd{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Hd extends cd{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Vd.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const zd=["alt","control","meta","shift"],Gd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Wd extends cd{constructor(t){super(t)}supports(t){return null!=Wd.parseEventName(t)}addEventListener(t,e,n){const r=Wd.parseEventName(e),i=Wd.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zh().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Wd._normalizeKey(e.pop());let i="";if(zd.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=zh().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),zd.forEach(r=>{r!=n&&(0,Gd[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{Wd.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class $d{}class Kd extends $d{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case ke.NONE:return e;case ke.HTML:return e instanceof Yd?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Ce=Ce||new se(t);let r=e?String(e):"";n=Ce.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ce.getInertBodyElement(r)}while(r!==o);const s=new we,a=s.sanitizeChildren(Ie(n)||n);return oe()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ie(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case ke.STYLE:return e instanceof Xd?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ne);return e&&ue(e[1])===e[1]||t.match(Ae)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(oe()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case ke.SCRIPT:if(e instanceof Zd)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case ke.URL:return e instanceof tf||e instanceof Jd?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ue(String(e)));case ke.RESOURCE_URL:if(e instanceof tf)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Qd)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Yd(t)}bypassSecurityTrustStyle(t){return new Xd(t)}bypassSecurityTrustScript(t){return new Zd(t)}bypassSecurityTrustUrl(t){return new Jd(t)}bypassSecurityTrustResourceUrl(t){return new tf(t)}}class Qd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Yd extends Qd{getTypeName(){return"HTML"}}class Xd extends Qd{getTypeName(){return"Style"}}class Zd extends Qd{getTypeName(){return"Script"}}class Jd extends Qd{getTypeName(){return"URL"}}class tf extends Qd{getTypeName(){return"ResourceURL"}}const ef=Po(Jo,"browser",[{provide:Yi,useValue:nc},{provide:Qi,useValue:function(){Zh.makeCurrent(),id.init()},multi:!0},{provide:Zl,useClass:class extends Zl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=zh().getLocation(),this._history=zh().getHistory()}getBaseHrefFromDOM(){return zh().getBaseHref(this._doc)}onPopState(t){zh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){zh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ed()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ed()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[ec]},{provide:ec,useFactory:function(){return document},deps:[]}]);function nf(){return new ne}class rf{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:rf,providers:[{provide:Wi,useValue:t.appId},{provide:nd,useExisting:Wi},rd]}}}"undefined"!=typeof window&&window;const of=new wn("8.2.3"),sf=new wn("8.2.3"),af=new kt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class lf{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&oe()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){sf.full!==of.full&&console.warn("The Angular Material version ("+sf.full+") does not match the Angular CDK version ("+of.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function uf(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=al(t)}}}function cf(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function hf(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=al(t)}}}function df(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new k}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}let ff;try{ff="undefined"!=typeof Intl}catch(NR){ff=!1}let pf=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();function mf(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}class gf{}const yf=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class vf{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=yf.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const bf={enterDuration:450,exitDuration:400},_f=800,wf=mc({passive:!0});class Ef{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+_f;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===yf.VISIBLE||t.config.terminateOnPointerUp&&t.state===yf.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=hl(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},bf,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-o}px`,u.style.top=`${a-o}px`,u.style.height=`${2*o}px`,u.style.width=`${2*o}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new vf(this,u,n);return c.state=yf.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=yf.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},bf,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=yf.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=yf.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=hl(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,wf)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,wf)})}}const Sf=new kt("mat-ripple-global-options");class xf{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Ef(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class Cf{}class If{}const kf=new kt("mat-label-global-options"),Tf="accent",Af=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Nf{constructor(t){this._elementRef=t}}const Rf=cf(uf(hf(Nf)));class Of extends Rf{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Af)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=Tf)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class Df extends Of{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}class Pf{}function Lf(){return"undefined"!=typeof process}function Mf(t){switch(t.length){case 0:return new Va;case 1:return t[0];default:return new ja(t)}}function Ff(t,e,n,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case Ba:a=i[n];break;case La:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Uf(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Vf(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Vf(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Vf(n,"destroy",t)))}}function Vf(t,e,n){const r=n.totalTime,i=jf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function jf(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Bf(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function qf(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Hf=(t,e)=>!1,zf=(t,e)=>!1,Gf=(t,e,n)=>[];const Wf=Lf();(Wf||"undefined"!=typeof Element)&&(Hf=(t,e)=>t.contains(e),zf=(()=>{if(Wf||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):zf}})(),Gf=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let $f=null,Kf=!1;function Qf(t){$f||($f=("undefined"!=typeof document?document.body:null)||{},Kf=!!$f.style&&"WebkitAppearance"in $f.style);let e=!0;return $f.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in $f.style)&&Kf&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in $f.style),e}const Yf=zf,Xf=Hf,Zf=Gf;function Jf(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class tp{validateStyleProperty(t){return Qf(t)}matchesElement(t,e){return Yf(t,e)}containsElement(t,e){return Xf(t,e)}query(t,e,n){return Zf(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Va(n,r)}}let ep=(()=>{class t{}return t.NOOP=new tp,t})();const np=1e3,rp="{{",ip="ng-enter",op="ng-leave",sp="ng-trigger",ap=".ng-trigger",lp="ng-animating",up=".ng-animating";function cp(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hp(parseFloat(e[1]),e[2])}function hp(t,e){switch(e){case"s":return t*np;default:return t}}function dp(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=hp(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=hp(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function fp(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function pp(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else fp(t,n);return n}function mp(t,e,n){return n?e+":"+n+";":""}function gp(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=mp(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=mp(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function yp(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Cp(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Lf()&&gp(t))}function vp(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Cp(e);t.style[n]=""}),Lf()&&gp(t))}function bp(t){return Array.isArray(t)?1==t.length?t[0]:Ma(t):t}const _p=new RegExp(`${rp}\\s*(.+?)\\s*}}`,"g");function wp(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=_p.exec(n);)e.push(r[1]);_p.lastIndex=0}return e}function Ep(t,e,n){const r=t.toString(),i=r.replace(_p,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Sp(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const xp=/-+([a-z0-9])/g;function Cp(t){return t.replace(xp,(...t)=>t[1].toUpperCase())}function Ip(t,e){return 0===t||0===e}function kp(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=Ap(t,e)}))}}return e}function Tp(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ap(t,e){return window.getComputedStyle(t)[e]}const Np="*";function Rp(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Pp(i,s)),"<"!=o[0]||i==Np&&s==Np||e.push(Pp(s,i))})(t,n,e)):n.push(t),n}const Op=new Set(["true","1"]),Dp=new Set(["false","0"]);function Pp(t,e){const n=Op.has(t)||Dp.has(t),r=Op.has(e)||Dp.has(e);return(i,o)=>{let s=t==Np||t==i,a=e==Np||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Op.has(t):Dp.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Op.has(e):Dp.has(e)),s&&a}}const Lp=":self",Mp=new RegExp(`s*${Lp}s*,?`,"g");function Fp(t,e,n){return new Vp(t).build(e,n)}const Up="";class Vp{constructor(t){this._driver=t}build(t,e){const n=new jp(e);return this._resetContextStyleTimingState(n),Tp(this,bp(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Up,t.collectedStyles={},t.collectedStyles[Up]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Bp(t)){const e=t;Object.keys(e).forEach(t=>{wp(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Sp(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Tp(this,bp(t.animation),e);return{type:1,matchers:Rp(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:qp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Tp(this,t,e)),options:qp(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Tp(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:qp(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Hp(dp(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Hp(0,0,"");return t.dynamic=!0,t.strValue=r,t}return Hp((n=n||dp(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Fa({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Fa(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==La?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Bp(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(rp)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=wp(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Bp(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Bp(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Tp(this,bp(t.animation),e),options:qp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:qp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qp(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==Lp);return e&&(t=t.replace(Mp,"")),[t=t.replace(/@\*/g,ap).replace(/@\w+/g,t=>ap+"-"+t.substr(1)).replace(/:animating/g,up),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Bf(e.collectedStyles,e.currentQuerySelector,{});const s=Tp(this,bp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:qp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:dp(t.timings,e.errors,!0);return{type:12,animation:Tp(this,bp(t.animation),e),timings:n,options:null}}}class jp{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Bp(t){return!Array.isArray(t)&&"object"==typeof t}function qp(t){var e;return t?(t=fp(t)).params&&(t.params=(e=t.params)?fp(e):null):t={},t}function Hp(t,e,n){return{duration:t,delay:e,easing:n}}function zp(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Gp{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Wp=1,$p=new RegExp(":enter","g"),Kp=new RegExp(":leave","g");function Qp(t,e,n,r,i,o={},s={},a,l,u=[]){return(new Yp).buildKeyframes(t,e,n,r,i,o,s,a,l,u)}class Yp{buildKeyframes(t,e,n,r,i,o,s,a,l,u=[]){l=l||new Gp;const c=new Zp(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),Tp(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[zp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?cp(n.duration):null,o=null!=n.delay?cp(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Tp(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Xp);const t=cp(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Tp(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?cp(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Tp(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return dp(e.params?Ep(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?cp(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Xp);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),Tp(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;Tp(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Xp={};class Zp{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Jp(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=cp(n.duration)),null!=n.delay&&(r.delay=cp(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ep(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Zp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Xp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new tm(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace($p,"."+this._enterClassName)).replace(Kp,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Jp{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Jp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Wp,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||La,this._currentKeyframe[t]=La}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=La}):pp(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Ep(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:La),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=pp(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==Ba?t.add(n):r==La&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Sp(t.values()):[],o=e.size?Sp(e.values()):[];if(n){const t=r[0],e=fp(t);t.offset=0,e.offset=1,r=[t,e]}return zp(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class tm extends Jp{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=pp(t[0],!1);a.offset=0,i.push(a);const l=pp(t[0],!1);l.offset=em(s),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let s=pp(t[r],!1);s.offset=em((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return zp(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function em(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class nm{}class rm extends nm{normalizePropertyName(t,e){return Cp(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(im[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const im=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function om(t,e,n,r,i,o,s,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const sm={};class am{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||sm,d=this.buildStyles(n,s&&s.params||sm,c),f=a&&a.params||sm,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign({},h,f)},_=u?[]:Qp(t,e,this.ast.animation,i,o,d,p,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return om(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,c);_.forEach(t=>{const n=t.element,r=Bf(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Bf(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Sp(m.values());return om(e,this._triggerName,n,r,v,d,p,_,E,g,y,w)}}class lm{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=fp(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Ep(o,r,e)),n[t]=o})}}),n}}class um{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new lm(t.style,t.options&&t.options.params||{})}),cm(this.states,"true","1"),cm(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new am(t,e,this.states))}),this.fallbackTransition=new am(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function cm(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const hm=new Gp;class dm{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Fp(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ff(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Qp(this._driver,e,i,ip,op,{},{},n,hm,r)).forEach(t=>{const e=Bf(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,La)})});const a=Mf(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=jf(e,"","","");return Uf(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fm="ng-animate-queued",pm=".ng-animate-queued",mm="ng-animate-disabled",gm=".ng-animate-disabled",ym="ng-star-inserted",vm=".ng-star-inserted",bm=[],_m={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Em="__ng_removed";class Sm{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=fp(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const xm="void",Cm=new Sm(xm);class Im{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Pm(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Bf(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Bf(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Pm(t,sp),Pm(t,sp+"-"+e),a[e]=Cm),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Tm(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Pm(t,sp),Pm(t,sp+"-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new Sm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=Cm),l.value!==xm&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{vp(t,n),yp(t,r)})}return}const u=Bf(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(Pm(t,fm),o.onStart(()=>{Lm(t,fm)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,ap,!0).forEach(t=>{if(t[Em])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,xm,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Mf(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||Cm,s=new Sm(xm),a=new Tm(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){Pm(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=jf(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Uf(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class km{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Im(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Am(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Am(e))return;const i=e[Em];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pm(t,mm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lm(t,mm))}removeNode(t,e,n,r){if(Am(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[Em]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Am(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ap,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,up,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Mf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Em];if(e&&e.setForRemoval){if(t[Em]=_m,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,gm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,gm,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Pm(this.collectedEnterElements[n],ym);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Mf(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Gp,r=[],i=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,pm,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Om(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=ip+p++;f.set(e,n),t.forEach(t=>Pm(t,n))});const m=[],g=new Set,y=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t[Em];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,vm,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Om(h,Array.from(g));b.forEach((t,e)=>{const n=op+p++;v.set(e,n),t.forEach(t=>Pm(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Lm(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Lm(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[Em];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(!p.errors||!p.errors.length)return u?(e.onStart(()=>vp(i,p.fromStyles)),e.onDestroy(()=>yp(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>vp(i,p.fromStyles)),e.onDestroy(()=>yp(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Bf(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Bf(E,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Fm(t,a,l)),C=new Map;Rm(C,this.driver,y,l,La).forEach(t=>{Fm(t,a,l)&&x.push(t)});const I=new Map;d.forEach((t,e)=>{Rm(I,this.driver,new Set(t),a,Ba)}),x.forEach(t=>{const e=C.get(t),n=I.get(t);C.set(t,Object.assign({},e,n))});const k=[],T=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>yp(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,i,I,C);if(o.setRealPlayer(n),t===A)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Mf(e)),r.push(o)}}else vp(e,s.fromStyles),o.onDestroy(()=>yp(e,s.toStyles)),T.push(o),u.has(e)&&r.push(o)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Mf(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<m.length;N++){const t=m[N],e=t[Em];if(Lm(t,op),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,up,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Mm(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e[Em];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==xm;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,l=Bf(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}vp(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[Em];if(d&&d.removedBeforeQueried)return new Va(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof ja?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||bm).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=Ff(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new Tm(t,s,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{Bf(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Pm(t,lp));const d=Mf(h);return d.onDestroy(()=>{u.forEach(t=>Lm(t,lp)),yp(a,e.toStyles)}),c.forEach(t=>{Bf(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Va(t.duration,t.delay)}}class Tm{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Va,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Uf(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bf(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Am(t){return t&&1===t.nodeType}function Nm(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Rm(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Nm(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[Em]=wm,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Nm(t,o[a++])),s}function Om(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const Dm="$$classes";function Pm(t,e){if(t.classList)t.classList.add(e);else{let n=t[Dm];n||(n=t[Dm]={}),n[e]=!0}}function Lm(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Dm];n&&delete n[e]}}function Mm(t,e,n){Mf(n).onDone(()=>t.processLeaveNode(e))}function Fm(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Um{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new km(t,e,n),this._timelineEngine=new dm(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Fp(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new um(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=qf(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=qf(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Vm(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Bm(e[0]),e.length>1&&(r=Bm(e[e.length-1]))):e&&(n=Bm(e)),n||r?new jm(t,n,r):null}let jm=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&yp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yp(this._element,this._initialStyles),this._endStyles&&(yp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(vp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vp(this._element,this._endStyles),this._endStyles=null),yp(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Bm(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];qm(i)&&((e=e||{})[i]=t[i])}return e}function qm(t){return"display"===t||"position"===t}const Hm=3,zm="animation",Gm="animationend",Wm=1e3;class $m{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Jm(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Zm(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xm(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Km(this._element,this._name,"paused")}resume(){Km(this._element,this._name,"running")}setPosition(t){const e=Qm(this._element,this._name);this._position=t*this._duration,Zm(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(Hm))*Wm;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xm(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Jm(t,"").split(","),r=Ym(n,e);r>=0&&(n.splice(r,1),Zm(t,"",n.join(",")))}(this._element,this._name))}}function Km(t,e,n){Zm(t,"PlayState",n,Qm(t,e))}function Qm(t,e){const n=Jm(t,"");return n.indexOf(",")>0?Ym(n.split(","),e):Ym([n],e)}function Ym(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Xm(t,e,n){n?t.removeEventListener(Gm,e):t.addEventListener(Gm,e)}function Zm(t,e,n,r){const i=zm+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Jm(t,e){return t.style[zm+e]}const tg="forwards",eg="linear";class ng{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||eg,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $m(this.element,this.animationName,this._duration,this._delay,this.easing,tg,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ap(this.element,n))})}this.currentSnapshot=t}}class rg extends Va{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Jf(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const ig="gen_css_kf_",og=" ";class sg{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Qf(t)}matchesElement(t,e){return Yf(t,e)}containsElement(t,e){return Xf(t,e)}query(t,e,n){return Zf(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Jf(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=og;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=og,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof ng),l={};Ip(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=kp(t,e,l));if(0==n)return new rg(t,u);const c=`${ig}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Vm(t,e),f=new ng(t,e,c,n,r,i,u,d);return f.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ag{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ap(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class lg{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ug().toString()),this._cssKeyframesDriver=new sg}validateStyleProperty(t){return Qf(t)}matchesElement(t,e){return Yf(t,e)}containsElement(t,e){return Xf(t,e)}query(t,e,n){return Zf(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=o.filter(t=>t instanceof ag);Ip(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Vm(t,e=kp(t,e=e.map(t=>pp(t,!1)),l));return new ag(t,e,a,c)}}function ug(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class cg extends Da{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Kt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ma(t):t;return fg(this._renderer,null,e,"register",[n]),new hg(e,this._renderer)}}class hg extends Pa{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new dg(this._id,t,e||{},this._renderer)}}class dg{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return fg(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function fg(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const pg="@",mg="@.disabled";class gg{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new yg("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new vg(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class yg{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==pg&&e==mg?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vg extends yg{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==pg?"."==e.charAt(1)&&e==mg?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==pg){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=pg&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class bg extends Um{constructor(t,e,n){super(t.body,e,n)}}function _g(){return"function"==typeof ug()?new lg:new sg}function wg(){return new rm}function Eg(t,e,n){return new gg(t,e,n)}const Sg=new kt("AnimationModuleType");class xg{}var Cg=or({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Ig(t){return xs(2,[hs(671088640,1,{ripple:0}),(t()(),ss(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),gs(null,0),(t()(),ss(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),gi(4,212992,[[1,4]],0,xf,[pn,vo,cc,[2,Sf],[2,Sg]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),ss(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,ri(e,4).unbounded)}))}var kg=or({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Tg(t){return xs(2,[hs(671088640,1,{ripple:0}),(t()(),ss(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),gs(null,0),(t()(),ss(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),gi(4,212992,[[1,4]],0,xf,[pn,vo,cc,[2,Sf],[2,Sg]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),ss(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,ri(e,4).unbounded)}))}var Ag=or({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function Ng(t){return xs(0,[(t()(),os(0,null,null,0))],null,null)}function Rg(t){return xs(0,[hs(402653184,1,{_portalOutlet:0}),(t()(),os(16777216,null,null,1,null,Ng)),gi(2,212992,[[1,4]],0,Ka,[cn,jn],{portal:[0,"portal"]},null)],(function(t,e){t(e,2,0,"")}),null)}function Og(t){return xs(0,[(t()(),ss(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],(function(t,e,n){var r=!0;return"component:@state.done"===e&&(r=!1!==ri(t,1).onAnimationEnd(n)&&r),r}),Rg,Ag)),gi(1,180224,null,0,Mh,[vo,pn,Pe,Ph],null,null)],null,(function(t,e){t(e,0,0,ri(e,1)._role,ri(e,1)._animationState)}))}var Dg=Wr("snack-bar-container",Mh,Og,{},{},[]),Pg=or({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function Lg(t){return xs(0,[(t()(),ss(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.action()&&r),r}),Ig,Cg)),gi(2,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),(t()(),ws(3,0,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,ri(e,2).disabled||null,"NoopAnimations"===ri(e,2)._animationMode),t(e,3,0,n.data.action)}))}function Mg(t){return xs(2,[(t()(),ss(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(1,null,["",""])),(t()(),os(16777216,null,null,1,null,Lg)),gi(3,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.hasAction)}),(function(t,e){t(e,1,0,e.component.data.message)}))}function Fg(t){return xs(0,[(t()(),ss(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,Mg,Pg)),gi(1,49152,null,0,Lh,[Oh,Dh],null,null)],null,null)}var Ug=Wr("simple-snack-bar",Lh,Fg,{},{},[]);class Vg extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}function jg(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}jg.prototype=Object.create(Error.prototype);const Bg=jg;function qg(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?W(n):tl()).subscribe(e)})}function Hg(t){return function(e){return 0===t?tl():e.lift(new zg(t))}}class zg{constructor(t){if(this.total=t,this.total<0)throw new Za}call(t,e){return e.subscribe(new Gg(t,this.total))}}class Gg extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}const Wg=(t=$g)=>eh({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function $g(){return new Bg}function Kg(t=null){return e=>e.lift(new Qg(t))}class Qg{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Yg(t,this.defaultValue))}}class Yg extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Xg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dl((e,n)=>t(e,n,r)):Y,Hg(1),n?Kg(e):Wg(()=>new Bg))}function Zg(t){return function(e){const n=new Jg(t),r=e.lift(n);return n.caught=r}}class Jg{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ty(t,this.selector,this.caught))}}class ty extends B{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N(this,void 0,void 0);this.add(r),j(this,n,void 0,void 0,r)}}}function ey(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dl((e,n)=>t(e,n,r)):Y,el(1),n?Kg(e):Wg(()=>new Bg))}class ny{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new ry(t,this.predicate,this.thisArg,this.source))}}class ry extends m{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function iy(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new oy(t,e,n))}}class oy{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new sy(t,this.accumulator,this.seed,this.hasSeed))}}class sy extends m{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ay(t,e){return $(t,e,1)}function ly(t){return e=>e.lift(new uy(t))}class uy{constructor(t){this.callback=t}call(t,e){return e.subscribe(new cy(t,this.callback))}}class cy extends m{constructor(t,e){super(t),this.add(new d(e))}}class hy{constructor(t,e){this.id=t,this.url=e}}class dy extends hy{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fy extends hy{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class py extends hy{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class my extends hy{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gy extends hy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yy extends hy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vy extends hy{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class by extends hy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _y extends hy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wy{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ey{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sy{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xy{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cy{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iy{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ty{}const Ay="primary";class Ny{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ry(t){return new Ny(t)}const Oy="ngNavigationCancelingError";function Dy(t){const e=Error("NavigationCancelingError: "+t);return e[Oy]=!0,e}function Py(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Ly{constructor(t,e){this.routes=t,this.module=e}}function My(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Fy(r,Uy(e,r))}}function Fy(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ay)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&My(t.children,e)}function Uy(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Vy(t){const e=t.children&&t.children.map(Vy),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ay&&(n.component=Ty),n}function jy(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function By(t){return Array.prototype.concat.apply([],t)}function qy(t){return t.length>0?t[t.length-1]:null}function Hy(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zy(t){return nn(t)?t:en(t)?W(Promise.resolve(t)):fl(t)}function Gy(t,e,n){return n?function(t,e){return jy(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Qy(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Qy(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Qy(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Qy(n.segments,t)&&!!n.children[Ay]&&e(n.children[Ay],r,o)}}(e,n,n.segments)}(t.root,e.root)}class Wy{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ry(this.queryParams)),this._queryParamMap}toString(){return Jy.serialize(this)}}class $y{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Hy(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tv(this)}}class Ky{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ry(this.parameters)),this._parameterMap}toString(){return sv(this)}}function Qy(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Yy(t,e){let n=[];return Hy(t.children,(t,r)=>{r===Ay&&(n=n.concat(e(t,r)))}),Hy(t.children,(t,r)=>{r!==Ay&&(n=n.concat(e(t,r)))}),n}class Xy{}class Zy{parse(t){const e=new hv(t);return new Wy(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return tv(e);if(n){const n=e.children[Ay]?t(e.children[Ay],!1):"",r=[];return Hy(e.children,(e,n)=>{n!==Ay&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Yy(e,(n,r)=>r===Ay?[t(e.children[Ay],!1)]:[`${r}:${t(n,!1)}`]);return`${tv(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${nv(e)}=${nv(t)}`).join("&"):`${nv(e)}=${nv(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Jy=new Zy;function tv(t){return t.segments.map(t=>sv(t)).join("/")}function ev(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nv(t){return ev(t).replace(/%3B/gi,";")}function rv(t){return ev(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iv(t){return decodeURIComponent(t)}function ov(t){return iv(t.replace(/\+/g,"%20"))}function sv(t){return`${rv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${rv(t)}=${rv(e[t])}`).join("")}`;var e}const av=/^[^\/()?;=#]+/;function lv(t){const e=t.match(av);return e?e[0]:""}const uv=/^[^=?&#]+/,cv=/^[^?&#]+/;class hv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $y([],{}):new $y([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ay]=new $y(t,e)),n}parseSegment(){const t=lv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ky(iv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=lv(this.remaining);t&&this.capture(n=t)}t[iv(e)]=iv(n)}parseQueryParam(t){const e=function(t){const e=t.match(uv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(cv);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=ov(e),i=ov(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=lv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ay);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Ay]:new $y([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=fv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return pv(t,this._root).map(t=>t.value)}}function fv(t,e){if(t===e.value)return e;for(const n of e.children){const e=fv(t,n);if(e)return e}return null}function pv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=pv(t,n);if(r.length)return r.unshift(e),r}return[]}class mv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function gv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class yv extends dv{constructor(t,e){super(t),this.snapshot=e,Sv(this,t)}toString(){return this.snapshot.toString()}}function vv(t,e){const n=function(t,e){const n=new wv([],{},{},"",{},Ay,e,null,t.root,-1,{});return new Ev("",new mv(n,[]))}(t,e),r=new Vg([new Ky("",{})]),i=new Vg({}),o=new Vg({}),s=new Vg({}),a=new Vg(""),l=new bv(r,i,s,a,o,Ay,e,n.root);return l.snapshot=n.root,new yv(new mv(l,[]),n)}class bv{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(t=>Ry(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(t=>Ry(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _v(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wv{constructor(t,e,n,r,i,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ry(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ry(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ev extends dv{constructor(t,e){super(e),this.url=t,Sv(this,e)}toString(){return xv(this._root)}}function Sv(t,e){e.value._routerState=t,e.children.forEach(e=>Sv(t,e))}function xv(t){const e=t.children.length>0?` { ${t.children.map(xv).join(", ")} } `:"";return`${t.value}${e}`}function Cv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jy(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),jy(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jy(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),jy(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Iv(t,e){var n,r;return jy(t.params,e.params)&&Qy(n=t.url,r=e.url)&&n.every((t,e)=>jy(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Iv(t.parent,e.parent))}function kv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tv(t,e,n,r,i){let o={};return r&&Hy(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Wy(n.root===t?e:function t(e,n,r){const i={};return Hy(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new $y(e.segments,i)}(n.root,t,e),o,i)}class Av{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&kv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==qy(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Rv(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ay]:`${t}`}function Ov(t,e,n){if(t||(t=new $y([],{})),0===t.segments.length&&t.hasChildren())return Dv(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Rv(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Fv(s,a,e))return o;r+=2}else{if(!Fv(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new $y(t.segments.slice(0,r.pathIndex),{});return e.children[Ay]=new $y(t.segments.slice(r.pathIndex),t.children),Dv(e,0,i)}return r.match&&0===i.length?new $y(t.segments,{}):r.match&&!t.hasChildren()?Pv(t,e,n):r.match?Dv(t,0,i):Pv(t,e,n)}function Dv(t,e,n){if(0===n.length)return new $y(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[Ay]:t}:void 0===t[0].outlets?{[Ay]:t}:t[0].outlets}(n),i={};return Hy(r,(n,r)=>{null!==n&&(i[r]=Ov(t.children[r],e,n))}),Hy(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new $y(t.segments,i)}}function Pv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Lv(n[i].outlets);return new $y(r,t)}if(0===i&&kv(n[0])){r.push(new Ky(t.segments[e].path,n[0])),i++;continue}const o=Rv(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&kv(s)?(r.push(new Ky(o,Mv(s))),i+=2):(r.push(new Ky(o,{})),i++)}return new $y(r,{})}function Lv(t){const e={};return Hy(t,(t,n)=>{null!==t&&(e[n]=Pv(new $y([],{}),0,t))}),e}function Mv(t){const e={};return Hy(t,(t,n)=>e[n]=`${t}`),e}function Fv(t,e,n){return t==n.path&&jy(e,n.parameters)}const Uv=(t,e,n)=>q(r=>(new Vv(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Vv{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Cv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=gv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Hy(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=gv(t),i=t.value.component?n.children:e;Hy(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=gv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Iy(t.value.snapshot))}),t.children.length&&this.forwardEvent(new xy(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Cv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),jv(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function jv(t){Cv(t.value),t.children.forEach(jv)}function Bv(t){return"function"==typeof t}function qv(t){return t instanceof Wy}class Hv{constructor(t){this.segmentGroup=t||null}}class zv{constructor(t){this.urlTree=t}}function Gv(t){return new w(e=>e.error(new Hv(t)))}function Wv(t){return new w(e=>e.error(new zv(t)))}function $v(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Kv{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(zt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ay).pipe(q(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zg(t=>{if(t instanceof zv)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Hv)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ay).pipe(q(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Zg(t=>{if(t instanceof Hv)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new $y([],{[Ay]:t}):t;return new Wy(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q(t=>new $y([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return fl({});const n=[],r=[],i={};return Hy(t,(t,o)=>{const s=e(o,t).pipe(q(t=>i[o]=t));o===Ay?n.push(s):r.push(s)}),fl.apply(null,n.concat(r)).pipe(Ml(),Xg(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return fl(...n).pipe(q(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Zg(t=>{if(t instanceof Hv)return fl(null);throw t}))),Ml(),ey(t=>!!t),Zg((t,n)=>{if(t instanceof Bg||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return fl(new $y([],{}));throw new Hv(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Zv(r)!==o?Gv(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Gv(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wv(i):this.lineralizeSegments(n,i).pipe($(n=>{const i=new $y(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Qv(e,r,i);if(!s)return Gv(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Wv(c):this.lineralizeSegments(r,c).pipe($(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(q(t=>(n._loadedConfig=t,new $y(r,{})))):fl(new $y(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Qv(e,n,r);if(!i)return Gv(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe($(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Xv(t,e,n)&&Zv(n)!==Ay)}(t,n,r)?{segmentGroup:Yv(new $y(e,function(t,e){const n={};n[Ay]=e;for(const r of t)""===r.path&&Zv(r)!==Ay&&(n[Zv(r)]=new $y([],{}));return n}(r,new $y(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Xv(t,e,n))}(t,n,r)?{segmentGroup:Yv(new $y(t.segments,function(t,e,n,r){const i={};for(const o of n)Xv(t,e,o)&&!r[Zv(o)]&&(i[Zv(o)]=new $y([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(q(t=>new $y(o,t))):0===r.length&&0===s.length?fl(new $y(o,{})):this.expandSegment(n,i,r,s,Ay,!0).pipe(q(t=>new $y(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?fl(new Ly(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?fl(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?W(r).pipe(q(r=>{const i=t.get(r);let o;if(function(t){return t&&Bv(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Bv(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return zy(o)})).pipe(Ml(),(i=t=>!0===t,t=>t.lift(new ny(i,void 0,t)))):fl(!0);var i}(t.injector,e,n).pipe($(n=>n?this.configLoader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Dy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):fl(new Ly([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return fl(n);if(r.numberOfChildren>1||!r.children[Ay])return $v(t.redirectTo);r=r.children[Ay]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Wy(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Hy(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Hy(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new $y(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Qv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Py)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yv(t){if(1===t.numberOfChildren&&t.children[Ay]){const e=t.children[Ay];return new $y(t.segments.concat(e.segments),e.children)}return t}function Xv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Zv(t){return t.outlet||Ay}class Jv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tb{constructor(t,e){this.component=t,this.route=e}}function eb(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=gv(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qy(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qy(t.url,e.url)||!jy(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iv(t,e)||!jy(t.queryParams,e.queryParams);case"paramsChange":default:return!Iv(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Jv(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new tb(l&&l.outlet&&l.outlet.component||null,a))}else a&&rb(n,l,o),o.canActivateChecks.push(new Jv(i)),t(e,null,s.component?l?l.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Hy(s,(t,e)=>rb(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function nb(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function rb(t,e,n){const r=gv(t),i=t.value;Hy(r,(t,r)=>{rb(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new tb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const ib=Symbol("INITIAL_VALUE");function ob(){return Vl(t=>_h(...t.map(t=>t.pipe(el(1),Ul(ib)))).pipe(iy((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ib)return t;if(r===ib&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||qv(r))return r}return t},t)},ib),Dl(t=>t!==ib),q(t=>qv(t)?t:!0===t),el(1)))}function sb(t,e){return null!==t&&e&&e(new Cy(t)),fl(!0)}function ab(t,e){return null!==t&&e&&e(new Sy(t)),fl(!0)}function lb(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?fl(r.map(r=>qg(()=>{const i=nb(r,e,n);let o;if(function(t){return t&&Bv(t.canActivate)}(i))o=zy(i.canActivate(e,t));else{if(!Bv(i))throw new Error("Invalid CanActivate guard");o=zy(i(e,t))}return o.pipe(ey())}))).pipe(ob()):fl(!0)}function ub(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>qg(()=>fl(e.guards.map(i=>{const o=nb(i,e.node,n);let s;if(function(t){return t&&Bv(t.canActivateChild)}(o))s=zy(o.canActivateChild(r,t));else{if(!Bv(o))throw new Error("Invalid CanActivateChild guard");s=zy(o(r,t))}return s.pipe(ey())})).pipe(ob())));return fl(i).pipe(ob())}class cb{}class hb{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=pb(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ay),n=new wv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ay,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mv(n,e),i=new Ev(this.url,r);return this.inheritParamsAndData(i._root),fl(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=_v(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Yy(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Ay?-1:e.value.outlet===Ay?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof cb))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new cb}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new cb;if((t.outlet||Ay)!==r)throw new cb;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?qy(n).parameters:{};i=new wv(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yb(t),r,t.component,t,db(e),fb(e)+n.length,vb(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new cb;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Py)(n,t,e);if(!r)throw new cb;const i={};Hy(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new wv(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yb(t),r,t.component,t,db(e),fb(e)+o.length,vb(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=pb(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new mv(i,t)]}if(0===a.length&&0===u.length)return[new mv(i,[])];const c=this.processSegment(a,l,u,Ay);return[new mv(i,c)]}}function db(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fb(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function pb(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>mb(t,e,n)&&gb(n)!==Ay)}(t,n,r)){const i=new $y(e,function(t,e,n,r){const i={};i[Ay]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&gb(o)!==Ay){const n=new $y([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[gb(o)]=n}return i}(t,e,r,new $y(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>mb(t,e,n))}(t,n,r)){const o=new $y(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(mb(t,n,a)&&!i[gb(a)]){const n=new $y([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[gb(a)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new $y(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function mb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function gb(t){return t.outlet||Ay}function yb(t){return t.data||{}}function vb(t){return t.resolve||{}}function bb(t,e,n,r){const i=nb(t,e,r);return zy(i.resolve?i.resolve(e,n):i(e,n))}function _b(t){return function(e){return e.pipe(Vl(e=>{const n=t(e);return n?W(n).pipe(q(()=>e)):W([e])}))}}class wb{}class Eb{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Sb=new kt("ROUTES");class xb{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ly(By(r.injector.get(Sb)).map(Vy),r)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):zy(t()).pipe($(t=>t instanceof Gt?fl(t):W(this.compiler.compileModuleAsync(t))))}}class Cb{}class Ib{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function kb(t){throw t}function Tb(t,e,n){return e.parse("/")}function Ab(t,e){return fl(null)}class Nb{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=kb,this.malformedUriErrorHandler=Tb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ab,afterPreactivation:Ab},this.urlHandlingStrategy=new Ib,this.routeReuseStrategy=new Eb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(zt),this.console=i.get(Zi);const l=i.get(vo);this.isNgZoneEnabled=l instanceof vo,this.resetConfig(a),this.currentUrlTree=new Wy(new $y([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xb(o,s,t=>this.triggerEvent(new wy(t)),t=>this.triggerEvent(new Ey(t))),this.routerState=vv(this.currentUrlTree,this.rootComponentType),this.transitions=new Vg({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Dl(t=>0!==t.id),q(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Vl(t=>{let n=!1,r=!1;return fl(t).pipe(eh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Vl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return fl(t).pipe(Vl(t=>{const n=this.transitions.getValue();return e.next(new dy(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ja:[t]}),Vl(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Vl(i=>(function(t,e,n,r,i){return new Kv(t,e,n,r,i).apply()})(t,e,n,i.extractedUrl,r).pipe(q(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),eh(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe($(o=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new hb(t,e,n,r,i,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(q(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),eh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),eh(t=>{const n=new gy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new dy(n,this.serializeUrl(r),i,o);e.next(a);const l=vv(r,this.rootComponentType).snapshot;return fl(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ja}),_b(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),eh(t=>{const e=new yy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),q(t=>Object.assign({},t,{guards:eb(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe($(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?fl(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return W(t).pipe($(t=>(function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?fl(o.map(o=>{const s=nb(o,e,i);let a;if(function(t){return t&&Bv(t.canDeactivate)}(s))a=zy(s.canDeactivate(t,e,n,r));else{if(!Bv(s))throw new Error("Invalid CanDeactivate guard");a=zy(s(t,e,n,r))}return a.pipe(ey())})).pipe(ob()):fl(!0)})(t.component,t.route,n,e,r)),ey(t=>!0!==t,!0))}(s,r,i,t).pipe($(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return W(e).pipe(ay(e=>W([ab(e.route.parent,r),sb(e.route,r),ub(t,e.path,n),lb(t,e.route,n)]).pipe(Ml(),ey(t=>!0!==t,!0))),ey(t=>!0!==t,!0))}(r,o,t,e):fl(n)),q(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),eh(t=>{if(qv(t.guardsResult)){const e=Dy(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),eh(t=>{const e=new vy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new py(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),_b(t=>{if(t.guards.canActivateChecks.length)return fl(t).pipe(eh(t=>{const e=new by(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe($(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?W(i).pipe(ay(n=>(function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return fl({});if(1===i.length){const o=i[0];return bb(t[o],e,n,r).pipe(q(t=>({[o]:t})))}const o={};return W(i).pipe($(i=>bb(t[i],e,n,r).pipe(q(t=>(o[i]=t,t))))).pipe(Xg(),q(()=>o))}(t._resolve,t,e,r).pipe(q(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,_v(t,n).resolve),null)))})(n.route,r,t,e)),function(t,e){return arguments.length>=2?function(n){return b(iy(t,e),Hg(1),Kg(e))(n)}:function(e){return b(iy((e,n,r)=>t(e,n,r+1)),Hg(1))(e)}}((t,e)=>t),q(t=>n)):fl(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),eh(t=>{const e=new _y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),_b(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),q(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new mv(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new bv(new Vg((i=n.value).url),new Vg(i.params),new Vg(i.queryParams),new Vg(i.fragment),new Vg(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new mv(r,o)}}var i}(t,e._root,n?n._root:void 0);return new yv(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),eh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Uv(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),eh({next(){n=!0},complete(){n=!0}}),ly(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new py(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Zg(n=>{if(r=!0,function(t){return t&&t[Oy]}(n)){const r=qv(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new py(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new my(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return Ja}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){My(t),this.config=t.map(Vy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;oe()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Tv(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Av(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Hy(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Av(n,e,r)}(n);if(o.toRoot())return Tv(e.root,new $y([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Nv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Nv(n.snapshot._urlSegment,!0,0);const r=kv(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Nv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Dv(s.segmentGroup,s.index,o.commands):Ov(s.segmentGroup,s.index,o.commands);return Tv(s.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){oe()&&this.isNgZoneEnabled&&!vo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=qv(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(qv(t))return Gy(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Gy(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new fy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Rb{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Db(this.skipLocationChange),replaceUrl:Db(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Db(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Db(this.preserveFragment)})}}class Ob{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof fy&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Db(this.skipLocationChange),replaceUrl:Db(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Db(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Db(this.preserveFragment)})}}function Db(t){return""===t||!!t}class Pb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lb,this.attachRef=null}}class Lb{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pb,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mb{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Bi,this.deactivateEvents=new Bi,this.name=r||Ay,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Fb(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Fb{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===bv?this.route:t===Lb?this.childContexts:this.parent.get(t,e)}}class Ub{}class Vb{preload(t,e){return e().pipe(Zg(()=>fl(null)))}}class jb{preload(t,e){return fl(null)}}class Bb{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new xb(e,n,e=>t.triggerEvent(new wy(e)),e=>t.triggerEvent(new Ey(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dl(t=>t instanceof fy),ay(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(zt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return W(n).pipe(X(),q(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe($(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class qb{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ky&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ky(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Hb=new kt("ROUTER_CONFIGURATION"),zb=new kt("ROUTER_FORROOT_GUARD"),Gb=[nu,{provide:Xy,useClass:Zy},{provide:Nb,useFactory:Zb,deps:[Uo,Xy,Lb,nu,Ue,jo,so,Sb,Hb,[Cb,new ct],[wb,new ct]]},Lb,{provide:bv,useFactory:Jb,deps:[Nb]},{provide:jo,useClass:Go},Bb,jb,Vb,{provide:Hb,useValue:{enableTracing:!1}}];function Wb(){return new Do("Router",Nb)}class $b{constructor(t,e){}static forRoot(t,e){return{ngModule:$b,providers:[Gb,Xb(t),{provide:zb,useFactory:Yb,deps:[[Nb,new ct,new dt]]},{provide:Hb,useValue:e||{}},{provide:tu,useFactory:Qb,deps:[Zl,[new ut(eu),new ct],Hb]},{provide:qb,useFactory:Kb,deps:[Nb,ac,Hb]},{provide:Ub,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:jb},{provide:Do,multi:!0,useFactory:Wb},[t_,{provide:zi,multi:!0,useFactory:e_,deps:[t_]},{provide:r_,useFactory:n_,deps:[t_]},{provide:Xi,multi:!0,useExisting:r_}]]}}static forChild(t){return{ngModule:$b,providers:[Xb(t)]}}}function Kb(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new qb(t,e,n)}function Qb(t,e,n={}){return n.useHash?new iu(t,e):new ou(t,e)}function Yb(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xb(t){return[{provide:$e,multi:!0,useValue:t},{provide:Sb,multi:!0,useValue:t}]}function Zb(t,e,n,r,i,o,s,a,l={},u,c){const h=new Nb(null,e,n,r,i,o,s,By(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=zh();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Jb(t){return t.routerState.root}class t_{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Jl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Nb),r=this.injector.get(Hb);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?fl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Hb),n=this.injector.get(Bb),r=this.injector.get(qb),i=this.injector.get(Nb),o=this.injector.get(Uo);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function e_(t){return t.appInitializer.bind(t)}function n_(t){return t.bootstrapListener.bind(t)}const r_=new kt("Router Initializer");var i_=or({encapsulation:2,styles:[],data:{}});function o_(t){return xs(0,[(t()(),ss(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),gi(1,212992,null,0,Mb,[Lb,jn,cn,[8,null],Pe],null,null)],(function(t,e){t(e,1,0)}),null)}function s_(t){return xs(0,[(t()(),ss(0,0,null,null,1,"ng-component",[],null,null,null,o_,i_)),gi(1,49152,null,0,Ty,[],null,null)],null,null)}var a_=Wr("ng-component",Ty,s_,{},{},[]);class l_{}class u_{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new u_(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let c_=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const h_={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},d_=new kt("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>h_}),f_=new kt("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),p_=new kt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function m_(t,e){return t=t?t.clone():new u_,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const g_="inline",y_=["row","column","row-reverse","column-reverse"];function v_(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}class b_{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new k,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return y_.find(t=>t===e)||(e=y_[0]),n===g_&&(n=r!==g_?r:"",r=g_),[e,v_(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.addStyles(t)}}const __=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],w_="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",E_="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",S_="(orientation: portrait) and (min-width: 840px)",x_="(orientation: landscape) and (min-width: 1280px)",C_={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${w_} , ${E_}`,WEB:`${S_}, ${x_} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${w_} `,WEB_PORTRAIT:`${S_}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:`${E_}`,WEB_LANDSCAPE:`${x_}`},I_=[{alias:"handset",priority:2e3,mediaQuery:C_.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:C_.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:C_.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:C_.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:C_.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:C_.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:C_.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:C_.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:C_.WEB_PORTRAIT,overlapping:!0}],k_=/(\.|-|_)/g;function T_(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const A_=new kt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Bt(p_),e=Bt(d_),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(k_,"|").split("|").map(T_).join("")}(t.alias),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:__).concat(e.addOrientationBps?I_:[]),n)}});function N_(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function R_(t,e){return(t.priority||0)-(e.priority||0)}let O_=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(R_)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(A_))},token:t,providedIn:"root"}),t})(),D_=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new Vg(new u_(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return!!e&&e.matches}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Dl(n=>!e||t.indexOf(n.mediaQuery)>-1));return Z(new w(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()}),n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!P_[t]);if(n.length>0){const t=n.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(r),n.forEach(t=>P_[t]=r)}catch(r){console.error(r)}}}(e,this._document),e.forEach(t=>{let e=this.registry.get(t);e||((e=this.buildMQL(t)).addListener(e=>{this._zone.run(()=>this.source.next(new u_(e.matches,t)))}),this.registry.set(t,e)),e.matches&&n.push(new u_(!0,t))}),n}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}(t,ic(this._platformId))}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(vo),jt(Yi),jt(ec))},token:t,providedIn:"root"}),t})();const P_={},L_="print",M_={alias:L_,mediaQuery:L_,priority:1e3};let F_=(()=>{class t{constructor(t,e){this.breakpoints=t,this.layoutConfig=e,this.isPrinting=!1,this.queue=new U_,this.deactivations=[]}withPrintQuery(t){return[...t,L_]}isPrintEvent(t){return t.mediaQuery.startsWith(L_)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(N_)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),m_(t,e)}interceptEvents(t){return e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):!e.matches&&this.isPrinting&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting)if(t.matches)this.deactivations=[];else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(N_))}}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(O_),jt(d_))},token:t,providedIn:"root"}),t})();class U_{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(M_),t.sort(N_),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(L_)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function V_(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":t["-webkit-flex-direction"]=n=n||"row",t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let j_=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:V_(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:V_(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||oc(this._platformId)&&this._serverModuleLoaded?e:""]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return ic(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(ic(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",ic(this._platformId)||!this._serverModuleLoaded?ic(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${r}`);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(c_,8),jt(f_,8),jt(Yi),jt(d_))},token:t,providedIn:"root"}),t})();class B_{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function q_(t,e="1",n="1"){let r=[e,n,t],i=t.indexOf("calc");if(i>0){r[2]=H_(t.substring(i).trim());let e=t.substr(0,i).trim().split(" ");2==e.length&&(r[0]=e[0],r[1]=e[1])}else if(0==i)r[2]=H_(t.trim());else{let i=t.split(" ");r=3===i.length?i:[e,n,t]}return r}function H_(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let z_=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new k,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=m_(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(N_),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(N_),this.updateStyles()))}init(t,e,n,r,i=[]){G_(this.updateMap,t,e,n),G_(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const o=(i.get(r)||new Map).set(e,n);i.set(r,o),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}trackValue(t,e){return this.subject.asObservable().pipe(Dl(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n)){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Z(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(eh(this.hook.interceptEvents(this)),Dl(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(D_),jt(O_),jt(F_))},token:t,providedIn:"root"}),t})();function G_(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}const W_="inline",$_=["row","column","row-reverse","column-reverse"];function K_(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return $_.find(t=>t===e)||(e=$_[0]),n===W_&&(n=r!==W_?r:"",r=W_),[e,Y_(n),!!r]}function Q_(t){let[e]=K_(t);return e.indexOf("row")>-1}function Y_(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let X_=(()=>{class t extends B_{buildStyles(t){return function(t){let[e,n,r]=K_(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Z_=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];class J_ extends b_{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout",this.styleCache=ew,this.init()}}class tw extends J_{constructor(){super(...arguments),this.inputs=Z_}}const ew=new Map,nw={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let rw=(()=>{class t extends B_{constructor(t){super(),this._styler=t}buildStyles(t,e){return t.endsWith(hw)?function(t,e){let n="0px",r="0px";return"rtl"===e?r="-"+t:n="-"+t,{margin:`0px ${n} ${"-"+t} ${r}`}}(t=t.slice(0,t.indexOf(hw)),e.directionality):{}}sideEffect(t,e,n){const r=n.items;if(t.endsWith(hw)){const e=function(t,e){let n="0px",r="0px";return"rtl"===e?r=t:n=t,{padding:`0px ${n} ${t} ${r}`}}(t=t.slice(0,t.indexOf(hw)),n.directionality);this._styler.applyStyleToElements(e,n.items)}else{const e=r.pop(),i=function(t,e){const n=dw(e.directionality,e.layout),r=Object.assign({},nw);return r[n]=t,r}(t,n);this._styler.applyStyleToElements(i,r),this._styler.applyStyleToElements(nw,[e])}}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(j_))},token:t,providedIn:"root"}),t})();const iw=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];class ow extends b_{constructor(t,e,n,r,i,o){super(t,i,r,o),this.elRef=t,this.zone=e,this.directionality=n,this.styleUtils=r,this.styleBuilder=i,this.marshal=o,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new k;const s=[this.directionality.change,this.observerSubject.asObservable()];this.init(s),this.marshal.trackValue(this.nativeElement,"layout").pipe(il(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,e=[];for(let n=t.length;n--;)e[n]=t[n];return e}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],$_.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const e=this.childrenNodes.filter(t=>1===t.nodeType&&this.willDisplay(t)).sort((t,e)=>{const n=+this.styler.lookupStyle(t,"order"),r=+this.styler.lookupStyle(e,"order");return isNaN(n)||isNaN(r)||n===r?0:n>r?1:-1});if(e.length>0){const n=this.directionality.value,r=this.layout;"row"===r&&"rtl"===n?this.styleCache=aw:"row"===r&&"rtl"!==n?this.styleCache=uw:"column"===r&&"rtl"===n?this.styleCache=lw:"column"===r&&"rtl"!==n&&(this.styleCache=cw),this.addStyles(t,{directionality:n,items:e,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,e=t?"padding":dw(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[e]:""},this.childrenNodes)}willDisplay(t){const e=this.marshal.getValue(t,"show-hide");return!0===e||void 0===e&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(t=>t.addedNodes&&t.addedNodes.length>0||t.removedNodes&&t.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}class sw extends ow{constructor(){super(...arguments),this.inputs=iw}}const aw=new Map,lw=new Map,uw=new Map,cw=new Map,hw=" grid";function dw(t,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===t?"margin-left":"margin-right";case"row-reverse":return"rtl"===t?"margin-right":"margin-left";default:return"rtl"===t?"margin-left":"margin-right"}}function fw(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}let pw=(()=>{class t extends B_{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,r,...i]=t.split(" "),o=i.join(" ");const s=e.direction.indexOf("column")>-1?"column":"row",a=Q_(s)?"max-width":"max-height",l=Q_(s)?"min-width":"min-height",u=String(o).indexOf("calc")>-1,c=u||"auto"===o,h=String(o).indexOf("%")>-1&&!u,d=String(o).indexOf("px")>-1||String(o).indexOf("rem")>-1||String(o).indexOf("em")>-1||String(o).indexOf("vw")>-1||String(o).indexOf("vh")>-1;let f=u||d;r="0"==r?0:r;const p=!(n="0"==n?0:n)&&!r;let m={};const g={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(o||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;o="row"===s?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,o="auto";break;case"grow":o="100%";break;case"noshrink":r=0,o="auto";break;case"auto":break;case"none":n=0,r=0,o="auto";break;default:f||h||isNaN(o)||(o+="%"),"0%"===o&&(f=!0),"0px"===o&&(o="0%"),m=fw(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":f?o:"100%"}:{flex:`${n} ${r} ${f?o:"100%"}`})}return m.flex||m["flex-grow"]||(m=fw(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":o}:{flex:`${n} ${r} ${o}`})),"0%"!==o&&"0px"!==o&&"0.000000001px"!==o&&"auto"!==o&&(m[l]=p||f&&n?o:null,m[a]=p||!c&&r?o:null),m[l]||m[a]?e.hasWrap&&(m[u?"flex-basis":"flex"]=m[a]?u?m[a]:`${n} ${r} ${m[a]}`:u?m[l]:`${n} ${r} ${m[l]}`):m=fw(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":o}:{flex:`${n} ${r} ${o}`}),fw(m,{"box-sizing":"border-box"})}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(d_))},token:t,providedIn:"root"}),t})();const mw=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];class gw extends b_{constructor(t,e,n,r,i){super(t,r,e,i),this.elRef=t,this.styleUtils=e,this.layoutConfig=n,this.styleBuilder=r,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(il(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(il(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const e=this.direction,n=e.startsWith("row"),r=this.wrap;n&&r?this.styleCache=_w:n&&!r?this.styleCache=vw:!n&&r?this.styleCache=ww:n||r||(this.styleCache=bw);const i=q_(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:e,hasWrap:r})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=q_(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}class yw extends gw{constructor(){super(...arguments),this.inputs=mw}}const vw=new Map,bw=new Map,_w=new Map,ww=new Map;let Ew=(()=>{class t extends B_{buildStyles(t){const e={};switch(t=t||"stretch"){case"start":e["align-self"]="flex-start";break;case"end":e["align-self"]="flex-end";break;default:e["align-self"]=t}return e}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Sw=["fxFlexAlign","fxFlexAlign.xs","fxFlexAlign.sm","fxFlexAlign.md","fxFlexAlign.lg","fxFlexAlign.xl","fxFlexAlign.lt-sm","fxFlexAlign.lt-md","fxFlexAlign.lt-lg","fxFlexAlign.lt-xl","fxFlexAlign.gt-xs","fxFlexAlign.gt-sm","fxFlexAlign.gt-md","fxFlexAlign.gt-lg"];class xw extends b_{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="flex-align",this.styleCache=Cw,this.init()}}const Cw=new Map;class Iw extends xw{constructor(){super(...arguments),this.inputs=Sw}}let kw=(()=>{class t extends B_{buildStyles(t,e){const n={},[r,i]=t.split(" ");switch(r){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(i){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return fw(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===i?Q_(e.layout)?null:"100%":null,"max-height":"stretch"===i&&Q_(e.layout)?"100%":null})}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Tw=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];class Aw extends b_{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(il(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=Lw:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=Fw:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=Mw:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=Uw:"column-reverse"!==e||n||(this.styleCache=Pw):this.styleCache=Ow:this.styleCache=Dw:this.styleCache=Rw,this.addStyles(t,{layout:e,inline:n})}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],this.inline=t.value.includes("inline"),$_.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}}class Nw extends Aw{constructor(){super(...arguments),this.inputs=Tw}}const Rw=new Map,Ow=new Map,Dw=new Map,Pw=new Map,Lw=new Map,Mw=new Map,Fw=new Map,Uw=new Map;class Vw{}const jw=new kt("MAT_GRID_LIST");class Bw{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(ll(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(ll(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}class qw{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Hw(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class Hw{constructor(t,e){this.row=t,this.col=e}}const zw=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Gw{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,r){this._gutterSize=Yw(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Qw(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let r=100/this._cols,i=(this._cols-1)/this._cols;this.setColStyles(t,n,r,i),this.setRowStyles(t,e,r,i)}setColStyles(t,e,n,r){let i=this.getBaseTileSize(n,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(i,e)),t._setStyle("width",Qw(this.getTileSize(i,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Ww extends Gw{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,r){if(super.init(t,e,n,r),this.fixedRowHeight=Yw(this.fixedRowHeight),!zw.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Qw(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Qw(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class $w extends Gw{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,r){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Qw(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Qw(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Kw extends Gw{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",Qw(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function Qw(t){return`calc(${t})`}function Yw(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}const Xw="fit";class Zw{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(ll(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler=t===Xw?new Kw:t&&t.indexOf(":")>-1?new $w(t):new Ww(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new qw);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const r=t.positions[n];this._tileStyler.setStyle(e,r.row,r.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}class Jw{}var tE=or({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function eE(t){return xs(2,[(t()(),ss(0,0,null,null,1,"div",[],null,null,null,null,null)),gs(null,0)],null,null)}var nE=or({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function rE(t){return xs(2,[(t()(),ss(0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),gs(null,0)],null,null)}class iE extends b_{constructor(t,e,n,r,i){super(t,null,e,n),this.elementRef=t,this.styler=e,this.marshal=n,this.delegate=r,this.ngClassInstance=i,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Hu(this.delegate)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}const oE=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];class sE extends iE{constructor(){super(...arguments),this.inputs=oE}}let aE=(()=>{class t extends B_{buildStyles(t,e){return{display:"true"===t?e.display:"none"}}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class lE extends b_{constructor(t,e,n,r,i,o,s){super(t,e,n,r),this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.layoutConfig=i,this.platformId=o,this.serverModuleLoaded=s,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let n=0;n<t.length;n++)if(this.marshal.hasValue(t[n],"flex")){this.hasFlexChild=!0;break}uE.has(this.nativeElement)?this.display=uE.get(this.nativeElement):(this.display=this.getDisplayStyle(),uE.set(this.nativeElement,this.display)),this.init();const e=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===e||""===e?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split("."),r=n.slice(1).join("."),i=t[e].currentValue;let o=""===i||0!==i&&al(i);"fxHide"===n[0]&&(o=!o),this.setValue(o,r)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(il(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){""!==t&&(this.addStyles(t?"true":"false",{display:this.display}),oc(this.platformId)&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap"))}}const uE=new WeakMap,cE=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];class hE extends lE{constructor(){super(...arguments),this.inputs=cE}}class dE{}class fE{}class pE{}class mE{constructor(t){this._animationMode=t}}class gE{}var yE=or({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function vE(t){return xs(2,[gs(null,0),gs(null,1)],null,null)}class bE{}class _E{}class wE{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof wE?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new wE;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wE?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class EE{encodeKey(t){return SE(t)}encodeValue(t){return SE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function SE(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class xE{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new EE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new xE({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function CE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function IE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function kE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class TE{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new wE),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new xE,this.urlWithParams=e}serializeBody(){return null===this.body?null:CE(this.body)||IE(this.body)||kE(this.body)||"string"==typeof this.body?this.body:this.body instanceof xE?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:kE(this.body)?null:IE(this.body)?this.body.type||null:CE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xE?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new TE(e,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const AE=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class NE{constructor(t,e=200,n="OK"){this.headers=t.headers||new wE,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class RE extends NE{constructor(t={}){super(t),this.type=AE.ResponseHeader}clone(t={}){return new RE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class OE extends NE{constructor(t={}){super(t),this.type=AE.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new OE({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class DE extends NE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function PE(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class LE{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof TE)r=t;else{let i=void 0;i=n.headers instanceof wE?n.headers:new wE(n.headers);let o=void 0;n.params&&(o=n.params instanceof xE?n.params:new xE({fromObject:n.params})),r=new TE(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=fl(r).pipe(ay(t=>this.handler.handle(t)));if(t instanceof TE||"events"===n.observe)return i;const o=i.pipe(Dl(t=>t instanceof OE));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(q(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(q(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(q(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(q(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new xE).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,PE(n,e))}post(t,e,n={}){return this.request("POST",t,PE(n,e))}put(t,e,n={}){return this.request("PUT",t,PE(n,e))}}class ME{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const FE=new kt("HTTP_INTERCEPTORS");class UE{intercept(t,e){return e.handle(t)}}const VE=/^\)\]\}',?\n/;class jE{}class BE{constructor(){}build(){return new XMLHttpRequest}}class qE{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new wE(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new RE({headers:o,status:e,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(VE,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new OE({body:l,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new DE({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new DE({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(o()),l=!0);let i={type:AE.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:AE.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:AE.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const HE=new kt("XSRF_COOKIE_NAME"),zE=new kt("XSRF_HEADER_NAME");class GE{}class WE{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class $E{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class KE{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(FE,[]);this.chain=t.reduceRight((t,e)=>new ME(t,e),this.backend)}return this.chain.handle(t)}}class QE{static disable(){return{ngModule:QE,providers:[{provide:$E,useClass:UE}]}}static withOptions(t={}){return{ngModule:QE,providers:[t.cookieName?{provide:HE,useValue:t.cookieName}:[],t.headerName?{provide:zE,useValue:t.headerName}:[]]}}}class YE{}function XE(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?Ja:e?XE(t).pipe(q(t=>e(...t))):new w(e=>new ZE(e,t))}class ZE extends B{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=j(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}function JE(t){return Error(`Unable to find icon with the name "${t}"`)}function tS(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function eS(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class nS{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let rS=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new nS(n,r))}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(ke.HTML,n);if(!i)throw eS(n);const o=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(t,e,new nS(o,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new nS(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(ke.HTML,e);if(!r)throw eS(e);const i=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new nS(i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(ke.RESOURCE_URL,t);if(!e)throw tS(t);const n=this._cachedIconsByUrl.get(e);return n?fl(iS(n)):this._loadSvgIconFromConfig(new nS(t)).pipe(eh(t=>this._cachedIconsByUrl.set(e,t)),q(t=>iS(t)))}getNamedSvgIcon(t,e=""){const n=oS(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Gl(JE(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?fl(iS(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(eh(e=>t.svgElement=e),q(t=>iS(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?fl(n):XE(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Zg(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(ke.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),fl(null)})))).pipe(q(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw JE(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(q(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?fl(t.svgElement):this._fetchUrl(t.url).pipe(q(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(ke.RESOURCE_URL,t);if(!e)throw tS(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe(ly(()=>this._inProgressUrlFetches.delete(e)),st());return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(oS(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(LE,8),jt($d),jt(ec,8),jt(ne,8))},token:t,providedIn:"root"}),t})();function iS(t){return t.cloneNode(!0)}function oS(t,e){return t+":"+e}class sS{constructor(t){this._elementRef=t}}const aS=cf(sS),lS=new kt("mat-icon-location",{providedIn:"root",factory:function(){const t=Bt(ec),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),uS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cS=uS.map(t=>`[${t}]`).join(", "),hS=/^url\(['"]?#(.*?)['"]?\)$/;class dS extends aS{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=al(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(el(1)).subscribe(t=>this._setSvgElement(t),n=>{const r=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(r)):console.error(r)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(cS),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)uS.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(hS):null;if(s){let e=n.get(i);e||n.set(i,e=[]),e.push({name:t,value:s[1]})}})}}class fS{}var pS=or({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function mS(t){return xs(2,[gs(null,0)],null,null)}class gS{constructor(t,e){this.dataService=t,this._snackBar=e,this.carta1ejemplo=[],this.carta2ejemplo=[],this.askForHelp=0,this.showSolution=!1,this.solved=!1}ngOnInit(){this.dataService.getCardExample().subscribe(t=>{for(const e of t.card1)this.carta1ejemplo.push(e);for(const e of t.card2)this.carta2ejemplo.push(e);this.solutionTile1=t.solution1,this.solutionTile2=t.solution2})}getImgSrc(t){return`/assets/data/${t.folder}/${t.img}.jpg`}selectTile(t,e){for(const n of t)n.selected=!1;t[e].selected=!0}getSelected(t){for(const e of t)if(e.selected)return e;return null}checkSolution(){let t="";const e=this.getSelected(this.carta1ejemplo),n=this.getSelected(this.carta2ejemplo);if(null===e||null===n)t="Te has olvidado de seleccionar una imagen";else{const r=this.compareTiles(e,this.solutionTile1),i=this.compareTiles(n,this.solutionTile2);r&&i?(t="La solucion es correcta",setTimeout(()=>{this.solved=!0},2e3)):t="La solucion no es correcta"}this._snackBar.open(t,"Ok",{duration:4e3})}giveSolution(){for(const t of this.carta1ejemplo)t.selected=!!this.compareTiles(t,this.solutionTile1);for(const t of this.carta2ejemplo)t.selected=!!this.compareTiles(t,this.solutionTile2);this.showSolution=!0,setTimeout(()=>{this.clearSelected(),this._snackBar.open("Ahora es tu turno","Ok",{duration:2e3})},15e3)}compareTiles(t,e){return t.img===e.img}clearSelected(){for(const t of this.carta1ejemplo)t.selected=!1;for(const t of this.carta2ejemplo)t.selected=!1}}class yS{constructor(t){this.msg=t}static translateAuthError(t){let e="Authentificacion incorrecta";switch(t){case"auth/wrong-password":e="Contrase\xf1a incorrecta";break;case"auth/invalid-email":e="Email desconocido o incorrecto"}return e}}function vS(t,e){return function(t,e=kl){return new w(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function bS(t,e){return vS(t,e).pipe(q(t=>({payload:t,type:"query"})))}function _S(t,e){return bS(t,e).pipe(q(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function wS(t,e,n){return bS(t,n).pipe(q(t=>t.payload.docChanges()),iy((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),q(t=>t.map(t=>({type:t.type,payload:t}))))}function ES(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class SS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?_S(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.filter(e=>t.indexOf(e.type)>-1)),Dl(t=>t.length>0)):_S(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(iy((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ES(t);return wS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return bS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return W(this.query.get(t)).pipe(Kl(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new xS(this.ref.doc(t),this.afs)}}class xS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=QS(n,e);return new SS(r,i,this.afs)}snapshotChanges(){return vS(this.ref,this.afs.schedulers.outsideAngular).pipe(q(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(q(t=>t.payload.data()))}get(t){return W(this.ref.get(t)).pipe(Kl(this.afs.schedulers.insideAngular))}}class CS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?_S(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.filter(e=>t.indexOf(e.type)>-1)),Dl(t=>t.length>0)):_S(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(iy((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ES(t);return wS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return bS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(t=>t.payload.docs.map(t=>t.data())))}get(t){return W(this.query.get(t)).pipe(Kl(this.afs.schedulers.insideAngular))}}class IS extends w{constructor(t,e=0,n=xl){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Nl(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=xl)}static create(t,e=0,n=xl){return new IS(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(IS.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class kS{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new IS(e,this.delay,this.scheduler).subscribe(t)}}function TS(){}class AS{constructor(t,e=zl){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class NS{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",TS,{},TS,TS)),e.pipe(eh(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class RS{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new AS(Zone.current)),this.insideAngular=t.run(()=>new AS(Zone.current,kl))}}function OS(t,e){return function(n){return oc(e)&&(n=n.lift(new NS(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new kS(t,e))}}(t.outsideAngular),Kl(t.insideAngular))}}var DS,PS=n("Wcq6"),LS=n.n(PS);const MS=new kt("angularfire2.app.options"),FS=new kt("angularfire2.app.nameOrConfig"),US=MS,VS=FS;class jS{}const BS=new wn("5.4.2");function qS(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",LS.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>LS.a.initializeApp(t,r))}let HS=DS=class{constructor(t){LS.a.registerVersion&&(LS.a.registerVersion("angularfire",BS.full,t.toString()),LS.a.registerVersion("angular",En.full))}static initializeApp(t,e){return{ngModule:DS,providers:[{provide:US,useValue:t},{provide:VS,useValue:e}]}}};const zS=new kt("angularfire2.enableFirestorePersistence"),GS=new kt("angularfire2.firestore.persistenceSettings"),WS=new kt("angularfire2.firestore.settings"),$S=parseInt(LS.a.SDK_VERSION.split(".")[0]),KS=$S<5||5==$S&&parseInt(LS.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function QS(t,e=(t=>t)){return{query:e(t),ref:t}}let YS=class{constructor(t,e,n,r,i,o,s){this.schedulers=new RS(o),this.keepUnstableUntilFirst=OS(this.schedulers,i),this.firestore=o.runOutsideAngular(()=>{const n=qS(t,o,e).firestore();return n.settings(r||KS),n}),this.persistenceEnabled$=n&&!oc(i)?o.runOutsideAngular(()=>{try{return W(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return fl(!1)}}):fl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=QS(n,e);return new SS(r,i,this)}collectionGroup(t,e){if($S<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new CS(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new xS(e,this)}createId(){return this.firestore.collection("_").doc().id}},XS=(()=>{class t{constructor(t,e){this.http=t,this.firestore=e,this.firebaseUrl="https://kenji-83f0d.firebaseio.com/",this._urlGameExample="assets/data/game_example.json",this.lastRecord=new k,this.oldRecord=new k}getCardExample(){return this.http.get(this._urlGameExample)}getAllTiles(){return this.http.get(`${this.firebaseUrl}tiles.json`).pipe(q(t=>{let e=new Map;for(const n in t)t.hasOwnProperty(n)&&e.set(n,t[n]);return console.log(e),e}),Zg(t=>{throw console.log("error: ",t),new yS(t)}))}createRecord(t){return this.lastRecord.next(t),this.firestore.collection("records").add(t)}getTenBestRecords(){return this.firestore.collection("records",t=>t.orderBy("timestamp","desc").limit(10)).snapshotChanges()}getTenLastRecordsFilterByDate(t){return console.log("filter date ",t),this.firestore.collection("records",e=>e.where("timestamp",">",t).orderBy("timestamp","desc").limit(10)).snapshotChanges()}getRecordByUserId(t){this.firestore.collection("records",e=>e.where("userId","==",t).limit(1)).snapshotChanges().pipe($(t=>t)).subscribe(t=>{this.lastRecord.next(t.payload.doc.data()),console.log("last known record",this.lastRecord)})}saveRecord(t){this.firestore.collection("records",e=>e.where("userId","==",t.userId).limit(1)).snapshotChanges().pipe($(t=>t)).subscribe(e=>{const n=e.payload.doc.ref,r=e.payload.doc.data();this.oldRecord.next(r),console.log(this.oldRecord),this.isBetterRecord(r,t)&&n.update(t),this.lastRecord.next(t)})}isBetterRecord(t,e){return t.score!==e.score?e.score>t.score:e.total_time<t.total_time}getPlayers(){return this.firestore.collection("users").snapshotChanges()}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(LE),jt(YS))},token:t,providedIn:"root"}),t})();var ZS=or({encapsulation:0,styles:[[".logo[_ngcontent-%COMP%]{max-width:250px;margin-top:1em}.two-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-direction:row}@media (max-width:600px){.two-cards[_ngcontent-%COMP%]{flex-direction:column}}.cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:40%}@media (max-width:600px){.cards[_ngcontent-%COMP%]{display:flex;flex-basis:100%}}mat-card-title[_ngcontent-%COMP%]{text-align:center}@-webkit-keyframes blink{50%{border:10px solid green;border-radius:20px}}@keyframes blink{50%{border:10px solid green;border-radius:20px}}.active-tile[_ngcontent-%COMP%]{border:10px solid green!important;border-radius:20px}.solution-by-help[_ngcontent-%COMP%]{border-color:red!important}.btns-container[_ngcontent-%COMP%]{margin:2em 8%}.btn-help[_ngcontent-%COMP%], .btn-solution[_ngcontent-%COMP%]{display:flex}.selectable-tile-img[_ngcontent-%COMP%], .tile-img[_ngcontent-%COMP%]{width:90%;height:auto}.selectable-tile-img[_ngcontent-%COMP%]:hover{border:5px solid #90ee90;border-radius:20px}.description[_ngcontent-%COMP%]{margin:2em;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:large}.description[_ngcontent-%COMP%]   .emphasis[_ngcontent-%COMP%]{font-weight:700;font-style:italic}"]],data:{}});function JS(t){return xs(0,[(t()(),ss(0,0,null,null,22,"div",[["fxFlex",""],["fxLayout","column"]],null,null,null,null,null)),gi(1,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),gi(2,671744,null,0,yw,[pn,j_,d_,pw,z_],{fxFlex:[0,"fxFlex"]},null),(t()(),ss(3,0,null,null,12,"div",[["class","description"]],null,null,null,null,null)),(t()(),ss(4,0,null,null,1,"p",[["class","emphasis"]],null,null,null,null,null)),(t()(),ws(-1,null,["\xa1BIEN HECHO!"])),(t()(),ss(6,0,null,null,9,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Ahora puedes "])),(t()(),ss(8,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(9,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["registrate"])),(t()(),ws(-1,null,[" o "])),(t()(),ss(12,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(13,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["entrar"])),(t()(),ws(-1,null,[" con tu cuenta para poder acceder a mas niveles y batir todos los r\xe9cords"])),(t()(),ss(16,0,null,null,6,"div",[["fxFlex",""],["fxLayoutAlign","center center"]],null,null,null,null,null)),gi(17,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),gi(18,671744,null,0,yw,[pn,j_,d_,pw,z_],{fxFlex:[0,"fxFlex"]},null),(t()(),ss(19,0,null,null,3,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,21).onClick()&&r),r}),Ig,Cg)),gi(20,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),gi(21,16384,null,0,Rb,[Nb,bv,[8,null],bn,pn],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,0,["Quiero jugar"]))],(function(t,e){t(e,1,0,"column"),t(e,2,0,""),t(e,9,0,"/registrarte"),t(e,13,0,"/login"),t(e,17,0,"center center"),t(e,18,0,""),t(e,21,0,"/play")}),(function(t,e){t(e,8,0,ri(e,9).target,ri(e,9).href),t(e,12,0,ri(e,13).target,ri(e,13).href),t(e,19,0,ri(e,20).disabled||null,"NoopAnimations"===ri(e,20)._animationMode)}))}function tx(t){return xs(0,[(t()(),ss(0,0,null,null,7,"mat-grid-tile",[["class","selectable-tile mat-grid-tile"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.selectTile(i.carta1ejemplo,t.context.index)&&r),r}),rE,nE)),gi(1,49152,[[1,4]],0,Bw,[pn,[2,jw]],null,null),(t()(),ss(2,0,null,0,5,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),vi(512,null,ju,Bu,[Dn,Pn,pn,bn]),gi(4,278528,null,0,Hu,[ju],{ngClass:[0,"ngClass"]},null),bs(5,{"selectable-tile-img":0,"active-tile":1,"solution-by-help":2}),gi(6,933888,null,0,sE,[pn,j_,z_,ju,[6,Hu]],{ngClass:[0,"ngClass"]},null),bs(7,{"selectable-tile-img":0,"active-tile":1,"solution-by-help":2})],(function(t,e){var n=e.component,r=t(e,5,0,!0,e.context.$implicit.selected,n.showSolution);t(e,4,0,r);var i=t(e,7,0,!0,e.context.$implicit.selected,n.showSolution);t(e,6,0,i)}),(function(t,e){t(e,2,0,e.component.getImgSrc(e.context.$implicit))}))}function ex(t){return xs(0,[(t()(),ss(0,0,null,null,7,"mat-grid-tile",[["class","selectable-tile mat-grid-tile"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.selectTile(i.carta2ejemplo,t.context.index)&&r),r}),rE,nE)),gi(1,49152,[[2,4]],0,Bw,[pn,[2,jw]],null,null),(t()(),ss(2,0,null,0,5,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),vi(512,null,ju,Bu,[Dn,Pn,pn,bn]),gi(4,278528,null,0,Hu,[ju],{ngClass:[0,"ngClass"]},null),bs(5,{"selectable-tile-img":0,"active-tile":1,"solution-by-help":2}),gi(6,933888,null,0,sE,[pn,j_,z_,ju,[6,Hu]],{ngClass:[0,"ngClass"]},null),bs(7,{"selectable-tile-img":0,"active-tile":1,"solution-by-help":2})],(function(t,e){var n=e.component,r=t(e,5,0,!0,e.context.$implicit.selected,n.showSolution);t(e,4,0,r);var i=t(e,7,0,!0,e.context.$implicit.selected,n.showSolution);t(e,6,0,i)}),(function(t,e){t(e,2,0,e.component.getImgSrc(e.context.$implicit))}))}function nx(t){return xs(0,[(t()(),ss(0,0,null,null,2,"div",[["class","description"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["La carta que es similar entre ambas es la persona..."]))],null,null)}function rx(t){return xs(0,[(t()(),ss(0,0,null,null,4,"div",[["class","description"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Entre las dos cartas que aparecen en pantallas hay una imagen con el mismo significado."])),(t()(),ss(3,0,null,null,1,"p",[["class","emphasis"]],null,null,null,null,null)),(t()(),ws(-1,null,["\xa1A ver c\xf3mo de r\xe1pido eres capaz de encontrarla!"])),(t()(),ss(5,0,null,null,26,"div",[["class","two-cards"]],null,null,null,null,null)),(t()(),ss(6,0,null,null,12,"mat-card",[["class","cards mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,vE,yE)),gi(7,49152,null,0,mE,[[2,Sg]],null,null),(t()(),ss(8,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),gi(9,16384,null,0,pE,[],null,null),(t()(),ws(-1,null,[" Carta 1 "])),(t()(),ss(11,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),gi(12,16384,null,0,fE,[],null,null),(t()(),ss(13,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["cols","3"],["gutterSize","20px"]],null,null,null,eE,tE)),vi(6144,null,jw,null,[Zw]),gi(15,2211840,null,1,Zw,[pn,[2,Bh]],{cols:[0,"cols"],gutterSize:[1,"gutterSize"]},null),hs(603979776,1,{_tiles:1}),(t()(),os(16777216,null,0,1,null,tx)),gi(18,278528,null,0,Gu,[jn,Un,Dn],{ngForOf:[0,"ngForOf"]},null),(t()(),ss(19,0,null,null,12,"mat-card",[["class","cards mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,vE,yE)),gi(20,49152,null,0,mE,[[2,Sg]],null,null),(t()(),ss(21,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),gi(22,16384,null,0,pE,[],null,null),(t()(),ws(-1,null,[" Carta 2 "])),(t()(),ss(24,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),gi(25,16384,null,0,fE,[],null,null),(t()(),ss(26,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["cols","3"],["gutterSize","20px"]],null,null,null,eE,tE)),vi(6144,null,jw,null,[Zw]),gi(28,2211840,null,1,Zw,[pn,[2,Bh]],{cols:[0,"cols"],gutterSize:[1,"gutterSize"]},null),hs(603979776,2,{_tiles:1}),(t()(),os(16777216,null,0,1,null,ex)),gi(31,278528,null,0,Gu,[jn,Un,Dn],{ngForOf:[0,"ngForOf"]},null),(t()(),os(16777216,null,null,1,null,nx)),gi(33,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(34,0,null,null,16,"div",[["class","btns-container"],["fxFlex",""],["fxLayoutAlign","space-between center"]],null,null,null,null,null)),gi(35,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),gi(36,671744,null,0,yw,[pn,j_,d_,pw,z_],{fxFlex:[0,"fxFlex"]},null),(t()(),ss(37,0,null,null,6,"div",[["class","btn-help"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.giveSolution()&&r),r}),null,null)),(t()(),ss(38,0,null,null,5,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ig,Cg)),gi(39,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),(t()(),ss(40,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(41,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["sentiment_very_dissatisfied"])),(t()(),ws(-1,0,[" Ayuda "])),(t()(),ss(44,0,null,null,6,"div",[["class","btn-solution"]],null,null,null,null,null)),(t()(),ss(45,0,null,null,5,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.checkSolution()&&r),r}),Ig,Cg)),gi(46,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),(t()(),ss(47,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(48,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["sentiment_very_satisfied"])),(t()(),ws(-1,0,[" Comprobar "]))],(function(t,e){var n=e.component;t(e,15,0,"3","20px"),t(e,18,0,n.carta1ejemplo),t(e,28,0,"3","20px"),t(e,31,0,n.carta2ejemplo),t(e,33,0,n.showSolution),t(e,35,0,"space-between center"),t(e,36,0,""),t(e,41,0),t(e,48,0)}),(function(t,e){t(e,6,0,"NoopAnimations"===ri(e,7)._animationMode),t(e,19,0,"NoopAnimations"===ri(e,20)._animationMode),t(e,38,0,ri(e,39).disabled||null,"NoopAnimations"===ri(e,39)._animationMode),t(e,40,0,ri(e,41).inline,"primary"!==ri(e,41).color&&"accent"!==ri(e,41).color&&"warn"!==ri(e,41).color),t(e,45,0,ri(e,46).disabled||null,"NoopAnimations"===ri(e,46)._animationMode),t(e,47,0,ri(e,48).inline,"primary"!==ri(e,48).color&&"accent"!==ri(e,48).color&&"warn"!==ri(e,48).color)}))}function ix(t){return xs(0,[(t()(),ss(0,0,null,null,9,"div",[["fxLayout","column"]],null,null,null,null,null)),gi(1,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),(t()(),ss(2,0,null,null,4,"div",[["fxFlex",""],["fxLayout","row"],["fxLayoutAlign","center center"]],null,null,null,null,null)),gi(3,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),gi(4,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),gi(5,671744,null,0,yw,[pn,j_,d_,pw,z_],{fxFlex:[0,"fxFlex"]},null),(t()(),ss(6,0,null,null,0,"img",[["alt",""],["class","logo"],["src","/assets/img/logo2.png"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,JS)),gi(8,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),os(0,[["firstTime",2]],null,0,null,rx))],(function(t,e){var n=e.component;t(e,1,0,"column"),t(e,3,0,"row"),t(e,4,0,"center center"),t(e,5,0,""),t(e,8,0,n.solved,ri(e,9))}),null)}function ox(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-home",[],null,null,null,ix,ZS)),gi(1,114688,null,0,gS,[XS,Vh],null,null)],(function(t,e){t(e,1,0)}),null)}var sx=Wr("app-home",gS,ox,{},{},[]),ax=[".auth-container[_ngcontent-%COMP%]{height:80%;margin-bottom:2em}.main-form[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;flex-direction:column;align-items:center;margin-top:2vw}mat-form-field[_ngcontent-%COMP%]{width:300px}.btns-layout[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:row;width:300px;margin-top:2em}"];const lx=new kt("NgValueAccessor"),ux=new kt("CompositionEventMode");class cx{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=zh()?zh().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class hx{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class dx extends hx{get formDirective(){return null}get path(){return null}}function fx(){throw new Error("unimplemented")}class px extends hx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return fx()}get asyncValidator(){return fx()}}class mx{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class gx extends mx{constructor(t){super(t)}}class yx extends mx{constructor(t){super(t)}}function vx(t){return null==t||0===t.length}const bx=new kt("NgValidators"),_x=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wx{static min(t){return e=>{if(vx(e.value)||vx(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(vx(e.value)||vx(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return vx(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return vx(t.value)?null:_x.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(vx(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return wx.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(vx(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ex);return 0==e.length?null:function(t){return xx(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ex);return 0==e.length?null:function(t){return XE(function(t,e){return e.map(e=>e(t))}(t,e).map(Sx)).pipe(q(xx))}}}function Ex(t){return null!=t}function Sx(t){const e=en(t)?W(t):t;if(!nn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function xx(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Cx(t){return t.validate?e=>t.validate(e):t}function Ix(t){return t.validate?e=>t.validate(e):t}class kx{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Tx={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Ax{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Tx.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Tx.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Tx.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Tx.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Tx.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Tx.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Nx(t,e){return[...e.path,t]}function Rx(t,e){t||Lx(e,"Cannot find control with"),e.valueAccessor||Lx(e,"No value accessor for form control with"),t.validator=wx.compose([t.validator,e.validator]),t.asyncValidator=wx.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ox(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ox(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ox(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dx(t,e){null==t&&Lx(e,"Cannot find control with"),t.validator=wx.compose([t.validator,e.validator]),t.asyncValidator=wx.composeAsync([t.asyncValidator,e.asyncValidator])}function Px(t){return Lx(t,"There is no FormControl instance attached to form control element with")}function Lx(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Mx(t){return null!=t?wx.compose(t.map(Cx)):null}function Fx(t){return null!=t?wx.composeAsync(t.map(Ix)):null}const Ux=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ye}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ye}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(px),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Vx(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function jx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Bx="VALID",qx="INVALID",Hx="PENDING",zx="DISABLED";function Gx(t){const e=$x(t)?t.validators:t;return Array.isArray(e)?Mx(e):e||null}function Wx(t,e){const n=$x(e)?e.asyncValidators:t;return Array.isArray(n)?Fx(n):n||null}function $x(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Kx{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Bx}get invalid(){return this.status===qx}get pending(){return this.status==Hx}get disabled(){return this.status===zx}get enabled(){return this.status!==zx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Gx(t)}setAsyncValidators(t){this.asyncValidator=Wx(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Hx,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zx,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bx,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Bx&&this.status!==Hx||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zx:Bx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Hx;const e=Sx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Yx?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Xx&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Bi,this.statusChanges=new Bi}_calculateStatus(){return this._allControlsDisabled()?zx:this.errors?qx:this._anyControlsHaveStatus(Hx)?Hx:this._anyControlsHaveStatus(qx)?qx:Bx}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$x(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Qx extends Kx{constructor(t=null,e,n){super(Gx(e),Wx(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Yx extends Kx{constructor(t,e,n){super(Gx(e),Wx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Qx?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Xx extends Kx{constructor(t,e,n){super(Gx(e),Wx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Qx?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Zx=(()=>Promise.resolve(null))();class Jx extends dx{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Bi,this.form=new Yx({},Mx(t),Fx(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zx.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Rx(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zx.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),jx(this._directives,t)})}addFormGroup(t){Zx.then(()=>{const e=this._findContainer(t.path),n=new Yx({});Dx(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zx.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Zx.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Vx(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class tC{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Tx.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${Tx.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Tx.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Tx.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Tx.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Tx.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const eC=new kt("NgFormSelectorWarning");class nC extends dx{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Nx(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Mx(this._validators)}get asyncValidator(){return Fx(this._asyncValidators)}_checkParentType(){}}class rC extends nC{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof rC||this._parent instanceof Jx||tC.modelGroupParentException()}}const iC=(()=>Promise.resolve(null))();class oC extends px{constructor(t,e,n,r){super(),this.control=new Qx,this._registered=!1,this.update=new Bi,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Lx(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===cx?n=e:function(t){return Ux.some(e=>t.constructor===e)}(e)?(r&&Lx(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Lx(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Lx(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ye(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Nx(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Mx(this._rawValidators)}get asyncValidator(){return Fx(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof rC)&&this._parent instanceof nC?tC.formGroupNameException():this._parent instanceof rC||this._parent instanceof Jx||tC.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||tC.missingNameException()}_updateValue(t){iC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;iC.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class sC{}class aC extends dx{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Bi}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Rx(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){jx(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Dx(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Dx(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Vx(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Px(e)),e.valueAccessor.registerOnTouched(()=>Px(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Rx(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Mx(this._validators);this.form.validator=wx.compose([this.form.validator,t]);const e=Fx(this._asyncValidators);this.form.asyncValidator=wx.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Ax.missingFormException()}}class lC{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?wx.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class uC{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?wx.email(t):null}registerOnValidatorChange(t){this._onChange=t}}class cC{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=wx.minLength(parseInt(this.minlength,10))}}class hC{}class dC{static withConfig(t){return{ngModule:dC,providers:[{provide:eC,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class fC{}function pC(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let mC=0;const gC=.75,yC=5;class vC{constructor(t){this._elementRef=t}}const bC=cf(vC,"primary"),_C=new kt("MAT_FORM_FIELD_DEFAULT_OPTIONS");class wC extends bC{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new k,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${mC++}`,this._labelId=`mat-form-field-label-${mC++}`,this._previousDirection="ltr",this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=al(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ul(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(il(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(il(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ul(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ul(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(il(this._destroyed)).subscribe(()=>{this.updateOutlineGap(),this._previousDirection=this._dir.value})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,pl(this._label.nativeElement,"transitionend").pipe(el(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw pC("start");t=n}else if("end"===n.align){if(e)throw pC("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=s-o-yC,n=a>0?a*gC+2*yC:0}for(let s=0;s<i.length;s++)i.item(s).style.width=`${e}px`;for(let s=0;s<o.length;s++)o.item(s).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return"rtl"===this._previousDirection?t.right:t.left}}class EC{}let SC=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),xC=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=hl(t);return new w(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new k,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(SC))},token:t,providedIn:"root"}),t})();class CC{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Bi,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=al(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ll(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(ih(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class IC{}var kC=or({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function TC(t){return xs(0,[(t()(),ss(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),ss(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ss(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ss(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),ss(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),ss(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ss(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ss(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function AC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),gs(null,0)],null,null)}function NC(t){return xs(0,[(t()(),ss(0,0,null,null,3,null,null,null,null,null,null,null)),gs(null,2),(t()(),ss(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function RC(t){return xs(0,[gs(null,3),(t()(),os(0,null,null,0))],null,null)}function OC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),ws(-1,null,[" *"]))],null,null)}function DC(t){return xs(0,[(t()(),ss(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r}),null,null)),gi(1,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),gi(2,1196032,null,0,CC,[xC,pn,vo],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),os(16777216,null,null,1,null,NC)),gi(4,278528,null,0,Zu,[jn,Un,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,RC)),gi(6,278528,null,0,Zu,[jn,Un,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,OC)),gi(8,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function PC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),gs(null,4)],null,null)}function LC(t){return xs(0,[(t()(),ss(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function MC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),gs(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function FC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),ws(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function UC(t){return xs(0,[(t()(),ss(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),os(16777216,null,null,1,null,FC)),gi(2,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),gs(null,6),(t()(),ss(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),gs(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function VC(t){return xs(2,[hs(671088640,1,{underlineRef:0}),hs(402653184,2,{_connectionContainerRef:0}),hs(671088640,3,{_inputContainerRef:0}),hs(671088640,4,{_label:0}),(t()(),ss(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),ss(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r}),null,null)),(t()(),os(16777216,null,null,1,null,TC)),gi(7,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,AC)),gi(9,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),gs(null,1),(t()(),ss(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,DC)),gi(14,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,PC)),gi(16,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,LC)),gi(18,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),gi(20,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),os(16777216,null,null,1,null,MC)),gi(22,278528,null,0,Zu,[jn,Un,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,UC)),gi(24,278528,null,0,Zu,[jn,Un,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}const jC=mc({passive:!0});let BC=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ja;const e=hl(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new k,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,jC),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,jC)}}),r.asObservable()}stopMonitoring(t){const e=hl(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(cc),jt(vo))},token:t,providedIn:"root"}),t})();class qC{}const HC=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zC=0;class GC{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const WC=df(GC);class $C extends WC{constructor(t,e,n,r,i,o,s,a,l){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${zC++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new k,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>fc().has(t));const u=this._elementRef.nativeElement;this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=al(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=al(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&fc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=al(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(HC.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}class KC{}class QC{constructor(t,e,n,r,i){this.authService=t,this.dataService=e,this.router=n,this.route=r,this._snackBar=i,this.error=null}ngOnInit(){}onSubmit(t){this.authService.signIn(t.value.email,t.value.password).then(t=>this.doActionsAfterLogin()).catch(e=>{console.log("login component, error ",e),t.value.password="",this._snackBar.open(e.msg,"Ok",{duration:3e3})})}tryGoogleAuth(){this.authService.googleAuth().then(t=>this.doActionsAfterLogin()).catch(t=>{console.log(t),this._snackBar.open(t,"Ok",{duration:3e3})})}doActionsAfterLogin(){this.dataService.getRecordByUserId(this.authService.userUid)}signOut(){this.authService.signOut()}}let YC=class{constructor(t,e,n,r){const i=OS(new RS(r),n);this.auth=r.runOutsideAngular(()=>qS(t,r,e).auth()),this.authState=new w(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new w(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(Vl(t=>t?W(t.getIdToken()):fl(null))),this.idTokenResult=this.user.pipe(Vl(t=>t?W(t.getIdTokenResult()):fl(null)))}},XC=(()=>{class t{constructor(t,e,n,r,i){this.afs=t,this.afAuth=e,this.router=n,this.dataService=r,this.ngZone=i,this.afAuth.authState.subscribe(t=>{t?(this.playerData=this.parseFbUsertoPlayer(t),localStorage.setItem("user",JSON.stringify(this.playerData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}saveInStorage(t){this.playerData=this.parseFbUsertoPlayer(t),localStorage.setItem("user",JSON.stringify(this.playerData))}parseFbUsertoPlayer(t){return{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified}}getUserData(){const t=new Vg(null);return this.afAuth.authState.subscribe(e=>{e?(this.playerData=this.parseFbUsertoPlayer(e),t.next(this.playerData)):t.thrownError(new yS("Se ha producido un error al cargar los datos del jugador"))}),t}signIn(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>{this.saveInStorage(t.user),this.ngZone.run(()=>{this.router.navigate(["/account"])})}).catch(t=>{console.log(t);const e=yS.translateAuthError(t.code);throw new yS(e)})}registerWithEmail(t,e,n){return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(t=>(console.log(t),this.setUserData(t.user,n),this.sendVerificationMail(),this.ngZone.run(()=>{this.router.navigate(["/verify-email"])}),t.user.uid)).catch(t=>{throw console.log(t),new yS("Registro fallido")})}sendVerificationMail(){return this.afAuth.auth.currentUser.sendEmailVerification().then(()=>!0).catch(t=>{throw console.log(t),new yS("Envio de correo fallido")})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}get userUid(){const t=JSON.parse(localStorage.getItem("user"));return null!==t?t.uid:null}googleAuth(){return this.authLogin(new PS.auth.GoogleAuthProvider).then(t=>{this.setUserData(t.user),this.ngZone.run(()=>{this.router.navigate(["/account"])})}).catch(t=>{console.log(t),Gl(new yS("Autentificacion con Google fallida"))})}authLogin(t){return this.afAuth.auth.signInWithPopup(t)}setUserData(t,e=null){const n=this.afs.doc(`users/${t.uid}`);n.get().subscribe(r=>{if(r.exists)console.log("Document data:",r.data());else{console.log("No such document!");const r={uid:t.uid,email:t.email,displayName:e||t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified};this.saveInStorage(t),n.set(r,{merge:!0}),this.createEmptyRecord(t.uid)}})}signOut(){return this.afAuth.auth.signOut().then(()=>(localStorage.removeItem("user"),this.router.navigate(["home"]),!0)).catch(t=>(console.log(t),!1))}forgotPassword(t){return this.afAuth.auth.sendPasswordResetEmail(t)}createEmptyRecord(t){const e={userId:t,score:0,level:0,percent:0,timestamp:new Date,total_time:0};this.dataService.createRecord(e)}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(YS),jt(YC),jt(Nb),jt(XS),jt(vo))},token:t,providedIn:"root"}),t})();var ZC=or({encapsulation:0,styles:[[""],ax],data:{}});function JC(t){return xs(0,[(t()(),ss(0,0,null,null,72,"section",[["class","auth-container"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,52,"form",[["class","main-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==ri(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==ri(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit(ri(t,3))&&r),r}),null,null)),gi(2,16384,null,0,sC,[],null,null),gi(3,4210688,[["authForm",4]],0,Jx,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),vi(2048,null,dx,null,[Jx]),gi(5,16384,null,0,yx,[[4,dx]],null,null),(t()(),ss(6,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,VC,kC)),gi(7,7520256,null,9,wC,[pn,Pe,[2,kf],[2,Bh],[2,_C],cc,vo,[2,Sg]],null,null),hs(603979776,1,{_controlNonStatic:0}),hs(335544320,2,{_controlStatic:0}),hs(603979776,3,{_labelChildNonStatic:0}),hs(335544320,4,{_labelChildStatic:0}),hs(603979776,5,{_placeholderChild:0}),hs(603979776,6,{_errorChildren:1}),hs(603979776,7,{_hintChildren:1}),hs(603979776,8,{_prefixChildren:1}),hs(603979776,9,{_suffixChildren:1}),(t()(),ss(17,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["email",""],["id","email"],["mat-input",""],["matInput",""],["name","email"],["ngModel",""],["placeholder","Tu\n        email"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==ri(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==ri(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==ri(t,21)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,25)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==ri(t,25)._focusChanged(!0)&&r),"input"===e&&(r=!1!==ri(t,25)._onInput()&&r),r}),null,null)),gi(18,16384,null,0,lC,[],{required:[0,"required"]},null),gi(19,16384,null,0,uC,[],{email:[0,"email"]},null),vi(1024,null,bx,(function(t,e){return[t,e]}),[lC,uC]),gi(21,16384,null,0,cx,[bn,pn,[2,ux]],null,null),vi(1024,null,lx,(function(t){return[t]}),[cx]),gi(23,671744,null,0,oC,[[2,dx],[6,bx],[8,null],[6,lx]],{name:[0,"name"],model:[1,"model"]},null),vi(2048,null,px,null,[oC]),gi(25,999424,null,0,$C,[pn,cc,[6,px],[2,Jx],[2,aC],pf,[8,null],BC,vo],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),gi(26,16384,null,0,gx,[[4,px]],null,null),vi(2048,[[1,4],[2,4]],fC,null,[$C]),(t()(),ss(28,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,VC,kC)),gi(29,7520256,null,9,wC,[pn,Pe,[2,kf],[2,Bh],[2,_C],cc,vo,[2,Sg]],null,null),hs(603979776,10,{_controlNonStatic:0}),hs(335544320,11,{_controlStatic:0}),hs(603979776,12,{_labelChildNonStatic:0}),hs(335544320,13,{_labelChildStatic:0}),hs(603979776,14,{_placeholderChild:0}),hs(603979776,15,{_errorChildren:1}),hs(603979776,16,{_hintChildren:1}),hs(603979776,17,{_prefixChildren:1}),hs(603979776,18,{_suffixChildren:1}),(t()(),ss(39,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","password"],["mat-input",""],["matInput",""],["minlength","6"],["name","password"],["ngModel",""],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==ri(t,43)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,43).onTouched()&&r),"compositionstart"===e&&(r=!1!==ri(t,43)._compositionStart()&&r),"compositionend"===e&&(r=!1!==ri(t,43)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,47)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==ri(t,47)._focusChanged(!0)&&r),"input"===e&&(r=!1!==ri(t,47)._onInput()&&r),r}),null,null)),gi(40,16384,null,0,lC,[],{required:[0,"required"]},null),gi(41,540672,null,0,cC,[],{minlength:[0,"minlength"]},null),vi(1024,null,bx,(function(t,e){return[t,e]}),[lC,cC]),gi(43,16384,null,0,cx,[bn,pn,[2,ux]],null,null),vi(1024,null,lx,(function(t){return[t]}),[cx]),gi(45,671744,null,0,oC,[[2,dx],[6,bx],[8,null],[6,lx]],{name:[0,"name"],model:[1,"model"]},null),vi(2048,null,px,null,[oC]),gi(47,999424,null,0,$C,[pn,cc,[6,px],[2,Jx],[2,aC],pf,[8,null],BC,vo],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),gi(48,16384,null,0,gx,[[4,px]],null,null),vi(2048,[[10,4],[11,4]],fC,null,[$C]),(t()(),ss(50,0,null,null,3,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(51,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ig,Cg)),gi(52,180224,null,0,Of,[pn,vh,[2,Sg]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),ws(-1,0,[" Login "])),(t()(),ss(54,0,null,null,18,"div",[["class","main-form"]],null,null,null,null,null)),(t()(),ss(55,0,null,null,6,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(56,0,null,null,5,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.tryGoogleAuth()&&r),r}),Ig,Cg)),gi(57,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),(t()(),ss(58,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(59,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["how_to_reg"])),(t()(),ws(-1,0,[" Entrar con la cuenta de Google "])),(t()(),ss(62,0,null,null,3,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(63,0,null,null,2,"a",[["routerLink","/reset-psw"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,64).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(64,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["He olvidado mi contrase\xf1a "])),(t()(),ss(66,0,null,null,6,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(67,0,null,null,5,"div",[["class","redirectToLogin"]],null,null,null,null,null)),(t()(),ss(68,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["\xbfAun tienes cuenta? "])),(t()(),ss(70,0,null,null,2,"a",[["class","redirect"],["routerLink","/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,71).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(71,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["Registrate aqu\xed"]))],(function(t,e){t(e,18,0,""),t(e,19,0,""),t(e,23,0,"email",""),t(e,25,0,"email","Tu\n        email","","email"),t(e,40,0,""),t(e,41,0,"6"),t(e,45,0,"password",""),t(e,47,0,"password","Contrase\xf1a","","password"),t(e,52,0,!ri(e,3).valid,"primary"),t(e,59,0),t(e,64,0,"/reset-psw"),t(e,71,0,"/register")}),(function(t,e){t(e,1,0,ri(e,5).ngClassUntouched,ri(e,5).ngClassTouched,ri(e,5).ngClassPristine,ri(e,5).ngClassDirty,ri(e,5).ngClassValid,ri(e,5).ngClassInvalid,ri(e,5).ngClassPending),t(e,6,1,["standard"==ri(e,7).appearance,"fill"==ri(e,7).appearance,"outline"==ri(e,7).appearance,"legacy"==ri(e,7).appearance,ri(e,7)._control.errorState,ri(e,7)._canLabelFloat,ri(e,7)._shouldLabelFloat(),ri(e,7)._hasFloatingLabel(),ri(e,7)._hideControlPlaceholder(),ri(e,7)._control.disabled,ri(e,7)._control.autofilled,ri(e,7)._control.focused,"accent"==ri(e,7).color,"warn"==ri(e,7).color,ri(e,7)._shouldForward("untouched"),ri(e,7)._shouldForward("touched"),ri(e,7)._shouldForward("pristine"),ri(e,7)._shouldForward("dirty"),ri(e,7)._shouldForward("valid"),ri(e,7)._shouldForward("invalid"),ri(e,7)._shouldForward("pending"),!ri(e,7)._animationsEnabled]),t(e,17,1,[ri(e,18).required?"":null,ri(e,25)._isServer,ri(e,25).id,ri(e,25).placeholder,ri(e,25).disabled,ri(e,25).required,ri(e,25).readonly&&!ri(e,25)._isNativeSelect||null,ri(e,25)._ariaDescribedby||null,ri(e,25).errorState,ri(e,25).required.toString(),ri(e,26).ngClassUntouched,ri(e,26).ngClassTouched,ri(e,26).ngClassPristine,ri(e,26).ngClassDirty,ri(e,26).ngClassValid,ri(e,26).ngClassInvalid,ri(e,26).ngClassPending]),t(e,28,1,["standard"==ri(e,29).appearance,"fill"==ri(e,29).appearance,"outline"==ri(e,29).appearance,"legacy"==ri(e,29).appearance,ri(e,29)._control.errorState,ri(e,29)._canLabelFloat,ri(e,29)._shouldLabelFloat(),ri(e,29)._hasFloatingLabel(),ri(e,29)._hideControlPlaceholder(),ri(e,29)._control.disabled,ri(e,29)._control.autofilled,ri(e,29)._control.focused,"accent"==ri(e,29).color,"warn"==ri(e,29).color,ri(e,29)._shouldForward("untouched"),ri(e,29)._shouldForward("touched"),ri(e,29)._shouldForward("pristine"),ri(e,29)._shouldForward("dirty"),ri(e,29)._shouldForward("valid"),ri(e,29)._shouldForward("invalid"),ri(e,29)._shouldForward("pending"),!ri(e,29)._animationsEnabled]),t(e,39,1,[ri(e,40).required?"":null,ri(e,41).minlength?ri(e,41).minlength:null,ri(e,47)._isServer,ri(e,47).id,ri(e,47).placeholder,ri(e,47).disabled,ri(e,47).required,ri(e,47).readonly&&!ri(e,47)._isNativeSelect||null,ri(e,47)._ariaDescribedby||null,ri(e,47).errorState,ri(e,47).required.toString(),ri(e,48).ngClassUntouched,ri(e,48).ngClassTouched,ri(e,48).ngClassPristine,ri(e,48).ngClassDirty,ri(e,48).ngClassValid,ri(e,48).ngClassInvalid,ri(e,48).ngClassPending]),t(e,51,0,ri(e,52).disabled||null,"NoopAnimations"===ri(e,52)._animationMode),t(e,56,0,ri(e,57).disabled||null,"NoopAnimations"===ri(e,57)._animationMode),t(e,58,0,ri(e,59).inline,"primary"!==ri(e,59).color&&"accent"!==ri(e,59).color&&"warn"!==ri(e,59).color),t(e,63,0,ri(e,64).target,ri(e,64).href),t(e,70,0,ri(e,71).target,ri(e,71).href)}))}function tI(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-login",[],null,null,null,JC,ZC)),gi(1,114688,null,0,QC,[XC,XS,Nb,bv,Vh],null,null)],(function(t,e){t(e,1,0)}),null)}var eI=Wr("app-login",QC,tI,{},{},[]);class nI{constructor(t,e,n,r,i){this.authService=t,this.dataService=e,this.router=n,this.route=r,this._snackBar=i,this.error=null}ngOnInit(){}onSubmit(t){this.authService.registerWithEmail(t.value.email,t.value.password,t.value.username).then(t=>{console.log("res resgister ",this.authService.userUid)}).catch(e=>{console.log(e),t.value.password="",this._snackBar.open(e,"Ok",{duration:3e3})})}tryGoogleAuth(){this.authService.googleAuth().then(t=>{}).catch(t=>{console.log(t),this._snackBar.open(t,"Ok",{duration:3e3})})}}var rI=or({encapsulation:0,styles:[[""],ax],data:{}});function iI(t){return xs(0,[(t()(),ss(0,0,null,null,92,"section",[["class","auth-container"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,91,"form",[["class","main-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==ri(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==ri(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.onSubmit(ri(t,3))&&r),r}),null,null)),gi(2,16384,null,0,sC,[],null,null),gi(3,4210688,[["authForm",4]],0,Jx,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),vi(2048,null,dx,null,[Jx]),gi(5,16384,null,0,yx,[[4,dx]],null,null),(t()(),ss(6,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,VC,kC)),gi(7,7520256,null,9,wC,[pn,Pe,[2,kf],[2,Bh],[2,_C],cc,vo,[2,Sg]],null,null),hs(603979776,1,{_controlNonStatic:0}),hs(335544320,2,{_controlStatic:0}),hs(603979776,3,{_labelChildNonStatic:0}),hs(335544320,4,{_labelChildStatic:0}),hs(603979776,5,{_placeholderChild:0}),hs(603979776,6,{_errorChildren:1}),hs(603979776,7,{_hintChildren:1}),hs(603979776,8,{_prefixChildren:1}),hs(603979776,9,{_suffixChildren:1}),(t()(),ss(17,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["email",""],["id","username"],["mat-input",""],["matInput",""],["name","username"],["ngModel",""],["placeholder","Nombre de usuario"],["required",""],["type","username"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==ri(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==ri(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==ri(t,21)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,25)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==ri(t,25)._focusChanged(!0)&&r),"input"===e&&(r=!1!==ri(t,25)._onInput()&&r),r}),null,null)),gi(18,16384,null,0,lC,[],{required:[0,"required"]},null),gi(19,16384,null,0,uC,[],{email:[0,"email"]},null),vi(1024,null,bx,(function(t,e){return[t,e]}),[lC,uC]),gi(21,16384,null,0,cx,[bn,pn,[2,ux]],null,null),vi(1024,null,lx,(function(t){return[t]}),[cx]),gi(23,671744,null,0,oC,[[2,dx],[6,bx],[8,null],[6,lx]],{name:[0,"name"],model:[1,"model"]},null),vi(2048,null,px,null,[oC]),gi(25,999424,null,0,$C,[pn,cc,[6,px],[2,Jx],[2,aC],pf,[8,null],BC,vo],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),gi(26,16384,null,0,gx,[[4,px]],null,null),vi(2048,[[1,4],[2,4]],fC,null,[$C]),(t()(),ss(28,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,VC,kC)),gi(29,7520256,null,9,wC,[pn,Pe,[2,kf],[2,Bh],[2,_C],cc,vo,[2,Sg]],null,null),hs(603979776,10,{_controlNonStatic:0}),hs(335544320,11,{_controlStatic:0}),hs(603979776,12,{_labelChildNonStatic:0}),hs(335544320,13,{_labelChildStatic:0}),hs(603979776,14,{_placeholderChild:0}),hs(603979776,15,{_errorChildren:1}),hs(603979776,16,{_hintChildren:1}),hs(603979776,17,{_prefixChildren:1}),hs(603979776,18,{_suffixChildren:1}),(t()(),ss(39,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["email",""],["id","email"],["mat-input",""],["matInput",""],["name","email"],["ngModel",""],["placeholder","Email"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==ri(t,43)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,43).onTouched()&&r),"compositionstart"===e&&(r=!1!==ri(t,43)._compositionStart()&&r),"compositionend"===e&&(r=!1!==ri(t,43)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,47)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==ri(t,47)._focusChanged(!0)&&r),"input"===e&&(r=!1!==ri(t,47)._onInput()&&r),r}),null,null)),gi(40,16384,null,0,lC,[],{required:[0,"required"]},null),gi(41,16384,null,0,uC,[],{email:[0,"email"]},null),vi(1024,null,bx,(function(t,e){return[t,e]}),[lC,uC]),gi(43,16384,null,0,cx,[bn,pn,[2,ux]],null,null),vi(1024,null,lx,(function(t){return[t]}),[cx]),gi(45,671744,null,0,oC,[[2,dx],[6,bx],[8,null],[6,lx]],{name:[0,"name"],model:[1,"model"]},null),vi(2048,null,px,null,[oC]),gi(47,999424,null,0,$C,[pn,cc,[6,px],[2,Jx],[2,aC],pf,[8,null],BC,vo],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),gi(48,16384,null,0,gx,[[4,px]],null,null),vi(2048,[[10,4],[11,4]],fC,null,[$C]),(t()(),ss(50,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,VC,kC)),gi(51,7520256,null,9,wC,[pn,Pe,[2,kf],[2,Bh],[2,_C],cc,vo,[2,Sg]],null,null),hs(603979776,19,{_controlNonStatic:0}),hs(335544320,20,{_controlStatic:0}),hs(603979776,21,{_labelChildNonStatic:0}),hs(335544320,22,{_labelChildStatic:0}),hs(603979776,23,{_placeholderChild:0}),hs(603979776,24,{_errorChildren:1}),hs(603979776,25,{_hintChildren:1}),hs(603979776,26,{_prefixChildren:1}),hs(603979776,27,{_suffixChildren:1}),(t()(),ss(61,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","password"],["mat-input",""],["matInput",""],["minlength","6"],["name","password"],["ngModel",""],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==ri(t,65)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,65).onTouched()&&r),"compositionstart"===e&&(r=!1!==ri(t,65)._compositionStart()&&r),"compositionend"===e&&(r=!1!==ri(t,65)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,69)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==ri(t,69)._focusChanged(!0)&&r),"input"===e&&(r=!1!==ri(t,69)._onInput()&&r),r}),null,null)),gi(62,16384,null,0,lC,[],{required:[0,"required"]},null),gi(63,540672,null,0,cC,[],{minlength:[0,"minlength"]},null),vi(1024,null,bx,(function(t,e){return[t,e]}),[lC,cC]),gi(65,16384,null,0,cx,[bn,pn,[2,ux]],null,null),vi(1024,null,lx,(function(t){return[t]}),[cx]),gi(67,671744,null,0,oC,[[2,dx],[6,bx],[8,null],[6,lx]],{name:[0,"name"],model:[1,"model"]},null),vi(2048,null,px,null,[oC]),gi(69,999424,null,0,$C,[pn,cc,[6,px],[2,Jx],[2,aC],pf,[8,null],BC,vo],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),gi(70,16384,null,0,gx,[[4,px]],null,null),vi(2048,[[19,4],[20,4]],fC,null,[$C]),(t()(),ss(72,0,null,null,3,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(73,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ig,Cg)),gi(74,180224,null,0,Of,[pn,vh,[2,Sg]],{color:[0,"color"]},null),(t()(),ws(-1,0,[" Registrarse "])),(t()(),ss(76,0,null,null,3,"div",[["class","formGroup mt-1"]],null,null,null,null,null)),(t()(),ss(77,0,null,null,2,"span",[["class","or"]],null,null,null,null,null)),(t()(),ss(78,0,null,null,1,"span",[["class","orInner"]],null,null,null,null,null)),(t()(),ws(-1,null,["Or"])),(t()(),ss(80,0,null,null,5,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(81,0,null,null,4,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),ss(82,0,null,null,3,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.tryGoogleAuth()&&r),r}),Ig,Cg)),gi(83,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),(t()(),ss(84,0,null,0,0,"i",[["class","fab fa-google-plus-g"]],null,null,null,null,null)),(t()(),ws(-1,0,[" Registrate con tu cuenta de Google "])),(t()(),ss(86,0,null,null,6,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(87,0,null,null,5,"div",[["class","redirectToLogin"]],null,null,null,null,null)),(t()(),ss(88,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["\xbfYa tienes cuenta? "])),(t()(),ss(90,0,null,null,2,"a",[["class","redirect"],["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,91).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(91,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["Conectate aqu\xed"]))],(function(t,e){t(e,18,0,""),t(e,19,0,""),t(e,23,0,"username",""),t(e,25,0,"username","Nombre de usuario","","username"),t(e,40,0,""),t(e,41,0,""),t(e,45,0,"email",""),t(e,47,0,"email","Email","","email"),t(e,62,0,""),t(e,63,0,"6"),t(e,67,0,"password",""),t(e,69,0,"password","Contrase\xf1a","","password"),t(e,74,0,"primary"),t(e,91,0,"/login")}),(function(t,e){t(e,1,0,ri(e,5).ngClassUntouched,ri(e,5).ngClassTouched,ri(e,5).ngClassPristine,ri(e,5).ngClassDirty,ri(e,5).ngClassValid,ri(e,5).ngClassInvalid,ri(e,5).ngClassPending),t(e,6,1,["standard"==ri(e,7).appearance,"fill"==ri(e,7).appearance,"outline"==ri(e,7).appearance,"legacy"==ri(e,7).appearance,ri(e,7)._control.errorState,ri(e,7)._canLabelFloat,ri(e,7)._shouldLabelFloat(),ri(e,7)._hasFloatingLabel(),ri(e,7)._hideControlPlaceholder(),ri(e,7)._control.disabled,ri(e,7)._control.autofilled,ri(e,7)._control.focused,"accent"==ri(e,7).color,"warn"==ri(e,7).color,ri(e,7)._shouldForward("untouched"),ri(e,7)._shouldForward("touched"),ri(e,7)._shouldForward("pristine"),ri(e,7)._shouldForward("dirty"),ri(e,7)._shouldForward("valid"),ri(e,7)._shouldForward("invalid"),ri(e,7)._shouldForward("pending"),!ri(e,7)._animationsEnabled]),t(e,17,1,[ri(e,18).required?"":null,ri(e,25)._isServer,ri(e,25).id,ri(e,25).placeholder,ri(e,25).disabled,ri(e,25).required,ri(e,25).readonly&&!ri(e,25)._isNativeSelect||null,ri(e,25)._ariaDescribedby||null,ri(e,25).errorState,ri(e,25).required.toString(),ri(e,26).ngClassUntouched,ri(e,26).ngClassTouched,ri(e,26).ngClassPristine,ri(e,26).ngClassDirty,ri(e,26).ngClassValid,ri(e,26).ngClassInvalid,ri(e,26).ngClassPending]),t(e,28,1,["standard"==ri(e,29).appearance,"fill"==ri(e,29).appearance,"outline"==ri(e,29).appearance,"legacy"==ri(e,29).appearance,ri(e,29)._control.errorState,ri(e,29)._canLabelFloat,ri(e,29)._shouldLabelFloat(),ri(e,29)._hasFloatingLabel(),ri(e,29)._hideControlPlaceholder(),ri(e,29)._control.disabled,ri(e,29)._control.autofilled,ri(e,29)._control.focused,"accent"==ri(e,29).color,"warn"==ri(e,29).color,ri(e,29)._shouldForward("untouched"),ri(e,29)._shouldForward("touched"),ri(e,29)._shouldForward("pristine"),ri(e,29)._shouldForward("dirty"),ri(e,29)._shouldForward("valid"),ri(e,29)._shouldForward("invalid"),ri(e,29)._shouldForward("pending"),!ri(e,29)._animationsEnabled]),t(e,39,1,[ri(e,40).required?"":null,ri(e,47)._isServer,ri(e,47).id,ri(e,47).placeholder,ri(e,47).disabled,ri(e,47).required,ri(e,47).readonly&&!ri(e,47)._isNativeSelect||null,ri(e,47)._ariaDescribedby||null,ri(e,47).errorState,ri(e,47).required.toString(),ri(e,48).ngClassUntouched,ri(e,48).ngClassTouched,ri(e,48).ngClassPristine,ri(e,48).ngClassDirty,ri(e,48).ngClassValid,ri(e,48).ngClassInvalid,ri(e,48).ngClassPending]),t(e,50,1,["standard"==ri(e,51).appearance,"fill"==ri(e,51).appearance,"outline"==ri(e,51).appearance,"legacy"==ri(e,51).appearance,ri(e,51)._control.errorState,ri(e,51)._canLabelFloat,ri(e,51)._shouldLabelFloat(),ri(e,51)._hasFloatingLabel(),ri(e,51)._hideControlPlaceholder(),ri(e,51)._control.disabled,ri(e,51)._control.autofilled,ri(e,51)._control.focused,"accent"==ri(e,51).color,"warn"==ri(e,51).color,ri(e,51)._shouldForward("untouched"),ri(e,51)._shouldForward("touched"),ri(e,51)._shouldForward("pristine"),ri(e,51)._shouldForward("dirty"),ri(e,51)._shouldForward("valid"),ri(e,51)._shouldForward("invalid"),ri(e,51)._shouldForward("pending"),!ri(e,51)._animationsEnabled]),t(e,61,1,[ri(e,62).required?"":null,ri(e,63).minlength?ri(e,63).minlength:null,ri(e,69)._isServer,ri(e,69).id,ri(e,69).placeholder,ri(e,69).disabled,ri(e,69).required,ri(e,69).readonly&&!ri(e,69)._isNativeSelect||null,ri(e,69)._ariaDescribedby||null,ri(e,69).errorState,ri(e,69).required.toString(),ri(e,70).ngClassUntouched,ri(e,70).ngClassTouched,ri(e,70).ngClassPristine,ri(e,70).ngClassDirty,ri(e,70).ngClassValid,ri(e,70).ngClassInvalid,ri(e,70).ngClassPending]),t(e,73,0,ri(e,74).disabled||null,"NoopAnimations"===ri(e,74)._animationMode),t(e,82,0,ri(e,83).disabled||null,"NoopAnimations"===ri(e,83)._animationMode),t(e,90,0,ri(e,91).target,ri(e,91).href)}))}function oI(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-register",[],null,null,null,iI,rI)),gi(1,114688,null,0,nI,[XC,XS,Nb,bv,Vh],null,null)],(function(t,e){t(e,1,0)}),null)}var sI=Wr("app-register",nI,oI,{},{},[]);class aI{constructor(t,e){this.authService=t,this._snackBar=e}ngOnInit(){}tryResendEmail(){this.authService.sendVerificationMail().then(t=>{this._snackBar.open("El correo ha sido enviado correctamente","Ok",{duration:3e3})}).catch(t=>{console.log(t),this._snackBar.open(t,"Ok",{duration:3e3})})}}var lI=or({encapsulation:0,styles:[[""],ax],data:{}});function uI(t){return xs(0,[(t()(),ss(0,0,null,null,16,"section",[["class","auth-container"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ws(-1,null,["Gracias por registrarte"])),(t()(),ss(3,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),ws(-1,null,["Hemos enviado un email de confirmacion a tu cuenta de correo."])),(t()(),ss(5,0,null,null,5,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(6,0,null,null,4,"div",[["class","redirectToLogin"]],null,null,null,null,null)),(t()(),ss(7,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["\xbfNo has recibido tu email?"])),(t()(),ss(9,0,null,null,1,"a",[["class","redirect"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.tryResendEmail()&&r),r}),null,null)),(t()(),ws(-1,null,["Haz click aqu\xed"])),(t()(),ss(11,0,null,null,5,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(12,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["\xbfYa has verificado tu cuenta?"])),(t()(),ss(14,0,null,null,2,"a",[["class","redirect"],["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,15).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(15,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["Conectate aqu\xed"]))],(function(t,e){t(e,15,0,"/login")}),(function(t,e){t(e,14,0,ri(e,15).target,ri(e,15).href)}))}function cI(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-verify-email",[],null,null,null,uI,lI)),gi(1,114688,null,0,aI,[XC,Vh],null,null)],(function(t,e){t(e,1,0)}),null)}var hI=Wr("app-verify-email",aI,cI,{},{},[]);class dI{constructor(t,e,n,r){this.authService=t,this.router=e,this.route=n,this._snackBar=r,this.error=null}ngOnInit(){}tryforgotPassword(t){this.authService.forgotPassword(t.value.email).then(()=>{this._snackBar.open("Te hemos enviado un link para resetear tu contrase\xf1a a tu correo.","Ok",{duration:3e3})}).catch(t=>{this._snackBar.open("Ha surgido un error","Ok",{duration:3e3})})}}var fI=or({encapsulation:0,styles:[[""],ax],data:{}});function pI(t){return xs(0,[(t()(),ss(0,0,null,null,31,"section",[["class","auth-container"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,30,"form",[["class","main-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==ri(t,3).onSubmit(n)&&r),"reset"===e&&(r=!1!==ri(t,3).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.tryforgotPassword(ri(t,3))&&r),r}),null,null)),gi(2,16384,null,0,sC,[],null,null),gi(3,4210688,[["authForm",4]],0,Jx,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),vi(2048,null,dx,null,[Jx]),gi(5,16384,null,0,yx,[[4,dx]],null,null),(t()(),ss(6,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,VC,kC)),gi(7,7520256,null,9,wC,[pn,Pe,[2,kf],[2,Bh],[2,_C],cc,vo,[2,Sg]],null,null),hs(603979776,1,{_controlNonStatic:0}),hs(335544320,2,{_controlStatic:0}),hs(603979776,3,{_labelChildNonStatic:0}),hs(335544320,4,{_labelChildStatic:0}),hs(603979776,5,{_placeholderChild:0}),hs(603979776,6,{_errorChildren:1}),hs(603979776,7,{_hintChildren:1}),hs(603979776,8,{_prefixChildren:1}),hs(603979776,9,{_suffixChildren:1}),(t()(),ss(17,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["email",""],["id","email"],["mat-input",""],["matInput",""],["name","email"],["ngModel",""],["placeholder","Tu\n          email"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==ri(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==ri(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==ri(t,21)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==ri(t,25)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==ri(t,25)._focusChanged(!0)&&r),"input"===e&&(r=!1!==ri(t,25)._onInput()&&r),r}),null,null)),gi(18,16384,null,0,lC,[],{required:[0,"required"]},null),gi(19,16384,null,0,uC,[],{email:[0,"email"]},null),vi(1024,null,bx,(function(t,e){return[t,e]}),[lC,uC]),gi(21,16384,null,0,cx,[bn,pn,[2,ux]],null,null),vi(1024,null,lx,(function(t){return[t]}),[cx]),gi(23,671744,null,0,oC,[[2,dx],[6,bx],[8,null],[6,lx]],{name:[0,"name"],model:[1,"model"]},null),vi(2048,null,px,null,[oC]),gi(25,999424,null,0,$C,[pn,cc,[6,px],[2,Jx],[2,aC],pf,[8,null],BC,vo],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),gi(26,16384,null,0,gx,[[4,px]],null,null),vi(2048,[[1,4],[2,4]],fC,null,[$C]),(t()(),ss(28,0,null,null,3,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(29,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ig,Cg)),gi(30,180224,null,0,Of,[pn,vh,[2,Sg]],{color:[0,"color"]},null),(t()(),ws(-1,0,[" Enviar "]))],(function(t,e){t(e,18,0,""),t(e,19,0,""),t(e,23,0,"email",""),t(e,25,0,"email","Tu\n          email","","email"),t(e,30,0,"primary")}),(function(t,e){t(e,1,0,ri(e,5).ngClassUntouched,ri(e,5).ngClassTouched,ri(e,5).ngClassPristine,ri(e,5).ngClassDirty,ri(e,5).ngClassValid,ri(e,5).ngClassInvalid,ri(e,5).ngClassPending),t(e,6,1,["standard"==ri(e,7).appearance,"fill"==ri(e,7).appearance,"outline"==ri(e,7).appearance,"legacy"==ri(e,7).appearance,ri(e,7)._control.errorState,ri(e,7)._canLabelFloat,ri(e,7)._shouldLabelFloat(),ri(e,7)._hasFloatingLabel(),ri(e,7)._hideControlPlaceholder(),ri(e,7)._control.disabled,ri(e,7)._control.autofilled,ri(e,7)._control.focused,"accent"==ri(e,7).color,"warn"==ri(e,7).color,ri(e,7)._shouldForward("untouched"),ri(e,7)._shouldForward("touched"),ri(e,7)._shouldForward("pristine"),ri(e,7)._shouldForward("dirty"),ri(e,7)._shouldForward("valid"),ri(e,7)._shouldForward("invalid"),ri(e,7)._shouldForward("pending"),!ri(e,7)._animationsEnabled]),t(e,17,1,[ri(e,18).required?"":null,ri(e,25)._isServer,ri(e,25).id,ri(e,25).placeholder,ri(e,25).disabled,ri(e,25).required,ri(e,25).readonly&&!ri(e,25)._isNativeSelect||null,ri(e,25)._ariaDescribedby||null,ri(e,25).errorState,ri(e,25).required.toString(),ri(e,26).ngClassUntouched,ri(e,26).ngClassTouched,ri(e,26).ngClassPristine,ri(e,26).ngClassDirty,ri(e,26).ngClassValid,ri(e,26).ngClassInvalid,ri(e,26).ngClassPending]),t(e,29,0,ri(e,30).disabled||null,"NoopAnimations"===ri(e,30)._animationMode)}))}function mI(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-reset-password",[],null,null,null,pI,fI)),gi(1,114688,null,0,dI,[XC,Nb,bv,Vh],null,null)],(function(t,e){t(e,1,0)}),null)}var gI=Wr("app-reset-password",dI,mI,{},{},[]);class yI{constructor(t,e,n){this.authService=t,this._snackBar=e,this.router=n,this.playerData=null}ngOnInit(){this.authService.getUserData().subscribe(t=>this.playerData=t,t=>{this._snackBar.open(t.msg,"Ok",{duration:3e3})})}tryResendEmail(){this.authService.sendVerificationMail().then(t=>{this._snackBar.open("El correo ha sido enviado correctamente","Ok",{duration:3e3})}).catch(t=>{console.log(t),this._snackBar.open(t,"Ok",{duration:3e3}),setTimeout(()=>{this.router.navigate(["home"])},1500)})}}var vI=or({encapsulation:0,styles:[[".main-content[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;flex-direction:column;align-items:center;margin-top:2vw}.all-info[_ngcontent-%COMP%]{flex-direction:row;display:flex;flex:1 1 1e-9px;width:90%;justify-content:space-evenly}.user-image[_ngcontent-%COMP%]{display:flex;flex-basis:25%}.user-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.user-info[_ngcontent-%COMP%]{display:flex;flex-basis:50%;flex-direction:column;width:80%}.item-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:1em}.item-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:.5em}"]],data:{}});function bI(t){return xs(0,[(t()(),ss(0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),ws(-1,null,["Por favor, confirma tu email"])),(t()(),ss(3,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Si no te ha llegado haz "])),(t()(),ss(5,0,null,null,1,"a",[["class","redirect"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.tryResendEmail()&&r),r}),null,null)),(t()(),ws(-1,null,["click aqu\xed"])),(t()(),ws(-1,null,[" para enviar otro email de confirmacion"]))],null,null)}function _I(t){return xs(0,[(t()(),ss(0,0,null,null,21,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ws(2,null,["Bienvenido a tu cuenta ","."])),(t()(),ss(3,0,null,null,15,"div",[["class","all-info"]],null,null,null,null,null)),(t()(),ss(4,0,null,null,1,"div",[["class","user-image"]],null,null,null,null,null)),(t()(),ss(5,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),ss(6,0,null,null,12,"div",[["class","user-info"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,bI)),gi(8,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(9,0,null,null,4,"div",[["class","item-info"]],null,null,null,null,null)),(t()(),ss(10,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(t()(),ws(-1,null,["Nombre de usuario:"])),(t()(),ss(12,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(13,null,["",""])),(t()(),ss(14,0,null,null,4,"div",[["class","item-info"]],null,null,null,null,null)),(t()(),ss(15,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),ws(-1,null,["Email:"])),(t()(),ss(17,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(18,null,["",""])),(t()(),ss(19,0,null,null,2,"div",[["class","records"]],null,null,null,null,null)),(t()(),ss(20,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ws(-1,null,["Tus r\xe9cords personales"]))],(function(t,e){t(e,8,0,!e.component.playerData.emailVerified)}),(function(t,e){var n=e.component;t(e,2,0,null==n.playerData?null:n.playerData.displayName),t(e,5,0,Dr(1,"",n.playerData.photoURL?n.playerData.photoURL:"/assets/img/dummy-user.png",""),Dr(1,"",n.playerData.displayName,"")),t(e,13,0,n.playerData.displayName),t(e,18,0,n.playerData.email)}))}function wI(t){return xs(0,[(t()(),ss(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,_I)),gi(2,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.playerData)}),null)}function EI(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-player-account",[],null,null,null,wI,vI)),gi(1,114688,null,0,yI,[XC,Vh,Nb],null,null)],(function(t,e){t(e,1,0)}),null)}var SI=Wr("app-player-account",yI,EI,{},{},[]);class xI{constructor(){this.showSolution=null,this.selected=new Bi}ngOnInit(){console.log("cardData:",this.cardData)}getImgSrc(t){return`/assets/data/${t.folder}/${t.img}.jpg`}selectTile(t,e){for(const n of t)n.selected=!1;t[e].selected=!0,this.selected.emit(t[e])}isShowSolutionActive(t){return null!==this.showSolution&&this.showSolution.img===t.img}}var CI=or({encapsulation:0,styles:[["mat-card-title[_ngcontent-%COMP%]{text-align:center}@media (max-width:600px){.title[_ngcontent-%COMP%]{display:none}}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:40%}@media (max-width:600px){.card[_ngcontent-%COMP%]{display:flex;flex-basis:100%}}.selectable-tile-img[_ngcontent-%COMP%], .tile-img[_ngcontent-%COMP%]{width:90%;height:auto}.selectable-tile-img[_ngcontent-%COMP%]:hover{border:5px solid #90ee90;border-radius:20px}.active-tile[_ngcontent-%COMP%]{border:10px solid green!important;border-radius:20px}.highlight-error[_ngcontent-%COMP%]{border:10px solid red!important;border-radius:20px}.cover-all[_ngcontent-%COMP%]{width:100%;height:100%;background-color:grey}"]],data:{}});function II(t){return xs(0,[(t()(),ss(0,0,null,null,7,"mat-grid-tile",[["class","selectable-tile mat-grid-tile"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.selectTile(i.cardData,t.context.index)&&r),r}),rE,nE)),gi(1,49152,[[1,4]],0,Bw,[pn,[2,jw]],null,null),(t()(),ss(2,0,null,0,5,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),vi(512,null,ju,Bu,[Dn,Pn,pn,bn]),gi(4,278528,null,0,Hu,[ju],{ngClass:[0,"ngClass"]},null),bs(5,{"selectable-tile-img":0,"active-tile":1,"highlight-error":2}),gi(6,933888,null,0,sE,[pn,j_,z_,ju,[6,Hu]],{ngClass:[0,"ngClass"]},null),bs(7,{"selectable-tile-img":0,"active-tile":1,"highlight-error":2})],(function(t,e){var n=e.component,r=t(e,5,0,!0,e.context.$implicit.selected,n.isShowSolutionActive(e.context.$implicit));t(e,4,0,r);var i=t(e,7,0,!0,e.context.$implicit.selected,n.isShowSolutionActive(e.context.$implicit));t(e,6,0,i)}),(function(t,e){t(e,2,0,e.component.getImgSrc(e.context.$implicit))}))}function kI(t){return xs(0,[(t()(),ss(0,0,null,null,16,"mat-card",[["class","card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,vE,yE)),gi(1,49152,null,0,mE,[[2,Sg]],null,null),(t()(),ss(2,0,null,0,2,"mat-card-title",[["class","title mat-card-title"]],null,null,null,null,null)),gi(3,16384,null,0,pE,[],null,null),(t()(),ws(4,null,[" "," "])),(t()(),ss(5,0,null,0,11,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),gi(6,16384,null,0,fE,[],null,null),(t()(),ss(7,0,null,null,9,"div",[["class","flip-card"]],null,null,null,null,null)),(t()(),ss(8,0,null,null,8,"div",[["class","flip-card-inner"]],null,null,null,null,null)),(t()(),ss(9,0,null,null,6,"div",[["class","flip-card-front"]],null,null,null,null,null)),(t()(),ss(10,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["cols","3"],["gutterSize","20px"]],null,null,null,eE,tE)),vi(6144,null,jw,null,[Zw]),gi(12,2211840,null,1,Zw,[pn,[2,Bh]],{cols:[0,"cols"],gutterSize:[1,"gutterSize"]},null),hs(603979776,1,{_tiles:1}),(t()(),os(16777216,null,0,1,null,II)),gi(15,278528,null,0,Gu,[jn,Un,Dn],{ngForOf:[0,"ngForOf"]},null),(t()(),ss(16,0,null,null,0,"div",[["class","flip-card-back"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,12,0,"3","20px"),t(e,15,0,n.cardData)}),(function(t,e){var n=e.component;t(e,0,0,"NoopAnimations"===ri(e,1)._animationMode),t(e,4,0,n.title)}))}function TI(t){return xs(0,[(t()(),os(16777216,null,null,1,null,kI)),gi(1,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.cardData.length>0)}),null)}const AI=100,NI=10;class RI{constructor(t){this._elementRef=t}}const OI=cf(RI,"primary"),DI=new kt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:AI}}}),PI="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n";let LI=(()=>{class t extends OI{constructor(e,n,r,i,o){super(e),this._elementRef=e,this._document=r,this._diameter=AI,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=t._diameters;s.has(r.head)||s.set(r.head,new Set([AI])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=ll(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=ll(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,ll(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function(t,e){if("undefined"!=typeof window){const n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){const e=t.getRootNode?t.getRootNode():null;if(e instanceof window.ShadowRoot)return e}}return null}(t,this._document)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-NI)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){return PI.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t._diameters=new WeakMap,t})();class MI{}var FI=or({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function UI(t){return xs(0,[(t()(),ss(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n._circleRadius,"mat-progress-spinner-stroke-rotate-"+n.diameter,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)}))}function VI(t){return xs(0,[(t()(),ss(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n._circleRadius,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)}))}function jI(t){return xs(2,[(t()(),ss(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),gi(1,16384,null,0,Xu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),os(16777216,null,null,1,null,UI)),gi(3,278528,null,0,Zu,[jn,Un,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,VI)),gi(5,278528,null,0,Zu,[jn,Un,Xu],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){t(e,1,0,"indeterminate"===e.component.mode),t(e,3,0,!0),t(e,5,0,!1)}),(function(t,e){var n=e.component;t(e,0,0,n.diameter,n.diameter,n._viewBox)}))}class BI{transform(t){const e=Math.floor(t/60),n=t-60*e;return e+":"+(n<10?"0":"")+n}}class qI{constructor(){this.ready=new k}setData(t){this.allTiles=t}createRandomCards(t){this.ready.next(!1);const e=Array.from(this.allTiles.keys()),n=this.allTiles.size,r=2*t-1,i=[];for(let u=0;u<r;u++){let t=Math.floor(Math.random()*n);(t<0||t>e.length-1)&&(t=0);const r=e[t],o=this.getRandomImgInFolder(r);this.checkIfExist(i,r,o)?u--:i.push({folder:r,img:o,selected:!1})}const o=i.splice(0,t),s=i.slice(0,i.length);let a=Math.floor(Math.random()*t);this.solutionCard=o[a];const l=this.getFolderDifferentTo(e,o[a].folder);s.push({folder:l,img:o[a].img,selected:!1}),this.cardAData=this.getRandomArray(o,o.length),this.cardBData=this.getRandomArray(s,s.length),this.ready.next(!0)}getSelectedCardA(){return this.getSelected(this.cardAData)}getSelectedCardB(){return this.getSelected(this.cardBData)}isSolutionBetweenTiles(t,e){return t.img===e.img}clearSelected(){for(const t of this.cardAData)t.selected=!1;for(const t of this.cardBData)t.selected=!1}checkIfExist(t,e,n){for(const r of t)if(r.img===n)return!0;return!1}getRandomImgInFolder(t){const e=this.allTiles.get(t),n=e.length,r=Math.floor(Math.random()*n);return r<0||r>=n?e[0]:e[r]}getFolderDifferentTo(t,e){let n=Math.floor(Math.random()*(t.length-1));return t[n]===e&&(n+=1%t.length),t[n]}getRandomArray(t,e){const n=t.slice(0);let r,i,o=t.length;for(;o--;)r=n[i=Math.floor((o+1)*Math.random())],n[i]=n[o],n[o]=r;return n.slice(0,e)}getSelected(t){for(const e of t)if(e.selected)return e;return null}}class HI{constructor(t,e,n,r){this.dataService=t,this._snackBar=e,this.router=n,this.authService=r,this.ready=!1,this.lives=[!0,!0,!0],this.currentlives=3,this.level=4,this.correct=0,this.intial_timer=30,this.timerValue=this.intial_timer,this.spinnerValue=100,this.diameterSpinner=100,this.timerStep=this.spinnerValue/this.timerValue,this.score=0,this.total_time=0,this.sendSolutionTile=null,this.gameMechanics=new qI}ngOnInit(){this.dataService.getAllTiles().subscribe(t=>{this.gameMechanics.setData(t),this.subsReady=this.gameMechanics.ready.subscribe(t=>{this.ready=t,this.ready&&this.startCountdown()}),this.gameMechanics.createRandomCards(this.level)}),window.innerWidth<600&&(this.diameterSpinner=40)}ngOnDestroy(){this.subsReady.unsubscribe()}ngAfterViewInit(){}resetContdown(t){this.timerValue=t,this.spinnerValue=100,this.timerStep=this.spinnerValue/this.timerValue,clearInterval(this.interval),this.startCountdown()}startCountdown(){this.interval=setInterval(()=>{this.timerValue--,this.total_time++,this.spinnerValue-=this.timerStep,this.timerValue<0&&this.timeout()},1e3)}timeout(){clearInterval(this.interval),this.loseALife()}checkIfSuccess(t){const e=this.gameMechanics.getSelectedCardA(),n=this.gameMechanics.getSelectedCardB();null!==e&&null!==n&&this.checkSolution(e,n)}checkSolution(t,e){let n="";this.gameMechanics.isSolutionBetweenTiles(t,e)?(n="La solucion es correcta",clearInterval(this.interval),setTimeout(()=>{this.nextLevel()},2e3)):(n="La solucion no es correcta",this.loseALife()),this._snackBar.open(n,"Ok",{duration:2e3})}setSolution(){this.sendSolutionTile=this.gameMechanics.solutionCard}loseALife(){clearInterval(this.interval),this.setSolution(),this.currentlives-=1,setTimeout(()=>{this.gameMechanics.clearSelected(),this.sendSolutionTile=null,this.lives[this.currentlives]=!1,0==this.currentlives?(this._snackBar.open("Has perdido","Ok",{duration:4e3}),this.dataService.saveRecord(this.createRecord()),this.router.navigate(["game-over"])):(this.gameMechanics.createRandomCards(this.level),this.resetContdown(this.intial_timer))},3500)}nextLevel(){this.score+=5*this.level,this.intial_timer=30,this.correct+=1,3===this.correct&&(this.correct=0,10===this.level?(this.level=10,10===this.intial_timer?this.intial_timer=10:this.intial_timer-=5):this.level+=1),this.gameMechanics.createRandomCards(this.level),this.resetContdown(this.intial_timer)}createRecord(){return{userId:this.authService.userUid,score:this.score,level:this.level,percent:100,timestamp:new Date,total_time:this.total_time}}}var zI=or({encapsulation:0,styles:[[".lives[_ngcontent-%COMP%]{margin:1em}.lives[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5em}.two-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-direction:row}@media (max-width:600px){.two-cards[_ngcontent-%COMP%]{flex-direction:column}.spinner[_ngcontent-%COMP%]{position:fixed;top:64px;right:10px}}.score[_ngcontent-%COMP%]{padding:0 2em}.score[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-right:.5em}.timer[_ngcontent-%COMP%]{font-size:x-large}.card[_ngcontent-%COMP%]{flex-direction:column;flex-basis:40%}.spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]],data:{}});function GI(t){return xs(0,[(t()(),ss(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),ss(1,0,null,null,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(2,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["favorite"]))],(function(t,e){t(e,2,0)}),(function(t,e){t(e,1,0,ri(e,2).inline,"primary"!==ri(e,2).color&&"accent"!==ri(e,2).color&&"warn"!==ri(e,2).color)}))}function WI(t){return xs(0,[(t()(),ss(0,0,null,null,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(1,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["favorite_border"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,ri(e,1).inline,"primary"!==ri(e,1).color&&"accent"!==ri(e,1).color&&"warn"!==ri(e,1).color)}))}function $I(t){return xs(0,[(t()(),ss(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,GI)),gi(2,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),os(0,[["emptylife",2]],null,0,null,WI))],(function(t,e){t(e,2,0,e.context.$implicit,ri(e,3))}),null)}function KI(t){return xs(0,[(t()(),ss(0,0,null,null,2,"p",[["class","timer"],["fxHide.lt-md","true"]],null,null,null,null,null)),gi(1,4866048,null,0,hE,[pn,aE,j_,z_,d_,Yi,[2,f_]],{"fxHide.lt-md":[0,"fxHide.lt-md"]},null),(t()(),ws(2,null,[" "," "]))],(function(t,e){t(e,1,0,"true")}),(function(t,e){t(e,2,0,e.component.timerValue)}))}function QI(t){return xs(0,[(t()(),ss(0,0,null,null,9,"div",[["class","two-cards"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"app-card",[["class","card"]],null,[[null,"selected"]],(function(t,e,n){var r=!0;return"selected"===e&&(r=!1!==t.component.checkIfSuccess(n)&&r),r}),TI,CI)),gi(2,114688,null,0,xI,[],{title:[0,"title"],cardData:[1,"cardData"],showSolution:[2,"showSolution"]},{selected:"selected"}),(t()(),ss(3,0,null,null,4,"div",[["class","spinner"]],null,null,null,null,null)),(t()(),ss(4,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,jI,FI)),gi(5,114688,null,0,LI,[pn,cc,[2,ec],[2,Sg],DI],{color:[0,"color"],diameter:[1,"diameter"],mode:[2,"mode"],value:[3,"value"]},null),(t()(),os(16777216,null,null,1,null,KI)),gi(7,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(8,0,null,null,1,"app-card",[["class","card"]],null,[[null,"selected"]],(function(t,e,n){var r=!0;return"selected"===e&&(r=!1!==t.component.checkIfSuccess(n)&&r),r}),TI,CI)),gi(9,114688,null,0,xI,[],{title:[0,"title"],cardData:[1,"cardData"],showSolution:[2,"showSolution"]},{selected:"selected"})],(function(t,e){var n=e.component;t(e,2,0,"Carta A",n.gameMechanics.cardAData,n.sendSolutionTile),t(e,5,0,"warn",n.diameterSpinner,"determinate",n.spinnerValue),t(e,7,0,n.timerValue>0),t(e,9,0,"Carta B",n.gameMechanics.cardBData,n.sendSolutionTile)}),(function(t,e){t(e,4,0,ri(e,5)._noopAnimations,ri(e,5).diameter,ri(e,5).diameter,"determinate"===ri(e,5).mode?0:null,"determinate"===ri(e,5).mode?100:null,"determinate"===ri(e,5).mode?ri(e,5).value:null,ri(e,5).mode)}))}function YI(t){return xs(0,[yi(0,BI,[]),(t()(),ss(1,0,null,null,29,"div",[["fxLayout","column"]],null,null,null,null,null)),gi(2,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),(t()(),ss(3,0,null,null,25,"div",[["fxLayout","row"],["fxLayoutAlign","space-between start"]],null,null,null,null,null)),gi(4,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),gi(5,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),ss(6,0,null,null,7,"div",[["class","lives"],["fxLayoutAlign","start center"]],null,null,null,null,null)),gi(7,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),ss(8,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["Vidas:"])),(t()(),ss(10,0,null,null,3,"div",[["fxLayout","row"]],null,null,null,null,null)),gi(11,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),(t()(),os(16777216,null,null,1,null,$I)),gi(13,278528,null,0,Gu,[jn,Un,Dn],{ngForOf:[0,"ngForOf"]},null),(t()(),ss(14,0,null,null,14,"div",[["class","lives"],["fxLayoutAlign","end center"]],null,null,null,null,null)),gi(15,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),ss(16,0,null,null,12,"div",[["fxLayout","row"]],null,null,null,null,null)),gi(17,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),(t()(),ss(18,0,null,null,4,"div",[["class","score"]],null,null,null,null,null)),(t()(),ss(19,0,null,null,1,"label",[["for","score"]],null,null,null,null,null)),(t()(),ws(-1,null,["Puntuacion:"])),(t()(),ss(21,0,null,null,1,"span",[["id","score"]],null,null,null,null,null)),(t()(),ws(22,null,["",""])),(t()(),ss(23,0,null,null,5,"div",[["class","score"]],null,null,null,null,null)),(t()(),ss(24,0,null,null,1,"label",[["for","total_time"]],null,null,null,null,null)),(t()(),ws(-1,null,["Tiempo total:"])),(t()(),ss(26,0,null,null,2,"span",[["id","total_time"]],null,null,null,null,null)),(t()(),ws(27,null,["",""])),vs(28,1),(t()(),os(16777216,null,null,1,null,QI)),gi(30,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,"column"),t(e,4,0,"row"),t(e,5,0,"space-between start"),t(e,7,0,"start center"),t(e,11,0,"row"),t(e,13,0,n.lives),t(e,15,0,"end center"),t(e,17,0,"row"),t(e,30,0,n.ready)}),(function(t,e){var n=e.component;t(e,22,0,n.score);var r=nr(e,27,0,t(e,28,0,ri(e,0),n.total_time));t(e,27,0,r)}))}function XI(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-play",[],null,null,null,YI,zI)),gi(1,4440064,null,0,HI,[XS,Vh,Nb,XC],null,null)],(function(t,e){t(e,1,0)}),null)}var ZI=Wr("app-play",HI,XI,{},{},[]);function JI(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=al(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}class tk{constructor(t){this.template=t}}class ek{constructor(t){this.template=t}}class nk{}const rk=JI(nk);class ik extends rk{constructor(){super(...arguments),this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=al(t),this._hasStickyChanged=e!==this._stickyEnd}}class ok{constructor(t,e){e.nativeElement.classList.add(`cdk-column-${t.cssClassFriendlyName}`)}}class sk extends ok{constructor(t,e){super(t,e)}}class ak extends ok{constructor(t,e){super(t,e)}}class lk{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof hk?t.headerCell.template:this instanceof pk?t.footerCell.template:t.cell.template}}class uk extends lk{}const ck=JI(uk);class hk extends ck{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}class dk extends lk{}const fk=JI(dk);class pk extends fk{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}class mk extends lk{constructor(t,e){super(t,e)}}let gk=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.mostRecentCellOutlet=null,t})();class yk{}class vk{}const bk=["top","bottom","left","right"];class _k{constructor(t,e,n,r=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=r}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const r=e.some(t=>t)||n.some(t=>t);if(!t.length||!r||!this._isBrowser)return;const i=t[0],o=i.children.length,s=this._getCellWidths(i),a=this._getStickyStartColumnPositions(s,e),l=this._getStickyEndColumnPositions(s,n),u="rtl"===this.direction;for(const c of t)for(let t=0;t<o;t++){const r=c.children[t];e[t]&&this._addStickyStyle(r,u?"right":"left",a[t]),n[t]&&this._addStickyStyle(r,u?"left":"right",l[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.reverse():t;let i=0;for(let o=0;o<r.length;o++){if(!e[o])continue;const t=r[o];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,i);else this._addStickyStyle(t,n,i);if(o===r.length-1)return;i+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),bk.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=`${n}px`,t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of bk)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}}function wk(t){return Error(`Could not find column with id "${t}".`)}class Ek{constructor(t,e){this.viewContainer=t,this.elementRef=e}}class Sk{constructor(t,e){this.viewContainer=t,this.elementRef=e}}class xk{constructor(t,e){this.viewContainer=t,this.elementRef=e}}class Ck{constructor(t,e,n,r,i,o,s){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=s,this._onDestroy=new k,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new Vg({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){oe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=al(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),bc(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,r)=>{if(null==t.previousIndex)this._insertRow(t.item,r);else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ik(this._contentColumnDefs,this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw function(t){return Error(`Duplicate column definition name provided: "${t}".`)}(t.name);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=Ik(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=Ik(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=Ik(this._contentRowDefs,this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],bc(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(bc(this.dataSource)?t=this.dataSource.connect(this):this.dataSource instanceof w?t=this.dataSource:Array.isArray(this.dataSource)&&(t=fl(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(il(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw wk(t);return e}),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for the"+`provided row data: ${JSON.stringify(t)}`)}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,r={}){t.viewContainer.createEmbeddedView(e.template,r,n);for(let i of this._getCellTemplates(e))gk.mostRecentCellOutlet&&gk.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw wk(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new _k(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:fl()).pipe(il(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}}function Ik(t,e){return t.toArray().concat(Array.from(e))}class kk{}class Tk extends Ck{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}class Ak extends tk{}class Nk extends ek{}class Rk extends ik{}class Ok extends sk{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}class Dk extends ak{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}class Pk extends hk{}class Lk extends mk{}class Mk extends yk{}class Fk extends vk{}class Uk{}var Vk=or({encapsulation:2,styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-of-type,mat-footer-cell:first-of-type,mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-footer-cell:last-of-type,mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type,th.mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type,[dir=rtl] th.mat-header-cell:first-of-type{padding-left:0;padding-right:24px}td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type,th.mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type,[dir=rtl] th.mat-header-cell:last-of-type{padding-right:0;padding-left:24px}"],data:{}});function jk(t){return xs(0,[hs(402653184,1,{_rowOutlet:0}),hs(402653184,2,{_headerRowOutlet:0}),hs(402653184,3,{_footerRowOutlet:0}),gs(null,0),(t()(),ss(4,16777216,null,null,1,null,null,null,null,null,null,null)),gi(5,16384,[[2,4]],0,Sk,[jn,pn],null,null),(t()(),ss(6,16777216,null,null,1,null,null,null,null,null,null,null)),gi(7,16384,[[1,4]],0,Ek,[jn,pn],null,null),(t()(),ss(8,16777216,null,null,1,null,null,null,null,null,null,null)),gi(9,16384,[[3,4]],0,xk,[jn,pn],null,null)],null,null)}var Bk=or({encapsulation:2,styles:[],data:{}});function qk(t){return xs(0,[(t()(),ss(0,16777216,null,null,1,null,null,null,null,null,null,null)),gi(1,147456,null,0,gk,[jn],null,null)],null,null)}var Hk=or({encapsulation:2,styles:[],data:{}});function zk(t){return xs(0,[(t()(),ss(0,16777216,null,null,1,null,null,null,null,null,null,null)),gi(1,147456,null,0,gk,[jn],null,null)],null,null)}class Gk{constructor(){this.dataset=[],this.title="Mejores puntuaciones",this.cols=["name","score","total_time","max_level","timestamp"]}}var Wk=or({encapsulation:0,styles:[[".padding-center[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;margin:2em;flex-direction:column}table[_ngcontent-%COMP%]{width:90%;margin:0 auto;text-align:center!important}@media (max-width:600px){.padding-center[_ngcontent-%COMP%]{margin:1em}table[_ngcontent-%COMP%]{width:100%}}text-center[_ngcontent-%COMP%]{text-align:center!important}.mat-header-cell[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function $k(t){return xs(0,[(t()(),ss(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),gi(1,16384,null,0,Ok,[ik,pn],null,null),(t()(),ws(-1,null,[" Jugador "]))],null,null)}function Kk(t){return xs(0,[(t()(),ss(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),gi(1,16384,null,0,Dk,[ik,pn],null,null),(t()(),ws(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.username)}))}function Qk(t){return xs(0,[(t()(),ss(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),gi(1,16384,null,0,Ok,[ik,pn],null,null),(t()(),ws(-1,null,[" Puntuacion "]))],null,null)}function Yk(t){return xs(0,[(t()(),ss(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),gi(1,16384,null,0,Dk,[ik,pn],null,null),(t()(),ws(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.score)}))}function Xk(t){return xs(0,[(t()(),ss(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),gi(1,16384,null,0,Ok,[ik,pn],null,null),(t()(),ws(-1,null,[" Tiempo "]))],null,null)}function Zk(t){return xs(0,[(t()(),ss(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),gi(1,16384,null,0,Dk,[ik,pn],null,null),(t()(),ws(2,null,[" "," "])),vs(3,1)],null,(function(t,e){var n=nr(e,2,0,t(e,3,0,ri(e.parent,0),e.context.$implicit.total_time));t(e,2,0,n)}))}function Jk(t){return xs(0,[(t()(),ss(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),gi(1,16384,null,0,Ok,[ik,pn],null,null),(t()(),ws(-1,null,[" Num. imagenes maximo "]))],null,null)}function tT(t){return xs(0,[(t()(),ss(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),gi(1,16384,null,0,Dk,[ik,pn],null,null),(t()(),ws(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.level)}))}function eT(t){return xs(0,[(t()(),ss(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),gi(1,16384,null,0,Ok,[ik,pn],null,null),(t()(),ws(-1,null,[" Fecha "]))],null,null)}function nT(t){return xs(0,[(t()(),ss(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),gi(1,16384,null,0,Dk,[ik,pn],null,null),(t()(),ws(2,null,[" "," "])),vs(3,2)],null,(function(t,e){var n=nr(e,2,0,t(e,3,0,ri(e.parent,1),e.context.$implicit.timestamp.toDate(),"short"));t(e,2,0,n)}))}function rT(t){return xs(0,[(t()(),ss(0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,qk,Bk)),vi(6144,null,yk,null,[Mk]),gi(2,49152,null,0,Mk,[],null,null)],null,null)}function iT(t){return xs(0,[(t()(),ss(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,zk,Hk)),vi(6144,null,vk,null,[Fk]),gi(2,49152,null,0,Fk,[],null,null)],null,null)}function oT(t){return xs(0,[yi(0,BI,[]),yi(0,Ju,[Ji]),(t()(),ss(2,0,null,null,80,"div",[["class","padding-center"]],null,null,null,null,null)),(t()(),ss(3,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ws(4,null,["",""])),(t()(),ss(5,0,null,null,77,"table",[["class","mat-elevation-z8 mat-table"],["mat-table",""],["matSortActive","score"],["matSortDirection","desc"]],null,null,null,jk,Vk)),vi(6144,null,Ck,null,[Tk]),gi(7,2342912,null,4,Tk,[Dn,Pe,pn,[8,null],[2,Bh],ec,cc],{dataSource:[0,"dataSource"]},null),hs(603979776,1,{_contentColumnDefs:1}),hs(603979776,2,{_contentRowDefs:1}),hs(603979776,3,{_contentHeaderRowDefs:1}),hs(603979776,4,{_contentFooterRowDefs:1}),(t()(),ss(12,0,null,null,12,null,null,null,null,null,null,null)),vi(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Rk]),gi(14,16384,null,3,Rk,[],{name:[0,"name"]},null),hs(603979776,5,{cell:0}),hs(603979776,6,{headerCell:0}),hs(603979776,7,{footerCell:0}),vi(2048,[[1,4]],ik,null,[Rk]),(t()(),os(0,null,null,2,null,$k)),gi(20,16384,null,0,Nk,[Un],null,null),vi(2048,[[6,4]],ek,null,[Nk]),(t()(),os(0,null,null,2,null,Kk)),gi(23,16384,null,0,Ak,[Un],null,null),vi(2048,[[5,4]],tk,null,[Ak]),(t()(),ss(25,0,null,null,12,null,null,null,null,null,null,null)),vi(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Rk]),gi(27,16384,null,3,Rk,[],{name:[0,"name"]},null),hs(603979776,8,{cell:0}),hs(603979776,9,{headerCell:0}),hs(603979776,10,{footerCell:0}),vi(2048,[[1,4]],ik,null,[Rk]),(t()(),os(0,null,null,2,null,Qk)),gi(33,16384,null,0,Nk,[Un],null,null),vi(2048,[[9,4]],ek,null,[Nk]),(t()(),os(0,null,null,2,null,Yk)),gi(36,16384,null,0,Ak,[Un],null,null),vi(2048,[[8,4]],tk,null,[Ak]),(t()(),ss(38,0,null,null,12,null,null,null,null,null,null,null)),vi(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Rk]),gi(40,16384,null,3,Rk,[],{name:[0,"name"]},null),hs(603979776,11,{cell:0}),hs(603979776,12,{headerCell:0}),hs(603979776,13,{footerCell:0}),vi(2048,[[1,4]],ik,null,[Rk]),(t()(),os(0,null,null,2,null,Xk)),gi(46,16384,null,0,Nk,[Un],null,null),vi(2048,[[12,4]],ek,null,[Nk]),(t()(),os(0,null,null,2,null,Zk)),gi(49,16384,null,0,Ak,[Un],null,null),vi(2048,[[11,4]],tk,null,[Ak]),(t()(),ss(51,0,null,null,12,null,null,null,null,null,null,null)),vi(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Rk]),gi(53,16384,null,3,Rk,[],{name:[0,"name"]},null),hs(603979776,14,{cell:0}),hs(603979776,15,{headerCell:0}),hs(603979776,16,{footerCell:0}),vi(2048,[[1,4]],ik,null,[Rk]),(t()(),os(0,null,null,2,null,Jk)),gi(59,16384,null,0,Nk,[Un],null,null),vi(2048,[[15,4]],ek,null,[Nk]),(t()(),os(0,null,null,2,null,tT)),gi(62,16384,null,0,Ak,[Un],null,null),vi(2048,[[14,4]],tk,null,[Ak]),(t()(),ss(64,0,null,null,12,null,null,null,null,null,null,null)),vi(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Rk]),gi(66,16384,null,3,Rk,[],{name:[0,"name"]},null),hs(603979776,17,{cell:0}),hs(603979776,18,{headerCell:0}),hs(603979776,19,{footerCell:0}),vi(2048,[[1,4]],ik,null,[Rk]),(t()(),os(0,null,null,2,null,eT)),gi(72,16384,null,0,Nk,[Un],null,null),vi(2048,[[18,4]],ek,null,[Nk]),(t()(),os(0,null,null,2,null,nT)),gi(75,16384,null,0,Ak,[Un],null,null),vi(2048,[[17,4]],tk,null,[Ak]),(t()(),os(0,null,null,2,null,rT)),gi(78,540672,null,0,Pk,[Un,Dn],{columns:[0,"columns"]},null),vi(2048,[[3,4]],hk,null,[Pk]),(t()(),os(0,null,null,2,null,iT)),gi(81,540672,null,0,Lk,[Un,Dn],{columns:[0,"columns"]},null),vi(2048,[[2,4]],mk,null,[Lk])],(function(t,e){var n=e.component;t(e,7,0,n.dataset),t(e,14,0,"name"),t(e,27,0,"score"),t(e,40,0,"total_time"),t(e,53,0,"max_level"),t(e,66,0,"timestamp"),t(e,78,0,n.cols),t(e,81,0,n.cols)}),(function(t,e){t(e,4,0,e.component.title)}))}class sT{constructor(t,e){this.dataService=t,this.breakpointObserver=e,this.displayedColumns=["name","score","total_time","max_level","timestamp"],this.dataSource=[],this.dataSourceWeek=[],this.dataSourceMonth=[]}ngOnInit(){const t=new Date,e=t.getDay(),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()+(0==e?-6:1)-e),r=new Date(t.getFullYear(),t.getMonth(),1);this.allUsers=new Map,_h(this.dataService.getPlayers(),this.dataService.getTenBestRecords(),this.dataService.getTenLastRecordsFilterByDate(n),this.dataService.getTenLastRecordsFilterByDate(r)).subscribe(([t,e,n,r])=>{null!==t&&null!==e&&(t.map(t=>{this.allUsers.set(t.payload.doc.id,Object.assign({},t.payload.doc.data()))}),this.dataSource=e.map(t=>Object.assign({id:t.payload.doc.id,username:this.getUserName(t.payload.doc.data().userId)},t.payload.doc.data())),console.log(this.dataSource),this.dataSourceWeek=n.map(t=>Object.assign({id:t.payload.doc.id,username:this.getUserName(t.payload.doc.data().userId)},t.payload.doc.data())),this.dataSourceMonth=r.map(t=>Object.assign({id:t.payload.doc.id,username:this.getUserName(t.payload.doc.data().userId)},t.payload.doc.data())))})}ngAfterContentInit(){this.breakpointObserver.observe([Rh.Small,Rh.HandsetPortrait]).subscribe(t=>{t.matches&&(console.log("Matches small viewport or handset in portrait mode"),this.displayedColumns=["name","score","total_time","timestamp"])})}getUserName(t){return this.allUsers.get(t).displayName}}var aT=or({encapsulation:0,styles:[[""]],data:{}});function lT(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-ranking-table",[],null,null,null,oT,Wk)),gi(1,49152,null,0,Gk,[],{dataset:[0,"dataset"],title:[1,"title"],cols:[2,"cols"]},null),(t()(),ss(2,0,null,null,1,"app-ranking-table",[],null,null,null,oT,Wk)),gi(3,49152,null,0,Gk,[],{dataset:[0,"dataset"],title:[1,"title"],cols:[2,"cols"]},null),(t()(),ss(4,0,null,null,1,"app-ranking-table",[],null,null,null,oT,Wk)),gi(5,49152,null,0,Gk,[],{dataset:[0,"dataset"],title:[1,"title"],cols:[2,"cols"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.dataSource,"Mejores puntuaciones",n.displayedColumns),t(e,3,0,n.dataSourceWeek,"Mejores puntuaciones de la semana",n.displayedColumns),t(e,5,0,n.dataSourceMonth,"Mejores puntuaciones del mes",n.displayedColumns)}),null)}function uT(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-scoreboard",[],null,null,null,lT,aT)),gi(1,1163264,null,0,sT,[XS,Ah],null,null)],(function(t,e){t(e,1,0)}),null)}var cT=Wr("app-scoreboard",sT,uT,{},{},[]);class hT{constructor(t,e){this.dataService=t,this.router=e,this.oldRecord=null,this.lastRecord=null,this.diffScore=null,this.diffTime=null}ngOnInit(){this.oldRecordSub=this.dataService.oldRecord.subscribe(t=>this.oldRecord=t),this.lastRecordSub=this.dataService.lastRecord.subscribe(t=>{this.lastRecord=t,this.createDiff()})}createDiff(){null!==this.oldRecord&&null!==this.lastRecord&&(this.diffScore=this.lastRecord.score-this.oldRecord.score,0!==this.oldRecord.total_time&&(this.diffTime=this.oldRecord.total_time-this.lastRecord.total_time))}ngOnDestroy(){this.oldRecordSub.unsubscribe(),this.lastRecordSub.unsubscribe()}}var dT=or({encapsulation:0,styles:[[".item-record[_ngcontent-%COMP%]{display:flex;margin:2em}.diff[_ngcontent-%COMP%], .greenDiff[_ngcontent-%COMP%], .greyDiff[_ngcontent-%COMP%], .redDiff[_ngcontent-%COMP%]{padding-left:.5em;color:grey}.greyDiff[_ngcontent-%COMP%]{color:grey}.greenDiff[_ngcontent-%COMP%]{color:green}.redDiff[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{display:flex;align-self:center;padding-right:1em}.big-number[_ngcontent-%COMP%]{font-size:xx-large}.btns-layout[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:row;width:300px;margin-top:2em}"]],data:{}});function fT(t){return xs(0,[(t()(),ss(0,0,null,null,6,"span",[],null,null,null,null,null)),vi(512,null,ju,Bu,[Dn,Pn,pn,bn]),gi(2,278528,null,0,Hu,[ju],{ngClass:[0,"ngClass"]},null),bs(3,{greenDiff:0,redDiff:1,greyDiff:2}),gi(4,933888,null,0,sE,[pn,j_,z_,ju,[6,Hu]],{ngClass:[0,"ngClass"]},null),bs(5,{greenDiff:0,redDiff:1,greyDiff:2}),(t()(),ws(6,null,[" "," "]))],(function(t,e){var n=e.component,r=t(e,3,0,n.diffScore>0,n.diffScore<0,0==n.diffScore);t(e,2,0,r);var i=t(e,5,0,n.diffScore>0,n.diffScore<0,0==n.diffScore);t(e,4,0,i)}),(function(t,e){t(e,6,0,e.component.diffScore)}))}function pT(t){return xs(0,[(t()(),ss(0,0,null,null,7,"span",[],null,null,null,null,null)),vi(512,null,ju,Bu,[Dn,Pn,pn,bn]),gi(2,278528,null,0,Hu,[ju],{ngClass:[0,"ngClass"]},null),bs(3,{greenDiff:0,redDiff:1,greyDiff:2}),gi(4,933888,null,0,sE,[pn,j_,z_,ju,[6,Hu]],{ngClass:[0,"ngClass"]},null),bs(5,{greenDiff:0,redDiff:1,greyDiff:2}),(t()(),ws(6,null,[" "," "])),vs(7,1)],(function(t,e){var n=e.component,r=t(e,3,0,n.diffTime>0,n.diffTime<0,0==n.diffScore);t(e,2,0,r);var i=t(e,5,0,n.diffTime>0,n.diffTime<0,0==n.diffScore);t(e,4,0,i)}),(function(t,e){var n=e.component,r=nr(e,6,0,t(e,7,0,ri(e.parent.parent,0),n.diffTime));t(e,6,0,r)}))}function mT(t){return xs(0,[(t()(),ss(0,0,null,null,20,"div",[],null,null,null,null,null)),(t()(),ss(1,0,null,null,6,"div",[["class","item-record"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,1,"label",[["for","score"]],null,null,null,null,null)),(t()(),ws(-1,null,["Tu puntuacion ha sido:"])),(t()(),ss(4,0,null,null,1,"span",[["class","big-number"]],null,null,null,null,null)),(t()(),ws(5,null,["",""])),(t()(),os(16777216,null,null,1,null,fT)),gi(7,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(8,0,null,null,7,"div",[["class","item-record"]],null,null,null,null,null)),(t()(),ss(9,0,null,null,1,"label",[["for","time"]],null,null,null,null,null)),(t()(),ws(-1,null,["Tiempo utilizado:"])),(t()(),ss(11,0,null,null,2,"span",[["class","big-number"]],null,null,null,null,null)),(t()(),ws(12,null,["",""])),vs(13,1),(t()(),os(16777216,null,null,1,null,pT)),gi(15,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(16,0,null,null,4,"div",[["class","item-record"]],null,null,null,null,null)),(t()(),ss(17,0,null,null,1,"label",[["for","level"]],null,null,null,null,null)),(t()(),ws(-1,null,["Maximo nivel alcanzado:"])),(t()(),ss(19,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(20,null,["",""]))],(function(t,e){var n=e.component;t(e,7,0,null!==n.diffScore&&0!==n.diffScore),t(e,15,0,null!==n.diffTime&&0!==n.diffTime)}),(function(t,e){var n=e.component;t(e,5,0,n.lastRecord.score);var r=nr(e,12,0,t(e,13,0,ri(e.parent,0),n.lastRecord.total_time));t(e,12,0,r),t(e,20,0,n.lastRecord.level)}))}function gT(t){return xs(0,[yi(0,BI,[]),(t()(),ss(1,0,null,null,14,"div",[["fxLayout","column"],["fxLayoutAlign","center center"]],null,null,null,null,null)),gi(2,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),gi(3,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),ss(4,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),ss(5,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ws(-1,null,["GAME OVER"])),(t()(),os(16777216,null,null,1,null,mT)),gi(8,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(9,0,null,null,6,"div",[["class","btns-layout"]],null,null,null,null,null)),(t()(),ss(10,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(t()(),ss(11,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["\xbfOtra partida? "])),(t()(),ss(13,0,null,null,2,"a",[["class","redirect"],["routerLink","/play"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),gi(14,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["Click aqu\xed"]))],(function(t,e){var n=e.component;t(e,2,0,"column"),t(e,3,0,"center center"),t(e,8,0,null!==n.lastRecord),t(e,14,0,"/play")}),(function(t,e){t(e,13,0,ri(e,14).target,ri(e,14).href)}))}function yT(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-game-over",[],null,null,null,gT,dT)),gi(1,245760,null,0,hT,[XS,Nb],null,null)],(function(t,e){t(e,1,0)}),null)}var vT=Wr("app-game-over",hT,yT,{},{},[]);class bT{constructor(){}ngOnInit(){}}var _T=or({encapsulation:0,styles:[[""]],data:{}});function wT(t){return xs(0,[(t()(),ss(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["contact works!"]))],null,null)}function ET(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-contact",[],null,null,null,wT,_T)),gi(1,114688,null,0,bT,[],null,null)],(function(t,e){t(e,1,0)}),null)}var ST=Wr("app-contact",bT,ET,{},{},[]);class xT{}const CT=hf(xT);class IT{}const kT=hf(IT);class TT extends CT{constructor(){super(...arguments),this._stateChanges=new k}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}class AT extends CT{constructor(t){super(),this._elementRef=t,this._stateChanges=new k,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}class NT extends kT{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new k,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(il(this._destroyed)).subscribe(()=>{e.markForCheck()})}ngAfterContentInit(){var t,e;e=this._element,(t=this._lines).changes.pipe(Ul(t)).subscribe(({length:t})=>{mf(e,"mat-2-line",!1),mf(e,"mat-3-line",!1),mf(e,"mat-multi-line",!1),2===t||3===t?mf(e,`mat-${t}-line`,!0):t>3&&mf(e,"mat-multi-line",!0)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}class RT{}class OT{}var DT=or({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function PT(t){return xs(2,[gs(null,0)],null,null)}var LT=or({encapsulation:2,styles:[],data:{}});function MT(t){return xs(2,[(t()(),ss(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),gi(2,212992,null,0,xf,[pn,vo,cc,[2,Sf],[2,Sg]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),gs(null,0),(t()(),ss(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),gs(null,1),gs(null,2)],(function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){t(e,1,0,ri(e,2).unbounded)}))}function FT(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const UT=new kt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}});class VT extends Ec{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}class jT{constructor(t,e,n,r,i,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=r,this._ngZone=i,this._doc=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new k,this._animationEnd=new k,this._animationState="void",this.openedChange=new Bi(!0),this._destroyed=new k,this.onPositionChanged=new Bi,this._modeChanged=new k,this._opened=!1,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{pl(this._elementRef.nativeElement,"keydown").pipe(Dl(t=>t.keyCode===Ic&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)),il(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(function(t,e){return e=>e.lift(new Cl(t,void 0))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=al(t)}get autoFocus(){return this._autoFocus}set autoFocus(t){this._autoFocus=al(t)}get _openedStream(){return this.openedChange.pipe(Dl(t=>t),q(()=>{}))}get openedStart(){return this._animationStarted.pipe(Dl(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),q(()=>{}))}get _closedStream(){return this.openedChange.pipe(Dl(t=>!t),q(()=>{}))}get closedStart(){return this._animationStarted.pipe(Dl(t=>t.fromState!==t.toState&&"void"===t.toState),q(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}get opened(){return this._opened}set opened(t){this.toggle(al(t))}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(el(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}class BT{constructor(t,e,n,r,i,o=!1,s){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=s,this.backdropClick=new Bi,this._destroyed=new k,this._doCheckSubject=new k,this._contentMargins={left:null,right:null},this._contentMarginChanges=new k,t&&t.change.pipe(il(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(il(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=al(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:al(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._drawers.changes.pipe(Ul(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(ih(10),il(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}e=e||null,(t=t||null)===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Dl(t=>t.fromState!==t.toState),il(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(il(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(il(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(el(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(il(Z(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&FT("end"),this._end=t):(null!=this._start&&FT("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}class qT extends VT{constructor(t,e,n,r,i){super(t,e,n,r,i)}}class HT extends jT{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=al(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ll(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ll(t)}}class zT extends BT{}class GT{}var WT=or({encapsulation:2,styles:[],data:{}});function $T(t){return xs(2,[gs(null,0)],null,null)}var KT=or({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function QT(t){return xs(2,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),gs(null,0)],null,null)}var YT=or({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function XT(t){return xs(0,[(t()(),ss(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._onBackdropClicked()&&r),r}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function ZT(t){return xs(0,[(t()(),ss(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,$T,WT)),gi(1,212992,null,0,Ec,[pn,wc,vo,[2,Bh]],null,null),gi(2,1294336,null,0,qT,[Pe,zT,pn,wc,vo],null,null),gs(0,2)],(function(t,e){t(e,1,0),t(e,2,0)}),(function(t,e){t(e,0,0,ri(e,2)._container._contentMargins.left,ri(e,2)._container._contentMargins.right)}))}function JT(t){return xs(2,[hs(671088640,1,{_userContent:0}),(t()(),os(16777216,null,null,1,null,XT)),gi(2,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),gs(null,0),gs(null,1),(t()(),os(16777216,null,null,1,null,ZT)),gi(6,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}class tA{constructor(t){this._elementRef=t}}const eA=cf(tA);class nA{}class rA extends eA{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){oe()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class iA{}var oA=or({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function sA(t){return xs(2,[gs(null,0),gs(null,1)],null,null)}var aA=or({encapsulation:0,styles:[[".footer[_ngcontent-%COMP%]{background-color:#9c27b0;min-height:45px}.all-wrap[_ngcontent-%COMP%]{min-height:100vh}.page-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content[_ngcontent-%COMP%]{flex:1}main[_ngcontent-%COMP%]{display:flex;flex-direction:column}main[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(router-outlet){flex:1;display:block}mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-toolbar-row[_ngcontent-%COMP%], mat-toolbar-single-row[_ngcontent-%COMP%]{padding:0 6px}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:hover{color:#d3d3d3}.navigation-items[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;cursor:pointer}.logo[_ngcontent-%COMP%]{flex-grow:1}.logo[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%]{display:inline-block;text-align:left;margin:.4em 0 .2em;color:#fff;letter-spacing:4px;font-variant:small-caps;white-space:normal}.logo[_ngcontent-%COMP%]   .main-img[_ngcontent-%COMP%]{height:40px;margin-right:10px;display:flex;align-self:center}.menu[_ngcontent-%COMP%]{align-content:flex-end}.icon-sidenav[_ngcontent-%COMP%]{display:inline-block;height:25px;margin:0 auto;padding-right:5px;text-align:center;vertical-align:middle;width:15%}.footer-items[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;text-align:center}.footer-cert[_ngcontent-%COMP%]{vertical-align:middle;width:100px;padding:1em}.admin[_ngcontent-%COMP%]{vertical-align:bottom;color:#fff}.copyrigth[_ngcontent-%COMP%]{text-align:right;padding-right:1em;color:#fff}"]],data:{}});function lA(t){return xs(0,[(t()(),ss(0,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),ss(1,0,null,null,10,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==ri(t.parent,5).toggle()&&r),r}),MT,LT)),gi(2,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,6,{_lines:1}),hs(603979776,7,{_avatar:0}),hs(603979776,8,{_icon:0}),gi(6,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(7,0,null,2,2,"mat-icon",[["class","icon-sidenav mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(8,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["person_pin"])),(t()(),ss(10,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Mi cuenta"]))],(function(t,e){t(e,6,0,"/account"),t(e,8,0)}),(function(t,e){t(e,1,0,ri(e,2)._avatar||ri(e,2)._icon,ri(e,2)._avatar||ri(e,2)._icon,ri(e,6).target,ri(e,6).href),t(e,7,0,ri(e,8).inline,"primary"!==ri(e,8).color&&"accent"!==ri(e,8).color&&"warn"!==ri(e,8).color)}))}function uA(t){return xs(0,[(t()(),ss(0,0,null,null,10,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==ri(t.parent,5).toggle()&&r),r}),MT,LT)),gi(1,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,9,{_lines:1}),hs(603979776,10,{_avatar:0}),hs(603979776,11,{_icon:0}),gi(5,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(6,0,null,2,2,"mat-icon",[["class","icon-sidenav mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(7,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["person_pin"])),(t()(),ss(9,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Login"]))],(function(t,e){t(e,5,0,"/login"),t(e,7,0)}),(function(t,e){t(e,0,0,ri(e,1)._avatar||ri(e,1)._icon,ri(e,1)._avatar||ri(e,1)._icon,ri(e,5).target,ri(e,5).href),t(e,6,0,ri(e,7).inline,"primary"!==ri(e,7).color&&"accent"!==ri(e,7).color&&"warn"!==ri(e,7).color)}))}function cA(t){return xs(0,[(t()(),ss(0,0,null,null,10,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==ri(t.parent,5).toggle()&&r),r}),MT,LT)),gi(1,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,12,{_lines:1}),hs(603979776,13,{_avatar:0}),hs(603979776,14,{_icon:0}),gi(5,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(6,0,null,2,2,"mat-icon",[["class","icon-sidenav mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(7,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["play_arrow"])),(t()(),ss(9,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Jugar"]))],(function(t,e){t(e,5,0,"/play"),t(e,7,0)}),(function(t,e){t(e,0,0,ri(e,1)._avatar||ri(e,1)._icon,ri(e,1)._avatar||ri(e,1)._icon,ri(e,5).target,ri(e,5).href),t(e,6,0,ri(e,7).inline,"primary"!==ri(e,7).color&&"accent"!==ri(e,7).color&&"warn"!==ri(e,7).color)}))}function hA(t){return xs(0,[(t()(),ss(0,0,null,null,10,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==ri(t.parent,5).toggle()&&r),r}),MT,LT)),gi(1,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,15,{_lines:1}),hs(603979776,16,{_avatar:0}),hs(603979776,17,{_icon:0}),gi(5,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(6,0,null,2,2,"mat-icon",[["class","icon-sidenav mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(7,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["score"])),(t()(),ss(9,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Puntuaciones"]))],(function(t,e){t(e,5,0,"/scoreboard"),t(e,7,0)}),(function(t,e){t(e,0,0,ri(e,1)._avatar||ri(e,1)._icon,ri(e,1)._avatar||ri(e,1)._icon,ri(e,5).target,ri(e,5).href),t(e,6,0,ri(e,7).inline,"primary"!==ri(e,7).color&&"accent"!==ri(e,7).color&&"warn"!==ri(e,7).color)}))}function dA(t){return xs(0,[(t()(),ss(0,0,null,null,6,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout&&r),r}),MT,LT)),gi(1,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,18,{_lines:1}),hs(603979776,19,{_avatar:0}),hs(603979776,20,{_icon:0}),(t()(),ss(5,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Desconectarse"]))],null,(function(t,e){t(e,0,0,ri(e,1)._avatar||ri(e,1)._icon,ri(e,1)._avatar||ri(e,1)._icon)}))}function fA(t){return xs(0,[(t()(),ss(0,0,null,null,7,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,1)._haltDisabledEvents(n)&&r),"click"===e&&(r=!1!==ri(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),Tg,kg)),gi(1,180224,null,0,Df,[vh,pn,[2,Sg]],null,null),gi(2,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(3,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(4,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["person_pin"])),(t()(),ss(6,0,null,0,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Mi cuenta"]))],(function(t,e){t(e,2,0,"/account"),t(e,4,0)}),(function(t,e){t(e,0,0,ri(e,1).disabled?-1:ri(e,1).tabIndex||0,ri(e,1).disabled||null,ri(e,1).disabled.toString(),"NoopAnimations"===ri(e,1)._animationMode,ri(e,2).target,ri(e,2).href),t(e,3,0,ri(e,4).inline,"primary"!==ri(e,4).color&&"accent"!==ri(e,4).color&&"warn"!==ri(e,4).color)}))}function pA(t){return xs(0,[(t()(),ss(0,0,null,null,7,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,1)._haltDisabledEvents(n)&&r),"click"===e&&(r=!1!==ri(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),Tg,kg)),gi(1,180224,null,0,Df,[vh,pn,[2,Sg]],null,null),gi(2,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(3,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(4,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["person_pin"])),(t()(),ss(6,0,null,0,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Login"]))],(function(t,e){t(e,2,0,"/login"),t(e,4,0)}),(function(t,e){t(e,0,0,ri(e,1).disabled?-1:ri(e,1).tabIndex||0,ri(e,1).disabled||null,ri(e,1).disabled.toString(),"NoopAnimations"===ri(e,1)._animationMode,ri(e,2).target,ri(e,2).href),t(e,3,0,ri(e,4).inline,"primary"!==ri(e,4).color&&"accent"!==ri(e,4).color&&"warn"!==ri(e,4).color)}))}function mA(t){return xs(0,[(t()(),ss(0,0,null,null,7,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,1)._haltDisabledEvents(n)&&r),"click"===e&&(r=!1!==ri(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),Tg,kg)),gi(1,180224,null,0,Df,[vh,pn,[2,Sg]],null,null),gi(2,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(3,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(4,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["play_arrow"])),(t()(),ss(6,0,null,0,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Jugar"]))],(function(t,e){t(e,2,0,"/play"),t(e,4,0)}),(function(t,e){t(e,0,0,ri(e,1).disabled?-1:ri(e,1).tabIndex||0,ri(e,1).disabled||null,ri(e,1).disabled.toString(),"NoopAnimations"===ri(e,1)._animationMode,ri(e,2).target,ri(e,2).href),t(e,3,0,ri(e,4).inline,"primary"!==ri(e,4).color&&"accent"!==ri(e,4).color&&"warn"!==ri(e,4).color)}))}function gA(t){return xs(0,[(t()(),ss(0,0,null,null,7,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,1)._haltDisabledEvents(n)&&r),"click"===e&&(r=!1!==ri(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),Tg,kg)),gi(1,180224,null,0,Df,[vh,pn,[2,Sg]],null,null),gi(2,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(3,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(4,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["score"])),(t()(),ss(6,0,null,0,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Puntuaciones"]))],(function(t,e){t(e,2,0,"/scoreboard"),t(e,4,0)}),(function(t,e){t(e,0,0,ri(e,1).disabled?-1:ri(e,1).tabIndex||0,ri(e,1).disabled||null,ri(e,1).disabled.toString(),"NoopAnimations"===ri(e,1)._animationMode,ri(e,2).target,ri(e,2).href),t(e,3,0,ri(e,4).inline,"primary"!==ri(e,4).color&&"accent"!==ri(e,4).color&&"warn"!==ri(e,4).color)}))}function yA(t){return xs(0,[(t()(),ss(0,0,null,null,3,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==ri(t,1)._haltDisabledEvents(n)&&r),"click"===e&&(r=!1!==i.logout()&&r),r}),Tg,kg)),gi(1,180224,null,0,Df,[vh,pn,[2,Sg]],null,null),(t()(),ss(2,0,null,0,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Desconectarse"]))],null,(function(t,e){t(e,0,0,ri(e,1).disabled?-1:ri(e,1).tabIndex||0,ri(e,1).disabled||null,ri(e,1).disabled.toString(),"NoopAnimations"===ri(e,1)._animationMode)}))}function vA(t){return xs(0,[(t()(),ss(0,0,null,null,89,"mat-sidenav-container",[["class","all-wrap mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,JT,YT)),gi(1,1490944,null,2,zT,[[2,Bh],pn,vo,Pe,Cc,UT,[2,Sg]],null,null),hs(603979776,1,{_drawers:1}),hs(603979776,2,{_content:0}),(t()(),ss(4,0,null,0,33,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["position","end"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var r=!0;return"component:@transform.start"===e&&(r=!1!==ri(t,5)._animationStartListener(n)&&r),"component:@transform.done"===e&&(r=!1!==ri(t,5)._animationDoneListener(n)&&r),r}),QT,KT)),gi(5,3325952,[[1,4],["sidenav",4]],0,HT,[pn,dh,vh,cc,vo,[2,ec]],{position:[0,"position"]},null),(t()(),ss(6,0,null,0,31,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,PT,DT)),gi(7,704512,null,0,TT,[],null,null),(t()(),ss(8,0,null,0,10,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==ri(t,5).toggle()&&r),r}),MT,LT)),gi(9,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,3,{_lines:1}),hs(603979776,4,{_avatar:0}),hs(603979776,5,{_icon:0}),gi(13,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(14,0,null,2,2,"mat-icon",[["class","icon-sidenav mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(15,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["home"])),(t()(),ss(17,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Accueil"])),(t()(),os(16777216,null,0,1,null,lA)),gi(20,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),os(0,[["noLoggedIn",2]],0,0,null,uA)),(t()(),os(16777216,null,0,1,null,cA)),gi(23,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,0,1,null,hA)),gi(25,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,0,1,null,dA)),gi(27,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(28,0,null,0,9,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,5).toggle()&&r),r}),MT,LT)),gi(29,1228800,null,3,NT,[pn,Pe,[2,TT],[2,AT]],null,null),hs(603979776,21,{_lines:1}),hs(603979776,22,{_avatar:0}),hs(603979776,23,{_icon:0}),(t()(),ss(33,0,null,2,2,"mat-icon",[["class","icon-sidenav mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(34,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["close"])),(t()(),ss(36,0,null,2,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Fermer"])),(t()(),ss(38,0,null,1,51,"mat-sidenav-content",[["class","page-wrap mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,$T,WT)),gi(39,1294336,[[2,4]],0,qT,[Pe,zT,pn,wc,vo],null,null),(t()(),ss(40,0,null,0,40,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,sA,oA)),gi(41,4243456,null,1,rA,[pn,cc,ec],{color:[0,"color"]},null),hs(603979776,24,{_toolbarRows:1}),(t()(),ss(43,0,null,1,37,"mat-toolbar-row",[["class","mat-toolbar-row"],["fxLayoutAlign","space-between"],["fxLayoutGap","20px"]],null,null,null,null,null)),gi(44,16384,[[24,4]],0,nA,[],null,null),gi(45,1720320,null,0,sw,[pn,vo,Bh,j_,[2,rw],z_],{fxLayoutGap:[0,"fxLayoutGap"]},null),gi(46,671744,null,0,Nw,[pn,j_,[2,kw],z_],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),ss(47,0,null,null,5,"div",[["class","logo"],["fxFlexAlign","center"],["fxLayout","row"]],null,null,null,null,null)),gi(48,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),gi(49,671744,null,0,Iw,[pn,j_,[2,Ew],z_],{fxFlexAlign:[0,"fxFlexAlign"]},null),(t()(),ss(50,0,null,null,0,"img",[["alt",""],["class","main-img"],["src","/assets/img/logo1.png"]],null,null,null,null,null)),(t()(),ss(51,0,null,null,1,"h1",[["class","main-text"]],null,null,null,null,null)),(t()(),ws(-1,null,["Kanji Rumble"])),(t()(),ss(53,0,null,null,19,"div",[["class","menu"],["fxFlexAlign","center"],["fxHide.lt-md","true"],["fxShow","true"]],null,null,null,null,null)),gi(54,671744,null,0,Iw,[pn,j_,[2,Ew],z_],{fxFlexAlign:[0,"fxFlexAlign"]},null),gi(55,4866048,null,0,hE,[pn,aE,j_,z_,d_,Yi,[2,f_]],{fxShow:[0,"fxShow"],"fxHide.lt-md":[1,"fxHide.lt-md"]},null),(t()(),ss(56,0,null,null,7,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,57)._haltDisabledEvents(n)&&r),"click"===e&&(r=!1!==ri(t,58).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),Tg,kg)),gi(57,180224,null,0,Df,[vh,pn,[2,Sg]],null,null),gi(58,671744,null,0,Ob,[Nb,bv,tu],{routerLink:[0,"routerLink"]},null),(t()(),ss(59,0,null,0,2,"mat-icon",[["class","icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,mS,pS)),gi(60,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["home"])),(t()(),ss(62,0,null,0,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),ws(-1,null,["Accueil"])),(t()(),os(16777216,null,null,1,null,fA)),gi(65,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),os(0,[["noLoggedIn",2]],null,0,null,pA)),(t()(),os(16777216,null,null,1,null,mA)),gi(68,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,gA)),gi(70,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,yA)),gi(72,16384,null,0,$u,[jn,Un],{ngIf:[0,"ngIf"]},null),(t()(),ss(73,0,null,null,7,"div",[["fxFlexAlign","center"],["fxHide.gt-sm","true"]],null,null,null,null,null)),gi(74,671744,null,0,Iw,[pn,j_,[2,Ew],z_],{fxFlexAlign:[0,"fxFlexAlign"]},null),gi(75,4866048,null,0,hE,[pn,aE,j_,z_,d_,Yi,[2,f_]],{"fxHide.gt-sm":[0,"fxHide.gt-sm"]},null),(t()(),ss(76,0,null,null,4,"button",[["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ig,Cg)),gi(77,180224,null,0,Of,[pn,vh,[2,Sg]],null,null),(t()(),ss(78,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==ri(t,5).toggle()&&r),r}),mS,pS)),gi(79,9158656,null,0,dS,[pn,rS,[8,null],[2,lS],[2,ne]],null,null),(t()(),ws(-1,0,["menu"])),(t()(),ss(81,0,null,0,2,"main",[["class","content main-content"]],null,null,null,null,null)),(t()(),ss(82,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),gi(83,212992,null,0,Mb,[Lb,jn,cn,[8,null],Pe],null,null),(t()(),ss(84,0,null,0,5,"footer",[["class","footer"]],null,null,null,null,null)),(t()(),ss(85,0,null,null,4,"div",[["class","footer-items"],["fxLayout","row"]],null,null,null,null,null)),gi(86,671744,null,0,tw,[pn,j_,[2,X_],z_],{fxLayout:[0,"fxLayout"]},null),(t()(),ss(87,0,null,null,2,"div",[["class","copyrigth"],["fxFlex",""]],null,null,null,null,null)),gi(88,671744,null,0,yw,[pn,j_,d_,pw,z_],{fxFlex:[0,"fxFlex"]},null),(t()(),ws(-1,null,["\xa92020 JT & JM Corp"]))],(function(t,e){var n=e.component;t(e,1,0),t(e,5,0,"end"),t(e,13,0,"/"),t(e,15,0),t(e,20,0,n.isLoggedIn(),ri(e,66)),t(e,23,0,n.isLoggedIn()),t(e,25,0,n.isLoggedIn()),t(e,27,0,n.isLoggedIn()),t(e,34,0),t(e,39,0),t(e,41,0,"primary"),t(e,45,0,"20px"),t(e,46,0,"space-between"),t(e,48,0,"row"),t(e,49,0,"center"),t(e,54,0,"center"),t(e,55,0,"true","true"),t(e,58,0,"/"),t(e,60,0),t(e,65,0,n.isLoggedIn(),ri(e,66)),t(e,68,0,n.isLoggedIn()),t(e,70,0,n.isLoggedIn()),t(e,72,0,n.isLoggedIn()),t(e,74,0,"center"),t(e,75,0,"true"),t(e,79,0),t(e,83,0),t(e,86,0,"row"),t(e,88,0,"")}),(function(t,e){t(e,0,0,ri(e,1)._backdropOverride),t(e,4,0,null,"end"===ri(e,5).position,"over"===ri(e,5).mode,"push"===ri(e,5).mode,"side"===ri(e,5).mode,ri(e,5).opened,ri(e,5).fixedInViewport,ri(e,5).fixedInViewport?ri(e,5).fixedTopGap:null,ri(e,5).fixedInViewport?ri(e,5).fixedBottomGap:null,ri(e,5)._animationState),t(e,8,0,ri(e,9)._avatar||ri(e,9)._icon,ri(e,9)._avatar||ri(e,9)._icon,ri(e,13).target,ri(e,13).href),t(e,14,0,ri(e,15).inline,"primary"!==ri(e,15).color&&"accent"!==ri(e,15).color&&"warn"!==ri(e,15).color),t(e,28,0,ri(e,29)._avatar||ri(e,29)._icon,ri(e,29)._avatar||ri(e,29)._icon),t(e,33,0,ri(e,34).inline,"primary"!==ri(e,34).color&&"accent"!==ri(e,34).color&&"warn"!==ri(e,34).color),t(e,38,0,ri(e,39)._container._contentMargins.left,ri(e,39)._container._contentMargins.right),t(e,40,0,ri(e,41)._toolbarRows.length>0,0===ri(e,41)._toolbarRows.length),t(e,56,0,ri(e,57).disabled?-1:ri(e,57).tabIndex||0,ri(e,57).disabled||null,ri(e,57).disabled.toString(),"NoopAnimations"===ri(e,57)._animationMode,ri(e,58).target,ri(e,58).href),t(e,59,0,ri(e,60).inline,"primary"!==ri(e,60).color&&"accent"!==ri(e,60).color&&"warn"!==ri(e,60).color),t(e,76,0,ri(e,77).disabled||null,"NoopAnimations"===ri(e,77)._animationMode),t(e,78,0,ri(e,79).inline,"primary"!==ri(e,79).color&&"accent"!==ri(e,79).color&&"warn"!==ri(e,79).color)}))}function bA(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-root",[],null,null,null,vA,aA)),gi(1,245760,null,0,Oa,[XC,Nb],null,null)],(function(t,e){t(e,1,0)}),null)}var _A,wA=Wr("app-root",Oa,bA,{},{},[]);n("6Joi");let EA=_A=class{static enablePersistence(t){return{ngModule:_A,providers:[{provide:zS,useValue:!0},{provide:GS,useValue:t}]}}};var SA=n("wj3C"),xA=n.n(SA);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,l=null;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==c(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t,e,n){this.code=I+t,this.message=e||k[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new S(e.substring(I.length),t.message,t.serverResponse):null}E(S,Error),S.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.v()};var C,I="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},T={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in T)if(T[e].id===t)return{firebaseEndpoint:(t=T[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function D(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}C=A("__EID__")?"__EID__":void 0,E(R,Error),R.prototype.name="CustomError",E(O,R),O.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new P((function(){return new V}),(function(t){t.reset()}));function U(){var t=pe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=j(t,e)}function W(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function K(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,J=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var lt=at.userAgent;if(lt){Y=lt;break t}}Y=""}function ut(t){return ot(Y,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(f(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===bt&&e||"",this.b=vt}function yt(t){return t instanceof gt&&t.constructor===gt&&t.b===vt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ra=!0,gt.prototype.qa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt={},bt={},_t=new gt(bt,"");function wt(t,e){this.a=t===kt&&e||"",this.b=It}function Et(t){return t instanceof wt&&t.constructor===wt&&t.b===It?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+c(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=yt(t);if(!Ct.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?yt(t):encodeURIComponent(String(t))})),new wt(kt,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},kt={};function Tt(t,e){this.a=t===Dt&&e||"",this.b=Ot}function At(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Ot?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+c(t)),"type_error:SafeUrl")}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){return t instanceof Tt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Tt(Dt,t))}var Ot={},Dt={};function Pt(){this.a="",this.b=Mt}function Lt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Mt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+c(t)),"type_error:SafeHtml")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Ft(t){var e=new Pt;return e.a=t,e}Ft("<!DOCTYPE html>");var Ut=Ft("");function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Ft("<br>"),Bt[" "]=u;var qt,Ht,zt=ut("Opera"),Gt=ut("Trident")||ut("MSIE"),Wt=ut("Edge"),$t=Wt||Gt,Kt=ut("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Qt=ot(Y.toLowerCase(),"webkit")&&!ut("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Xt="",Zt=(Ht=Y,Kt?/rv:([^\);]+)(\)|;)/.exec(Ht):Wt?/Edge\/([\d\.]+)/.exec(Ht):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Qt?/WebKit\/(\S+)/.exec(Ht):zt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Zt&&(Xt=Zt?Zt[1]:""),Gt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Xt)){qt=String(Jt);break t}}qt=Xt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=X(String(qt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}te=s.document&&Gt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var re=!Gt||9<=Number(te);function ie(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var se,ae,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ce(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function he(t){s.setTimeout((function(){throw t}),0)}function de(t,e){ae||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ae=function(){t.then(me)}}else ae=function(){var t=me;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ut("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(se||(se=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ue(document,"IFRAME");t.style.display="none",function(t){var e=new wt(kt,yt(_t));mt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),se(t)):s.setImmediate(t)}}(),fe||(ae(),fe=!0),pe.add(t,e)}var fe=!1,pe=new M;function me(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){he(e)}L(F,t)}fe=!1}function ge(t,e){if(this.a=ye,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,(function(t){Ae(n,ve,t)}),(function(t){if(!(t instanceof Me))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ae(n,be,t)}))}catch(r){Ae(this,be,r)}}var ye=0,ve=2,be=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var we=new P((function(){return new _e}),(function(t){t.reset()}));function Ee(t,e,n){var r=we.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof ge)return t;var e=new ge(u);return Ae(e,ve,t),e}function xe(t){return new ge((function(e,n){n(t)}))}function Ce(t,e,n){Ne(t,e,n,null)||de(_(e,t))}function Ie(t){return new ge((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function ke(t,e){t.b||t.a!=ve&&t.a!=be||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Te(t,e,n,r){var i=Ee(null,null,null);return i.a=new ge((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Me?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,ke(t,i),i.a}function Ae(t,e,n){t.a==ye&&(t===n&&(e=be,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=be||n instanceof Me||function(t,e){t.g=!0,de((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Ne(t,e,n,r){if(t instanceof ge)return ke(t,Ee(e||u,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(f(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,de(t.ec,t))}function Oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function De(t,e,n,r){if(n==be&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Pe(e,n,r);else try{e.c?e.g.call(e.f):Pe(e,n,r)}catch(i){Le.call(null,i)}L(we,e)}function Pe(t,e,n){e==ve?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ge.prototype.then=function(t,e,n){return Te(this,d(t)?t:null,d(e)?e:null,n)},ge.prototype.$goog_Thenable=!0,(t=ge.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,ke(this,t),this},t.o=function(t,e){return Te(this,null,t,e)},t.cancel=function(t){if(this.a==ye){var e=new Me(t);de((function(){!function t(e,n){if(e.a==ye)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ye&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Oe(r),De(r,o,be,n)))}e.c=null}else Ae(e,be,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ye,Ae(this,ve,t)},t.Zc=function(t){this.a=ye,Ae(this,be,t)},t.ec=function(){for(var t;t=Oe(this);)De(this,t,this.a,this.i);this.h=!1};var Le=he;function Me(t){R.call(this,t)}function Fe(){0!=Ue&&(Ve[p(this)]=this),this.wa=this.wa,this.na=this.na}E(Me,R),Me.prototype.name="cancel";var Ue=0,Ve={};function je(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ue)){var e=p(t);if(0!=Ue&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}Fe.prototype.wa=!1,Fe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Be=Object.freeze||function(t){return t},qe=!Gt||9<=Number(te),He=Gt&&!ne("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",u,e),s.removeEventListener("test",u,e)}catch(n){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Kt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},E(We,Ge);var $e=Be({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},We.prototype.f=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Qe,this.ua=this.Na=!1}function Xe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function Je(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Xe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function tn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=tn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Ye(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var en="closure_lm_"+(1e6*Math.random()|0),nn={};function rn(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,r,i);else n=mn(n),t&&t[Ke]?yn(t,e,n,f(r)?!!r.capture:!!r,i):on(t,e,n,!1,r,i)}function on(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i,a=fn(t);if(a||(t[en]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(un(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[Ke]?vn(t,e,n,f(r)?!!r.capture:!!r,i):on(t,e,n,!0,r,i)}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=mn(n),t&&t[Ke]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=tn(o=t.a[e],n,r,i))&&(Xe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ke])Je(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(un(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fn(e))?(Je(n,t),0==n.b&&(n.src=null,e[en]=null)):Xe(t)}}}function un(t){return t in nn?nn[t]:nn[t]="on"+t}function cn(t,e,n,r){var i=!0;if((t=fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=hn(o,r),i=i&&!1!==o)}return i}function hn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&ln(t),n.call(r,e)}function dn(t,e){if(t.ua)return!0;if(!qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new We(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=cn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=cn(r[i],t,!1,e),n=n&&o}return n}return hn(t,new We(e,this))}function fn(t){return(t=t[en])instanceof Ze?t:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return d(t)?t:(t[pn]||(t[pn]=function(e){return t.handleEvent(e)}),t[pn])}function gn(){Fe.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function yn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function vn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,l=s.Ta||s.src;s.Na&&Je(t.u,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function wn(t){var e=null;return new ge((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];In(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)In(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(gn,Fe),gn.prototype[Ke]=!0,gn.prototype.addEventListener=function(t,e,n,r){rn(this,t,e,n,r)},gn.prototype.removeEventListener=function(t,e,n,r){an(this,t,e,n,r)},gn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;pt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=bn(s,r,!0,t)&&i}if(i=bn(s=t.b=n,r,!0,t)&&i,i=bn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(s=t.b=e[o],r,!1,t)&&i;return i},gn.prototype.Ba=function(){if(gn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xe(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=xn.prototype).V=function(){Cn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Cn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return In(this.b,t)?this.b[t]:e},t.set=function(t,e){In(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Tn?(this.h=void 0!==e?e:t.h,An(this,t.f),this.i=t.i,this.b=t.b,Nn(this,t.l),this.c=t.c,Rn(this,Yn(t.a)),this.g=t.g):t&&(n=String(t).match(kn))?(this.h=!!e,An(this,n[1]||"",!0),this.i=Mn(n[2]||""),this.b=Mn(n[3]||"",!0),Nn(this,n[4]),this.c=Mn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.g=Mn(n[7]||"")):(this.h=!!e,this.a=new zn(null,this.h))}function An(t,e,n){t.f=n?Mn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Rn(t,e,n){e instanceof zn?(t.a=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Qn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Fn(e,qn)),t.a=new zn(e,t.h))}function On(t,e,n){t.a.set(e,n)}function Dn(t,e){return t.a.get(e)}function Pn(t){return t instanceof Tn?new Tn(t):new Tn(t,void 0)}function Ln(t,e){var n=new Tn(null,void 0);return An(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Tn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fn(e,Vn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Fn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?Bn:jn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Fn(n,Hn)),t.join("")},Tn.prototype.resolve=function(t){var e=new Tn(this),n=!!t.f;n?An(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Nn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Rn(e,Yn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Vn=/[#\/\?@]/g,jn=/[#\?:]/g,Bn=/[#\?]/g,qn=/[#\?@]/g,Hn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function $n(t,e){Gn(t),e=Xn(t,e),In(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,In((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cn(t)))}function Kn(t,e){return Gn(t),e=Xn(t,e),In(t.a.b,e)}function Qn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(Xn(t,e),Q(n)),t.b+=n.length)}function Yn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function Xn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),nr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":nr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Jn,t,e),e.join("")}function Jn(){}(t=zn.prototype).add=function(t,e){Gn(this),this.c=null,t=Xn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Gn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Gn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=K(e,this.a.get(Xn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,Kn(this,t=Xn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var tr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},er=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nr(t,e){e.push('"',t.replace(er,(function(t){var e=tr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),tr[t]=e),e})),'"')}function rr(){var t=Er();return Gt&&!!te&&11==te||/Edge\/\d+/.test(t)}function ir(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function or(t,e){e=e||s.window;var n="about:blank";t&&(n=At(Rt(t))),e.location.href=n}function sr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ar(t){t=t||s.window;try{t.close()}catch(e){}}function lr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),br(Er())==yr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Tt?n:Rt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=ue(document,"A"),"HTMLAnchorElement"),e instanceof Tt||e instanceof Tt||(e="object"==typeof e&&e.ra?e.qa():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new Tt(Dt,e)),s.href=At(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=At(e),s&&($t&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),r=s.document)&&(r.write(Lt(t)),r.close())):(s=r.open(At(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^[^@]+@[^@]+$/;function hr(){var t=null;return new ge((function(e){"complete"==s.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw an(window,"load",t),e}))}function dr(t){return t=t||Er(),!("file:"!==kr()&&"ionic:"!==kr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function pr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function mr(){return xA.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xA.a.INTERNAL.hasOwnProperty("node")?"Node":pr()?"Worker":"Browser"}function gr(){var t=mr();return"ReactNative"===t||"Node"===t}var yr="Firefox",vr="Chrome";function br(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?yr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":vr:"Safari"}var _r={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=mr())?r=br(i=Er()):"Worker"===r&&(r=br(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return s.navigator&&s.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=s.localStorage,e=Or();if(t)return t.setItem(e,"1"),t.removeItem(e),!rr()||!!s.indexedDB}catch(n){return pr()&&!!s.indexedDB}return!1}function Cr(){return(Ir()||"chrome-extension:"===kr()||dr())&&!gr()&&xr()&&!pr()}function Ir(){return"http:"===kr()||"https:"===kr()}function kr(){return s.location&&s.location.protocol||null}function Tr(t){return!sr(t=t||Er())&&br(t)!=yr}function Ar(t){return void 0===t?null:Zn(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Rr(t){if(null!==t)return JSON.parse(t)}function Or(t){return t||Math.floor(1e9*Math.random()).toString()}function Dr(t){return"Safari"!=br(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Pr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Lr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=mr(),this.b=sr(t)||"ReactNative"===e}function Mr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Sr("fireauth.oauthhelper",s)&&!Sr("fireauth.iframe",s))}Lr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ir()&&"chrome-extension:"!==kr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vr,jr={};function Br(t){jr[t]||(jr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Vr=2==qr.abcd}catch(Ht){Vr=!1}function Hr(t,e,n){Vr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hr(t,n,e[n])}function Gr(t){var e={};return zr(e,t),e}function Wr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hr(e,n,Wr(t[n]));return e}function $r(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[Xr]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Hr(this,"uid",t[Xr]),Hr(this,"displayName",t[Qr]||null);var n=null;t[Yr]&&(n=new Date(t[Yr]).toUTCString()),Hr(this,"enrollmentTime",n),Hr(this,"factorId",e)}function Kr(t){try{var e=new Jr(t)}catch(n){e=null}return e}$r.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qr="displayName",Yr="enrolledAt",Xr="mfaEnrollmentId",Zr="phoneInfo";function Jr(t){$r.call(this,t),Hr(this,"phoneNumber",t[Zr])}function ti(t){var e={},n=t[ii],r=t[si],i=t[ai];if(t=Kr(t[oi]),!i||i!=ni&&i!=ri&&!n||i==ri&&!r||i==ei&&!t)throw Error("Invalid checkActionCode response!");i==ri?(e[ui]=n||null,e[hi]=n||null,e[li]=r):(e[ui]=r||null,e[hi]=r||null,e[li]=n||null),e[ci]=t||null,Hr(this,fi,i),Hr(this,di,Wr(e))}E(Jr,$r),Jr.prototype.v=function(){var t=Jr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ei="REVERT_SECOND_FACTOR_ADDITION",ni="EMAIL_SIGNIN",ri="VERIFY_AND_CHANGE_EMAIL",ii="email",oi="mfaInfo",si="newEmail",ai="requestType",li="email",ui="fromEmail",ci="multiFactorInfo",hi="previousEmail",di="data",fi="operation";function pi(t){var e=Dn(t=Pn(t),mi)||null,n=Dn(t,gi)||null,r=Dn(t,bi)||null;if(r=r&&wi[r]||null,!e||!n||!r)throw new S("argument-error",mi+", "+gi+"and "+bi+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Dn(t,yi)||null,languageCode:Dn(t,vi)||null,tenantId:Dn(t,_i)||null})}var mi="apiKey",gi="oobCode",yi="continueUrl",vi="languageCode",bi="mode",_i="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ni,verifyAndChangeEmail:ri,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new pi(t)}catch(e){return null}}function Si(t){var e=t[Ti];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Ri];var r=n[Ai];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Ai+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[ki])&&"object"==typeof e){if("string"==typeof(e=e[Oi])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Oi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",ki+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new S("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ci+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Ci="dynamicLinkDomain",Ii="handleCodeInApp",ki="iOS",Ti="url",Ai="installApp",Ni="minimumVersion",Ri="packageName",Oi="bundleId";function Di(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Pi=null;function Li(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,w(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Mi(t){try{return new Li(t)}catch(e){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Pi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Pi){Pi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Pi[o]&&(Pi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Li.prototype.S=function(){return this.f},Li.prototype.i=function(){return this.b},Li.prototype.toString=function(){return this.g};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],ji={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Ui},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function Bi(t){for(var e in ji)if(ji[e].ea==t)return ji[e];return null}function qi(t){var e={};e["facebook.com"]=$i,e["google.com"]=Qi,e["github.com"]=Ki,e["twitter.com"]=Yi;var n=t&&t[zi];try{if(n)return e[n]?new e[n](t):new Wi(t);if(void 0!==t[Hi])return new Gi(t)}catch(r){}return null}var Hi="idToken",zi="providerId";function Gi(t){var e=t[zi];if(!e&&t[Hi]){var n=Mi(t[Hi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hr(this,"providerId",e),Hr(this,"isNewUser",n)}function Wi(t){Gi.call(this,t),Hr(this,"profile",Wr((t=Rr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Wi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(t){if(Wi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",this.profile&&this.profile.login||null)}function Qi(t){if(Wi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Wi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",t.screenName||null)}function Xi(t){var e=Pn(t),n=Dn(e,"link"),r=Dn(Pn(n),"link");return e=Dn(e,"deep_link_id"),Dn(Pn(e),"link")||e||r||n||t}function Zi(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Ji:to}E(Wi,Gi),E($i,Wi),E(Ki,Wi),E(Qi,Wi),E(Yi,Wi);var Ji="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[qs]){var n=Mi(t[qs]);if(!n||e!=n.h)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new S("user-mismatch"):t}))}function ro(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Hr(this,"providerId",t),Hr(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(e){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hr(this,"idToken",e.idToken),e.accessToken&&Hr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Hr(this,"accessToken",e.oauthToken),Hr(this,"secret",e.oauthTokenSecret)}Hr(this,"providerId",t),Hr(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Wn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function lo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(n){}}return null}function uo(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Bi(t)||{}).Ha||null,this.kb=null}function co(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,t,[])}function ho(t){uo.call(this,t,Vi),this.a=[]}function fo(){ho.call(this,"facebook.com")}function po(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function mo(){ho.call(this,"github.com")}function go(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function yo(){ho.call(this,"google.com"),this.Aa("profile")}function vo(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function bo(){uo.call(this,"twitter.com",Ui)}function _o(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function wo(t,e,n){this.a=t,this.f=e,Hr(this,"providerId","password"),Hr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new wo(t.email,t.password,t.signInMethod):null}function So(){zr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Co(e)))throw new S("argument-error","Invalid email link!");return new wo(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ei(t=Xi(t)))&&t.operation===ni?t:null}function Io(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new S("internal-error");this.a=t,Hr(this,"providerId","phone"),this.ea="phone",Hr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function To(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ao(t){try{this.a=t||xA.a.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Io({bb:t,ab:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new Io({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return po(n);case"github.com":return go(n);case"twitter.com":return _o(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Oo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function Lo(){this.b=null,this.a=[]}Zi.prototype.Fa=function(){return Se(this.a?this.a:this.b)},Zi.prototype.v=function(){return this.type==Ji?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return aa(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,la(t,n)},ro.prototype.c=function(t,e){return no(ua(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return aa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,la(t,n)},so.prototype.c=function(t,e){return no(ua(t,ao(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},uo.prototype.Ia=function(t){return this.Fb=dt(t),this},E(co,uo),E(ho,uo),ho.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return Q(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=f(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},E(fo,ho),Hr(fo,"PROVIDER_ID","facebook.com"),Hr(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(mo,ho),Hr(mo,"PROVIDER_ID","github.com"),Hr(mo,"GITHUB_SIGN_IN_METHOD","github.com"),E(yo,ho),Hr(yo,"PROVIDER_ID","google.com"),Hr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(bo,uo),Hr(bo,"PROVIDER_ID","twitter.com"),Hr(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ia=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?za(t,ya,{email:this.a,oobCode:this.f}):za(t,Va,{email:this.a,password:this.f})},wo.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?za(t,va,{idToken:e,email:this.a,oobCode:this.f}):za(t,Ra,{idToken:e,email:this.a,password:this.f})},wo.prototype.c=function(t,e){return no(this.ia(t),e)},wo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(So,{PROVIDER_ID:"password"}),zr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ia=function(t){return t.cb(To(this))},Io.prototype.b=function(t,e){var n=To(this);return n.idToken=e,za(t,Ba,n)},Io.prototype.c=function(t,e){var n=To(this);return n.operation="REAUTH",no(t=za(t,qa,n),e)},Io.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ao.prototype.cb=function(t,e){var n=this.a.b;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=f(t)?t.session:null,o=f(t)?t.phoneNumber:t;return(i&&i.type==Ji?i.Fa().then((function(t){return function(t,e){return za(t,Da,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==to?i.Fa().then((function(e){return function(t,e){return za(t,Pa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return za(t,Aa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Ao,{PROVIDER_ID:"phone"}),zr(Ao,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Mo,Fo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Pn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Vo(t,e,n){S.call(this,t,n),(t=e||{}).Gb&&Hr(this,"email",t.Gb),t.da&&Hr(this,"phoneNumber",t.da),t.credential&&Hr(this,"credential",t.credential),t.Wb&&Hr(this,"tenantId",t.Wb)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Ro(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Bo(){}function qo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function zo(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ko(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,e){this.name=t,this.value=e}E(Uo,S),E(Vo,S),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Bo.prototype.c=null,E(qo,Bo),qo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},qo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Mo=new qo,E(zo,Bo),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Qo.prototype.toString=function(){return this.name};var Yo=new Qo("SEVERE",1e3),Xo=new Qo("WARNING",900),Zo=new Qo("CONFIG",700),Jo=new Qo("FINE",500);Ko.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ts={},es=null;function ns(t){var e;if(es||(es=new Ko(""),ts[""]=es,es.c=Zo),!(e=ts[t])){e=new Ko(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ns(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ts[t]=e}return e}function rs(t,e){t&&t.log(Jo,e,void 0)}function is(t){this.f=t}function os(t){gn.call(this),this.s=t,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ns("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(is,Bo),is.prototype.a=function(){return new os(this.f)},is.prototype.b=function(t){return function(){return t}}({}),E(os,gn);var ss=0;function as(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ls(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,us(t)}function us(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function cs(t){gn.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=hs,this.w=this.R=!1}(t=os.prototype).open=function(t,e){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,us(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ls(this,!1)),this.readyState=ss},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,us(this)),this.a&&(this.readyState=3,us(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,as(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ls(this,!0):us(this),3==this.readyState&&as(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,ls(this,!0))},t.qc=function(t){this.a&&(this.response=t,ls(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Xo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ls(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(cs,gn);var hs="";cs.prototype.b=ns("goog.net.XhrIo");var ds=/^https?$/i,fs=["POST","PUT"];function ps(t){return"content-type"==t.toLowerCase()}function ms(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,gs(t),vs(t)}function gs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ys(t){if(t.c&&void 0!==o)if(t.B[1]&&4==_s(t)&&2==ws(t))rs(t.b,Es(t,"Local request error detected and ignored"));else if(t.i&&4==_s(t))_n(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==_s(t)){rs(t.b,Es(t,"Request complete")),t.c=!1;try{var e,n=ws(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(kn)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}i=!ds.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<_s(t)?t.a.statusText:""}catch(c){rs(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+ws(t)+"]",gs(t)}}finally{vs(t)}}}function vs(t,e){if(t.a){bs(t);var n=t.a,r=t.B[0]?u:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Yo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function bs(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function _s(t){return t.a?t.a.readyState:0}function ws(t){try{return 2<_s(t)?t.a.status:-1}catch(e){return-1}}function Es(t,e){return e+" ["+t.P+" "+t.l+" "+ws(t)+"]"}function Ss(t){var e=Ps;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function xs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ts(t)}function Cs(t){if(t.a){if(!t.u)throw new As(t);t.u=!1}}function Is(t,e,n,r){t.g.push([e,n,r]),t.a&&Ts(t)}function ks(t){return z(t.g,(function(t){return d(t[1])}))}function Ts(t){if(t.h&&t.a&&ks(t)){var e=t.h,n=Os[e];n&&(s.clearTimeout(n.a),delete Os[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var l=o.call(i||t.s,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,ks(t)||(n=!0)}}t.c=e,r&&(l=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ss?(Is(e,l,r),e.B=!0):e.then(l,r)),n&&(e=new Rs(e),Os[e.a]=e,t.h=e.a)}function As(){R.call(this)}function Ns(){R.call(this)}function Rs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=cs.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",rs(this.b,Es(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(rs(this.b,Es(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vs(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vs(this,!0)),cs.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ys(this):this.Hc())},t.Hc=function(){ys(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case hs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return rs(this.b,"Can not get response: "+e.message),null}},Ss.prototype.cancel=function(t){if(this.a)this.c instanceof Ss&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ns(this),Cs(this),xs(this,!1,t))}},Ss.prototype.m=function(t,e){this.i=!1,xs(this,t,e)},Ss.prototype.then=function(t,e,n){var r,i,o=new ge((function(t,e){r=t,i=e}));return Is(this,r,(function(t){t instanceof Ns?o.cancel():i(t)})),o.then(t,e,n)},Ss.prototype.$goog_Thenable=!0,E(As,R),As.prototype.message="Deferred has already fired",As.prototype.name="AlreadyCalledError",E(Ns,R),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Rs.prototype.c=function(){throw delete Os[this.a],this.b};var Os={};function Ds(t){var e={},n=e.document||document,r=Et(t).toString(),i=ue(document,"SCRIPT"),o={Tb:i,Ka:void 0},u=new Ss(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){Ls(i,!0);var t=new Us(Fs,"Timeout reached for loading script "+r);Cs(u),xs(u,!1,t)}),h),o.Ka=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ls(i,e.ud||!1,c),Cs(u),xs(u,!0,null))},i.onerror=function(){Ls(i,!0,c);var t=new Us(Ms,"Error while loading script "+r);Cs(u),xs(u,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),null===l&&(l=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),u}function Ps(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ls(t,!0,this.Ka)}}function Ls(t,e,n){null!=n&&s.clearTimeout(n),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ms=0,Fs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Vs(t){this.f=t}function js(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Hs,this.g=dt(t.secureTokenHeaders||zs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Gs,this.a=dt(t.firebaseHeaders||Ws),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==mr(),!(n=s.XMLHttpRequest||n&&xA.a.INTERNAL.node&&xA.a.INTERNAL.node.XMLHttpRequest)&&!pr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=pr()?new is(self):gr()?new Vs(n):new zo,this.b=null}E(Us,R),E(Vs,Bo),Vs.prototype.a=function(){return new this.f},Vs.prototype.b=function(){return{}};var Bs,qs="idToken",Hs=new Lr(3e4,6e4),zs={"Content-Type":"application/x-www-form-urlencoded"},Gs=new Lr(3e4,6e4),Ws={"Content-Type":"application/json"};function $s(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ks(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Qs(t,e,n,r,i,o,a){(function(){var t=Er();return!((t=br(t)!=vr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&te&&!(9<te))})()||pr()?t=b(t.w,t):(Bs||(Bs=new ge((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Xs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Is(t,null,e,void 0)}(Ds(St(Ys,{onload:Xs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}js.prototype.S=function(){return this.b},js.prototype.w=function(t,e,n,r,i,o){if(pr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new cs(this.f);if(o){a.g=Math.max(0,o);var l=setTimeout((function(){a.dispatchEvent("timeout")}),o)}yn(a,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return rs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),vn(a,"ready",(function(){l&&clearTimeout(l),je(this)})),vn(a,"timeout",(function(){l&&clearTimeout(l),je(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Mo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Mo),t.a.onreadystatechange=b(t.Sb,t);try{rs(t.b,Es(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return rs(t.b,Es(t,"Error opening Xhr: "+a.message)),void ms(t,a)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Sn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ps,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!G(fs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{bs(t),0<t.g&&(t.w=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),rs(t.b,Es(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=_n(t.Ka,t.g,t)),rs(t.b,Es(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){rs(t.b,Es(t,"Send error: "+a.message)),ms(t,a)}}(a,t,n,r,i)};var Ys=new gt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Xs="__fcb"+Math.floor(1e6*Math.random()).toString();function Zs(t){if("string"!=typeof(t=t.email)||!cr.test(t))throw new S("invalid-email")}function Js(t){"email"in t&&Zs(t)}function ta(t){if(!t[qs]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,dt(t));throw new S("internal-error")}}function ea(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}js.prototype.s=function(t,e,n,r,i){var o=this;Bs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},js.prototype.vb=function(){return za(this,Oa,{})},js.prototype.xb=function(t,e){return za(this,Na,{idToken:t,email:e})},js.prototype.yb=function(t,e){return za(this,Ra,{idToken:t,password:e})};var na={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ra(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ia(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function oa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Kn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function sa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Ga(t.errorMessage)),e)throw e;ta(t)}function aa(t,e){return e.returnIdpCredential=!0,za(t,La,e)}function la(t,e){return e.returnIdpCredential=!0,za(t,Fa,e)}function ua(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,za(t,Ma,e)}function ca(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=js.prototype).zb=function(t,e){var n={idToken:t},r=[];return ct(na,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),za(this,Na,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),za(this,Ca,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),za(this,Ea,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),za(this,Sa,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),za(this,xa,t)},t.cb=function(t){return za(this,ja,t)},t.jb=function(t,e){return za(this,Ta,{oobCode:t,newPassword:e})},t.Pa=function(t){return za(this,da,{oobCode:t})},t.fb=function(t){return za(this,ha,{oobCode:t})};var ha={endpoint:"setAccountInfo",A:ca,Y:"email",C:!0},da={endpoint:"resetPassword",A:ca,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},C:!0},fa={endpoint:"signupNewUser",A:function(t){if(Zs(t),!t.password)throw new S("weak-password")},G:ta,U:!0,C:!0},pa={endpoint:"createAuthUri",C:!0},ma={endpoint:"deleteAccount",M:["idToken"]},ga={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=c(t.deleteProvider))throw new S("internal-error")}},ya={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Zs,G:ta,U:!0,C:!0},va={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Zs,G:ta,U:!0},ba={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ra,G:ta,C:!0,La:!0},_a={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ra,G:ta,C:!0,La:!0},wa={endpoint:"getAccountInfo"},Ea={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");Zs(t)},Y:"email",C:!0},Sa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Y:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");Zs(t)},Y:"email",C:!0},Ia={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},ka={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Ta={endpoint:"resetPassword",A:ca,Y:"email",C:!0},Aa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Na={endpoint:"setAccountInfo",M:["idToken"],A:Js,U:!0},Ra={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Js(t),!t.password)throw new S("weak-password")},G:ta,U:!0},Oa={endpoint:"signupNewUser",G:ta,U:!0,C:!0},Da={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,La:!0},Pa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,La:!0},La={endpoint:"verifyAssertion",A:ia,Wa:oa,G:sa,U:!0,C:!0},Ma={endpoint:"verifyAssertion",A:ia,Wa:oa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Ga(t.errorMessage);ta(t)},U:!0,C:!0},Fa={endpoint:"verifyAssertion",A:function(t){if(ia(t),!t.idToken)throw new S("internal-error")},Wa:oa,G:sa,U:!0},Ua={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ta,U:!0,C:!0},Va={endpoint:"verifyPassword",A:function(t){if(Zs(t),!t.password)throw new S("wrong-password")},G:ta,U:!0,C:!0},ja={endpoint:"verifyPhoneNumber",A:ea,G:ta,C:!0},Ba={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");ea(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);ta(t)}},qa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ea,G:ta,C:!0},Ha={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qs]^!!t.refreshToken)throw new S("internal-error")},C:!0,La:!0};function za(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return xe(new S("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Se(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Pn(e+n);On(a,"key",t.c),s&&On(a,"cb",w().toString());var l="GET"==r;if(l)for(var u in i)i.hasOwnProperty(u)&&On(a,u,i[u]);return new ge((function(e,n){Qs(t,a.toString(),(function(t){t?t.error?n(Wa(t,o||{})):e(t):n(new S("network-request-failed"))}),r,l?void 0:Zn(Nr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new S("internal-error");return r[e.Y]}))}function Ga(t){return Wa({error:{errors:[{message:t}],code:400,message:t}})}function Wa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Ar(t)),new S("internal-error",e)}function $a(t){this.b=t,this.a=null,this.nb=function(t){return(Xa||(Xa=new ge((function(t,e){function n(){Pr(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Pr(),e(Error("Network Error"))},timeout:Qa.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},Se(Ds(r=St(Ka,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Xa=null,t})))).then((function(){return new ge((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ya.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ka=new gt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Qa=new Lr(3e4,6e4),Ya=new Lr(5e3,15e3),Xa=null;function Za(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ln(this.i,"/__/auth/iframe"),On(this.a,"apiKey",this.g),On(this.a,"appName",this.h),this.b=null,this.c=[]}function Ja(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function tl(t){try{return xA.a.app(t).auth().Ea()}catch(e){return[]}}function el(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function nl(t){var e=ir();return function(t){return za(t,Ia,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Pn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Pn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ur.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Uo(ir())}))}function rl(t){return t.l?t.l:(t.l=hr().then((function(){if(!t.s){var e=t.c,n=t.h,r=tl(t.b),i=new Za(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Q(r||[]),t.s=i.toString()}t.i=new $a(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)})),t.l)}function il(t){return t.m||(t.w=t.c?wr(t.c,tl(t.b)):null,t.m=new js(t.f,A(t.h),t.w)),t.m}function ol(t,e,n,r,i,o,s,a,l,u,c){return(t=new Ja(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=dt(l||null),t.f=u,t.ub(c).toString()}function sl(t){if(this.a=t||xA.a.INTERNAL.reactNative&&xA.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function al(t){this.b=t,this.a={},this.f=b(this.c,this)}Za.prototype.toString=function(){return this.f?On(this.a,"v",this.f):$n(this.a.a,"v"),this.b?On(this.a,"eid",this.b):$n(this.a.a,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):$n(this.a.a,"fw"),this.a.toString()},Ja.prototype.ub=function(t){return this.h=t,this},Ja.prototype.toString=function(){var t=Ln(this.s,"/__/auth/handler");if(On(t,"apiKey",this.m),On(t,"appName",this.c),On(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=xA.a.app(this.c).auth().ja()}catch(a){n=null}for(var r in e.kb=n,On(t,"providerId",this.a.providerId),n=Nr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=dt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||On(t,"customParameters",Ar(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&On(t,"scopes",e.join(",")),this.l?On(t,"redirectUrl",this.l):$n(t.a,"redirectUrl"),this.g?On(t,"eventId",this.g):$n(t.a,"eventId"),this.i?On(t,"v",this.i):$n(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Dn(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):$n(t.a,"tid"),this.f?On(t,"eid",this.f):$n(t.a,"eid"),(s=tl(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=el.prototype).Lb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return rl(t).then((function(){return function(t,e){return t.nb.then((function(){return new ge((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ar(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ge((function(e){return function n(){wn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return wn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Er();return!Tr(t)&&!Dr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new S("popup-blocked"));if(s&&!Tr())return this.ka().o((function(e){ar(t),i(e)})),r(),Se();this.a||(this.a=nl(il(this)));var l=this;return this.a.then((function(){var e=l.ka().o((function(e){throw ar(t),i(e),e}));return r(),e})).then((function(){Oo(n),s||or(ol(l.u,l.f,l.b,e,n,null,o,l.c,void 0,l.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=nl(il(this)));var i=this;return this.a.then((function(){Oo(e),or(ol(i.u,i.f,i.b,t,e,ir(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return rl(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){$(this.g,(function(e){return e==t}))},(t=sl.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Rr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Ar(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var ll,ul=[];function cl(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function hl(t){this.a=t}function dl(t){this.c=t,this.b=!1,this.a=[]}function fl(t,e,n,r){var i,o,s,a,l=n||{},u=null;if(t.b)return xe(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ge((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return pl(t,u),e})).o((function(e){throw pl(t,u),e}))}function pl(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),$(t.a,(function(t){return t==e}))}}function ml(){if(!yl())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;pr()&&self?(this.l=function(){var t=pr()?self:null;if(B(ul,(function(n){n.b==t&&(e=n)})),!e){var e=new al(t);ul.push(e)}return e}(),cl(this.l,"keyChanged",(function(e,n){return El(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),cl(this.l,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new dl(new hl(e)),fl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function gl(t){return t.m||(t.m=function t(e){return new ge((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ge((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function yl(){try{return!!s.indexedDB}catch(Ht){return!1}}function vl(t){return t.objectStore("firebaseLocalStorage")}function bl(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function _l(t){return new ge((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function wl(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?fl(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function El(t){return gl(t).then((function(t){var e=vl(bl(t,!1));return e.getAll?_l(e.getAll()):new ge((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Sl(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function xl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(yl()){var t=Or(),r="__sak"+t;return ll||(ll=new ml),(n=ll).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Cl(){this.a={},this.type="inMemory"}function Il(){if(!function(){var t="Node"==mr();if(!(t=kl()||t&&xA.a.INTERNAL.node&&xA.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=kl()||xA.a.INTERNAL.node.localStorage,this.type="localStorage"}function kl(){try{var t=s.localStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Tl(){this.type="nullStorage"}function Al(){if(!function(){var t="Node"==mr();if(!(t=Nl()||t&&xA.a.INTERNAL.node&&xA.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Nl()||xA.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Nl(){try{var t=s.sessionStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Rl(){var t={};t.Browser=Pl,t.Node=Ll,t.ReactNative=Ml,t.Worker=Fl,this.a=t[mr()]}al.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Ie(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},hl.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},dl.prototype.close=function(){for(;0<this.a.length;)pl(this,this.a[0]);this.b=!0},(t=ml.prototype).set=function(t,e){var n,r=!1,i=this;return gl(this).then((function(e){return _l((e=vl(bl(n=e,!0))).get(t))})).then((function(o){var s=vl(bl(n,!0));return o?(o.value=e,_l(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,_l(s.add(o)))})).then((function(){return i.c[t]=e,wl(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return gl(this).then((function(e){return _l(vl(bl(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return gl(this).then((function(r){return e=!0,n.b++,_l(vl(bl(r,!0)).delete(t))})).then((function(){return delete n.c[t],wl(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Sl(t),function e(){t.f=setTimeout((function(){t.i=El(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Sl(this)},(t=xl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){$(this.a,(function(e){return e==t}))},(t=Cl.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ba=function(){},t.ha=function(){},(t=Il.prototype).get=function(t){var e=this;return Se().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&rn(s.window,"storage",t)},t.ha=function(t){s.window&&an(s.window,"storage",t)},(t=Tl.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ba=function(){},t.ha=function(){},(t=Al.prototype).get=function(t){var e=this;return Se().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Ol,Dl,Pl={F:Il,$a:Al},Ll={F:Il,$a:Al},Ml={F:sl,$a:Tl},Fl={F:Il,$a:Tl},Ul={od:"local",NONE:"none",qd:"session"};function Vl(){var t=!(Dr(Er())||!fr()),e=Tr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},Ol||(Ol=new Rl),t=Ol;try{this.g=!rr()&&Ur()||!s.indexedDB?new t.a.F:new xl(pr()?new Cl:new t.a.F)}catch(r){this.g=new Cl,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Cl}this.u=new Cl,this.f=b(this.Vb,this),this.b={}}function jl(){return Dl||(Dl=new Vl),Dl}function Bl(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function ql(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Hl(t,e,n){return n=ql(e,n),"local"==e.F&&(t.b[n]=null),Bl(t,e.F).T(n)}function zl(t){t.c&&(clearInterval(t.c),t.c=null)}function Gl(t){this.a=t,this.b=jl()}(t=Vl.prototype).get=function(t,e){return Bl(this,t.F).get(ql(t,e))},t.set=function(t,e,n){var r=ql(t,n),i=this,o=Bl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ql(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(Bl(this,"local").ba(this.f),this.h||(rr()||!Ur())&&s.indexedDB||!this.l||function(t){zl(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new We({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ql(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Bl(this,"local").ha(this.f),zl(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Bl(this,"local").ha(this.f):zl(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},Gt&&te&&10==te&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var Wl,$l={name:"authEvent",F:"local"};function Kl(){this.a=jl()}function Ql(t,e){this.b=Yl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Wl&&(Wl=s.Int32Array?new Int32Array(ru):ru),this.reset()}E(Ql,(function(){this.b=-1}));for(var Yl=64,Xl=Yl-1,Zl=[],Jl=0;Jl<Xl;Jl++)Zl[Jl]=0;var tu=K(128,Zl);function eu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|Wl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=l+s|0,l=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function nu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(eu(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(eu(t),i=0)}}t.c=i,t.g+=n}Ql.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var ru=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iu(){Ql.call(this,8,ou)}E(iu,Ql);var ou=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function su(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Kl,this.g=new Gl(this.h),this.f=null,this.b=[],this.a=this.c=null}function au(t){return new S("invalid-cordova-configuration",t)}function lu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function uu(t){return t.f||(t.f=t.ka().then((function(){return new ge((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),cu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Xi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Dn(o=Pn(i),"firebaseError")||null))?x(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}lu(t,i)}))}var n=new Do("unknown",null,null,null,new S("no-auth-event")),r=!1,i=wn(500).then((function(){return cu(t).then((function(){r||lu(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new Lo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function cu(t){var e=null;return function(t){return t.b.get($l,t.a).then((function(t){return Po(t)}))}(t.g).then((function(n){return e=n,Hl((n=t.g).b,$l,n.a)})).then((function(){return e}))}function hu(t){this.a=t,this.b=jl()}(t=su.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(dr(void 0)?hr().then((function(){return new ge((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",s))throw au("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",s))throw au("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",s))throw au("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",s))throw au("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Lb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Se()},t.Jb=function(){return xe(new S("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return xe(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,l=null,u=null,c=null;return this.c=Se().then((function(){return Oo(e),uu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Do(e,r,null,o,new S("no-auth-event"),null,i),l=Sr("BuildInfo.packageName",s);if("string"!=typeof l)throw new S("invalid-cordova-configuration");var u=Sr("BuildInfo.displayName",s),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!Er().toLowerCase().match(/android/))return xe(new S("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(t){var e=new iu;nu(e,t),t=[];var n=8*e.g;nu(e,tu,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(eu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=ol(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set($l,a.v(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ge((function(t,e){l=function(){var e=Sr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(l),c=function(){Mr()&&u()},o.addEventListener("resume",u=function(){a||(a=wn(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return cu(i).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),l&&i.Qa(l),i.c=null}))},t.Ca=function(t){this.b.push(t),uu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Qa=function(t){$(this.b,(function(e){return e==t}))};var du={name:"pendingRedirect",F:"session"};function fu(t){return Hl(t.b,du,t.a)}function pu(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Tu,this.B=new Du,this.g=new hu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=mu(this.D,this.u,this.m,C)}function mu(t,e,n,r){var i=xA.a.SDK_VERSION||null;return dr()?new su(t,e,n,i,r):new el(t,e,n,i,r)}function gu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function yu(t){t.a.Ub()&&gu(t).o((function(e){var n=new Do("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Su(e)&&t.s(n)})),t.a.Qb()||Au(t.b)}function vu(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(du,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?fu(t.g).then((function(){gu(t).o((function(e){var n=new Do("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Su(e)&&t.s(n)}))})):yu(t)})).o((function(){yu(t)}))}function bu(t,e){$(t.h,(function(t){return t==e}))}pu.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=mu(this.D,this.u,this.m),this.i={}},pu.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Au(this.b),e};var _u=new Lr(2e3,1e4),wu=new Lr(3e4,6e4);function Eu(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Su(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function xu(t,e,n,r,i){var o;return function(t){return t.b.set(du,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Su(e))throw new S("operation-not-supported-in-this-environment");return o=e,fu(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ge((function(){})):fu(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Cu(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),_u.get())}pu.prototype.pa=function(){return this.b.pa()};var Iu={};function ku(t,e,n){var r=e+":"+n;return Iu[r]||(Iu[r]=new pu(t,e,n)),Iu[r]}function Tu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Au(t){t.g||(t.g=!0,Ou(t,!1,null,null))}function Nu(t){t.g&&!t.i&&Ou(t,!1,null,null)}function Ru(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ou(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Ru(t,n):Ru(t,{user:null}),t.f=[],t.c=[]}function Du(){}function Pu(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Lu(t,e){this.a=e,Hr(this,"verificationId",t)}function Mu(t,e,n,r){return new Ao(t).cb(e,n).then((function(t){return new Lu(t,r)}))}function Fu(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Uu(t,e,n){var r=e&&e[ju];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new Zi(null,r),this.b=[];var i=this;B(e[Vu]||[],(function(t){(t=Kr(t))&&i.b.push(t)})),Hr(this,"auth",this.a),Hr(this,"session",this.c),Hr(this,"hints",this.b)}Tu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Tu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Ou(this,!0,null,t.a),Se()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Ou(t,a,e,null)})).o((function(e){Ou(t,a,null,e)}))}(this,t,e):xe(new S("invalid-auth-event")):(Ou(this,!1,null,null),Se())}else xe(new S("invalid-auth-event"))},Tu.prototype.pa=function(){var t=this;return new ge((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=wn(wu.get()).then((function(){t.b||(t.g=!0,Ou(t,!0,null,e))}))}(t))}))},Du.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Se()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):xe(new S("invalid-auth-event"))}else xe(new S("invalid-auth-event"))},Lu.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Vu="mfaInfo",ju="mfaPendingCredential";function Bu(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Uu(t,e,n),Hr(this,"resolver",this.b)}function qu(t,e,n){if(t&&f(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Bu(e,t.serverResponse,n,t.message)}catch(r){}return null}function Hu(){}function zu(t){Hr(this,"factorId",t.ea),this.a=t}function Gu(t){if(zu.call(this,t),this.a.ea!=Ao.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Wu(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function $u(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),rn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Xr]=t.uid),t.displayName&&(r[Qr]=t.displayName),t.enrollmentTime&&(r[Yr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new Jr(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Ku(this,n)}function Ku(t,e){t.b=e,Hr(t,"enrolledFactors",e)}function Qu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Yu(t){this.c=t,this.b=this.a=null}function Xu(t){return t.b&&1e3*t.b.c||0}function Zu(t,e){var n=e.refreshToken;t.b=Mi(e[qs]||""),t.a=n}function Ju(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function tc(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ec(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=xA.a.SDK_VERSION?wr(xA.a.SDK_VERSION):null,this.a=new js(this.l,A(C),t),this.b=new Yu(this.a),lc(this,e[qs]),Zu(this.b,e),Hr(this,"refreshToken",this.b.a),hc(this,n||{}),gn.call(this),this.P=!1,this.s&&Cr()&&(this.i=ku(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Qu((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Xu(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){rc(r,t.c)},this.$=null,this.O=new $u(this,n),Hr(this,"multiFactor",this.O)}function nc(t,e){t.aa&&an(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&rn(e,"languageCodeChanged",t.za)}function rc(t,e){t.W=e,Ks(t.a,xA.a.SDK_VERSION?wr(xA.a.SDK_VERSION,t.W):null)}function ic(t,e){t.$&&an(t.$,"frameworkChanged",t.ya),(t.$=e)&&rn(e,"frameworkChanged",t.ya)}function oc(t){try{return xA.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function sc(t){t.D||t.B.b||(t.B.start(),an(t,"tokenChanged",t.Z),rn(t,"tokenChanged",t.Z))}function ac(t){an(t,"tokenChanged",t.Z),t.B.stop()}function lc(t,e){t.xa=e,Hr(t,"_lat",e)}function uc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ie(e).then((function(){return t}))}function cc(t){t.i&&!t.P&&(t.P=!0,vu(t.i,t))}function hc(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Ju(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function dc(){}function fc(t){return Se().then((function(){if(t.D)throw new S("app-deleted")}))}function pc(t){return H(t.providerData,(function(t){return t.providerId}))}function mc(t,e){e&&(gc(t,e.providerId),t.providerData.push(e))}function gc(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function yc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hr(t,e,n)}function vc(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Hr(t,"metadata",e.metadata?function(t){return new Ju(t.a,t.b)}(e.metadata):new Ju),B(e.providerData,(function(e){mc(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Hr(t,"refreshToken",t.b.a),Ku(t.O,e.O.b))}function bc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return za(t.a,wa,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||yc(t,"isAnonymous",!1),e}))}))}function _c(t,e){e[qs]&&t.xa!=e[qs]&&(Zu(t.b,e),t.dispatchEvent(new Wu("tokenChanged")),lc(t,e[qs]),yc(t,"refreshToken",t.b.a))}function wc(t,e){return bc(t).then((function(){if(G(pc(t),e))return uc(t).then((function(){throw new S("provider-already-linked")}))}))}function Ec(t,e,n){return Gr({user:t,credential:Ro(e),additionalUserInfo:e=qi(e),operationType:n})}function Sc(t,e){return _c(t,e),t.reload().then((function(){return t}))}function xc(t,e,n,r,i){if(!Cr())return xe(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return xe(t.h);var o=Bi(n.providerId),s=Or(t.uid+":::"),a=null;(!Tr()||fr())&&t.s&&n.isOAuthProvider&&(a=ol(t.s,t.l,t.m,e,n,null,s,xA.a.SDK_VERSION||null,null,null,t.tenantId));var l=lr(a,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Ic(t),!i)return t.I().then((function(){}))})).then((function(){return Eu(t.i,l,e,n,s,!!a,t.tenantId)})).then((function(){return new ge((function(n,r){t.la(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Cu(t.i,t,e,l,s)}))})).then((function(t){return l&&ar(l),t?Gr(t):null})).o((function(t){throw l&&ar(l),t})),kc(t,r,i)}function Cc(t,e,n,r,i){if(!Cr())return xe(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return xe(t.h);var o=null,s=Or(t.uid+":::");return r=r().then((function(){if(Ic(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,uc(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Nc,t.v(),e.a)),e})).then((function(){return xu(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Rc(t.ga);throw o})).then((function(){if(o)throw o})),kc(t,r,i)}function Ic(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function kc(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),xe(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Wu("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=qu(e.v(),oc(t),b(t.hc,t))),n||e}))}function Tc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ec(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&mc(r,Gr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Ac(t){this.a=t,this.b=jl()}Uu.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Vu],delete n[ju],pt(n,t),e.g(n)}))},E(Bu,S),Hu.prototype.ob=function(t,e,n){return e.type==Ji?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:To(t.a)}),za(e,ba,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:To(t.a)}),za(e,_a,n)}))}(this,t,e)},E(zu,Hu),E(Gu,zu),E(Wu,Ge),(t=$u.prototype).wc=function(t){Ku(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Kr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return _c(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return za(r,Ha,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return Ku(e,r),_c(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.v()}))}}},Qu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=wn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Mr()||!t?Se():new ge((function(n){e=function(){Mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Qu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Yu.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Xu(this)}},Yu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new S("user-token-expired")):t||!this.b||w()>Xu(this)-3e4?this.a?function(t,e){return function(t,e){return new ge((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Qs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Wa(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Wn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))}))}(t.c,e).then((function(e){return t.b=Mi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},Ju.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(ec,gn),ec.prototype.va=function(t){this.oa=t,$s(this.a,t)},ec.prototype.ja=function(){return this.oa},ec.prototype.Ea=function(){return Q(this.W)},ec.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Hr(ec.prototype,"providerId","firebase"),(t=ec.prototype).reload=function(){var t=this;return kc(this,fc(this).then((function(){return bc(t).then((function(){return uc(t)})).then(dc)})))},t.mc=function(t){return this.I(t).then((function(t){return new Fu(t)}))},t.I=function(t){var e=this;return kc(this,fc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.xa&&(lc(e,t.accessToken),e.dispatchEvent(new Wu("tokenChanged"))),yc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");hc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new tc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)mc(this,e[n]);yc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Wu("userReloaded",{ed:t}))},t.Jc=function(t){return Br("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return kc(this,t.c(this.a,this.uid).then((function(t){return _c(e,t),n=Ec(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Br("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return kc(this,wc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ec(e,t,"link"),Sc(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return kc(this,wc(this,"phone").then((function(){return Mu(oc(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return kc(this,Se().then((function(){return Mu(oc(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return kc(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return _c(e,t),e.reload()})))},t.cd=function(t){var e=this;return kc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return _c(e,t),e.reload()})))},t.yb=function(t){var e=this;return kc(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return _c(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return fc(this);var e=this;return kc(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return _c(e,t),yc(e,"displayName",t.displayName||null),yc(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Hr(t,"displayName",e.displayName),Hr(t,"photoURL",e.photoURL))})),uc(e)})).then(dc))},t.ad=function(t){var e=this;return kc(this,bc(this).then((function(n){return G(pc(e),t)?function(t,e,n){return za(t,ga,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(pc(e),(function(t){n[t]||gc(e,t)})),n[Ao.PROVIDER_ID]||Hr(e,"phoneNumber",null),uc(e)})):uc(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return kc(this,this.I().then((function(e){return za(t.a,ma,{idToken:e})})).then((function(){t.dispatchEvent(new Wu("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");nc(t,null),ic(t,null),t.N=[],t.D=!0,ac(t),Hr(t,"refreshToken",null),t.i&&bu(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return xc(this,"linkViaPopup",t,(function(){return wc(e,t.providerId).then((function(){return uc(e)}))}),!1)},t.Lc=function(t){return xc(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Dc=function(t){var e=this;return Cc(this,"linkViaRedirect",t,(function(){return wc(e,t.providerId)}),!1)},t.Mc=function(t){return Cc(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return kc(this,this.I().then((function(n){return la(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ec(i,t,"link"),Sc(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return kc(this,Se().then((function(){return no(ua(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ec(i,t,"reauthenticate"),_c(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return kc(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Di(new Si(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return kc(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Di(new Si(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return kc(this,t=no(Se(t),n.uid).then((function(t){return e=Ec(n,t,"reauthenticate"),_c(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var Nc={name:"redirectUser",F:"session"};function Rc(t){return Hl(t.b,Nc,t.a)}function Oc(t){this.a=t,this.b=jl(),this.c=null,this.f=function(t){var e=Lc("local"),n=Lc("session"),r=Lc("none");return function(t,e,n){var r=ql(e,n),i=Bl(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Rr(s.localStorage.getItem(r))}catch(l){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Pc,t.a).then((function(t){return t?Lc(t):e}))}))}))})).then((function(e){return t.c=e,Dc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Lc("local"),this.a,b(this.g,this))}function Dc(t,e){var n,r=[];for(n in Ul)Ul[n]!==e&&r.push(Hl(t.b,Lc(Ul[n]),t.a));return r.push(Hl(t.b,Pc,t.a)),function(t){return new ge((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ce(t[a],_(o,a),s);else e(i)}))}(r)}Oc.prototype.g=function(){var t=this,e=Lc("local");Vc(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Dc(t,"local").then((function(){t.c=e}))}))}))};var Pc={name:"persistence",F:"session"};function Lc(t){return{name:"authUser",F:t}}function Mc(t,e){return Vc(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Fc(t){return Vc(t,(function(){return Hl(t.b,t.c,t.a)}))}function Uc(t,e){return Vc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tc(t||{})}))}))}function Vc(t,e){return t.f=t.f.then(e,e),t.f}function jc(t){if(this.l=!1,Hr(this,"settings",new Pu),Hr(this,"app",t),!$c(this).options||!$c(this).options.apiKey)throw new S("invalid-api-key");t=xA.a.SDK_VERSION?wr(xA.a.SDK_VERSION):null,this.b=new js($c(this).options&&$c(this).options.apiKey,A(C),t),this.P=[],this.m=[],this.O=[],this.$b=xA.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=xA.a.INTERNAL.createSubscribe(b(this.yc,this)),Gc(this,null),this.i=new Oc($c(this).options.apiKey+":"+$c(this).name),this.B=new Ac($c(this).options.apiKey+":"+$c(this).name),this.Z=Xc(this,function(t){var e=$c(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Nc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tc(t||{})}))}(t.B,$c(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Rc(t.B)}));return Xc(t,e)}(t).then((function(){return Uc(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Mc(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fc(t.i)}))):null})).then((function(e){Gc(t,e||null)}));return Xc(t,n)}(this)),this.h=Xc(this,function(t){return t.Z.then((function(){return zc(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Lc("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=$c(t).options.authDomain,n=$c(t).options.apiKey;e&&Cr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=ku(e,n,$c(t).name),vu(t.a,t),Kc(t)&&cc(Kc(t)),t.D){cc(t.D);var r=t.D;r.va(t.ja()),nc(r,t),rc(r=t.D,t.N),ic(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,gn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Bc(t){Ge.call(this,"languageCodeChanged"),this.g=t}function qc(t){Ge.call(this,"frameworkChanged"),this.c=t}function Hc(t){return t.Zb||xe(new S("auth-domain-config-required"))}function zc(t){if(!Cr())return xe(new S("operation-not-supported-in-this-environment"));var e=Hc(t).then((function(){return t.a.pa()})).then((function(t){return t?Gr(t):null}));return Xc(t,e)}function Gc(t,e){Kc(t)&&(function(t,e){$(t.R,(function(t){return t==e}))}(Kc(t),t.Ma),an(Kc(t),"tokenChanged",t.xa),an(Kc(t),"userDeleted",t.ya),an(Kc(t),"userInvalidated",t.za),ac(Kc(t))),e&&(e.R.push(t.Ma),rn(e,"tokenChanged",t.xa),rn(e,"userDeleted",t.ya),rn(e,"userInvalidated",t.za),0<t.s&&sc(e)),Hr(t,"currentUser",e),e&&(e.va(t.ja()),nc(e,t),rc(e,t.N),ic(e,t))}function Wc(t,e){var n=null,r=null;return Xc(t,e.then((function(e){return n=Ro(e),r=qi(e),function(t,e){var n={};return n.apiKey=$c(t).options.apiKey,n.authDomain=$c(t).options.authDomain,n.appName=$c(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new ec(t,e);return n&&(i.ga=n),r&&rc(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Kc(t)&&e.uid==Kc(t).uid?(vc(Kc(t),e),t.ca(e)):(Gc(t,e),cc(e),t.ca(e))})).then((function(){Yc(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=qu(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Gr({user:Kc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function $c(t){return t.app}function Kc(t){return t.currentUser}function Qc(t){return Kc(t)&&Kc(t)._lat||null}function Yc(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Qc(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Qc(t))}}function Xc(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function Zc(){}function Jc(){this.a={},this.b=1e12}Oc.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Ul)if(Ul[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(mr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),Vc(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Dc(n,t)})).then((function(){if(n.c=Lc(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},E(jc,gn),E(Bc,Ge),E(qc,Ge),(t=jc.prototype).tb=function(t){return Xc(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,$s(this.b,this.$),this.dispatchEvent(new Bc(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Ks(this.b,xA.a.SDK_VERSION?wr(xA.a.SDK_VERSION,this.N):null),this.dispatchEvent(new qc(this.N))},t.Ea=function(){return Q(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:$c(this).options.apiKey,authDomain:$c(this).options.authDomain,appName:$c(this).name,currentUser:Kc(this)&&Kc(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Wc(i,aa(i.b,o))}))},t.Vc=function(t){if(!Cr())return xe(new S("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=Or(),i=null;(!Tr()||fr())&&$c(this).options.authDomain&&t.isOAuthProvider&&(i=ol($c(this).options.authDomain,$c(this).options.apiKey,$c(this).name,"signInViaPopup",t,null,r,xA.a.SDK_VERSION||null,null,null,this.S()));var o=lr(i,n&&n.ta,n&&n.sa);return Xc(this,n=Hc(this).then((function(n){return Eu(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ge((function(t,n){e.la("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Cu(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ar(o),t?Gr(t):null})).o((function(t){throw o&&ar(o),t})))},t.Wc=function(t){if(!Cr())return xe(new S("operation-not-supported-in-this-environment"));var e=this;return Xc(this,Hc(this).then((function(){return function(t){return Vc(t,(function(){return t.b.set(Pc,t.c.F,t.a)}))}(e.i)})).then((function(){return xu(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return zc(this).then((function(e){return t.a&&Nu(t.a.b),e})).o((function(e){throw t.a&&Nu(t.a.b),e}))},t.bd=function(t){if(!t)return xe(new S("null-user"));if(this.R!=t.tenantId)return xe(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=$c(this).options.apiKey,n.authDomain=$c(this).options.authDomain,n.appName=$c(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ec(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&rc(e,r),vc(e,t),e}(t,n,e.B,e.Ea());return Xc(this,this.h.then((function(){if($c(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Kc(e)&&t.uid==Kc(e).uid?(vc(Kc(e),t),e.ca(t)):(Gc(e,r),cc(r),e.ca(r))})).then((function(){Yc(e)})))},t.wb=function(){var t=this;return Xc(this,this.h.then((function(){return t.a&&Nu(t.a.b),Kc(t)?(Gc(t,null),Fc(t.i).then((function(){Yc(t)}))):Se()})))},t.Xc=function(){var t=this;return Uc(this.i,$c(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Kc(t)&&e){n=Kc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return vc(Kc(t),e),Kc(t).I();(Kc(t)||e)&&(Gc(t,e),e&&(cc(e),e.ga=t.B),t.a&&vu(t.a,t),Yc(t))}}))},t.ca=function(t){return Mc(this.i,t)},t.jc=function(){Yc(this),this.ca(Kc(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Wc(e,Se(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Kc(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Xc(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Qc(t)))})))}(this,(function(){t.next(Kc(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){d(t)?t(Kc(r)):d(t.next)&&t.next(Kc(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),d(t)?t(Kc(r)):d(t.next)&&t.next(Kc(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Xc(this,this.h.then((function(){return Kc(e)?Kc(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Wc(e,za(e.b,Ua,{token:t}))})).then((function(t){var n=t.user;return yc(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Wc(n,za(n.b,Va,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Wc(n,za(n.b,fa,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Wc(e,t.ia(e.b))}))},t.Qc=function(t){return Br("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Kc(t);if(e&&e.isAnonymous){var n=Gr({providerId:null,isNewUser:!1});return Gr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Wc(t,t.b.vb()).then((function(e){var n=e.user;return yc(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Kc(this)&&Kc(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Kc(this)&&sc(Kc(this))},t.Nc=function(t){var e=this;B(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Kc(this)&&ac(Kc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Xc(this,this.h.then((function(){e.l||G(e.m,t)&&t(Qc(e))})))},t.removeAuthTokenListener=function(t){$(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Lc("local"),t.a,this.oa),this.a&&(bu(this.a,this),Nu(this.a.b)),Promise.resolve()},t.fc=function(t){return Xc(this,function(t,e){return za(t,pa,{identifier:e,continueUri:Ir()?ir():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!Co(t)},t.sb=function(t,e){var n=this;return Xc(this,Se().then((function(){var t=new Si(e);if(!t.c)throw new S("argument-error",Ii+" must be true when sending sign in link to email");return Di(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Xc(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Xc(this,this.b.Pa(t).then((function(t){return new ti(t)})))},t.fb=function(t){return Xc(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Xc(this,Se().then((function(){return void 0===e||ht(e)?{}:Di(new Si(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Xc(this,Mu(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Xc(this,Se().then((function(){var r=e||ir(),i=xo(t,r);if(!(r=Co(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Ya(i)})))},Zc.prototype.render=function(){},Zc.prototype.reset=function(){},Zc.prototype.getResponse=function(){},Zc.prototype.execute=function(){};var th=null;function eh(t,e){return(e=nh(e))&&t.a[e]||null}function nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function rh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ie(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():rn(this.f,"click",this.i)}function ih(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function sh(){}Jc.prototype.render=function(t,e){return this.a[this.b.toString()]=new rh(t,e),this.b++},Jc.prototype.reset=function(t){var e=eh(this,t);t=nh(t),e&&t&&(e.delete(),delete this.a[t])},Jc.prototype.getResponse=function(t){return(t=eh(this,t))?t.getResponse():null},Jc.prototype.execute=function(t){(t=eh(this,t))&&t.execute()},rh.prototype.getResponse=function(){return ih(this),this.b},rh.prototype.execute=function(){ih(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},rh.prototype.delete=function(){ih(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)},Hr(oh,"FACTOR_ID","phone"),sh.prototype.g=function(){return th||(th=new Jc),Se(th)},sh.prototype.c=function(){};var ah=null;function lh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uh=new gt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ch=new Lr(3e4,6e4);lh.prototype.g=function(t){var e=this;return new ge((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),ch.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[e.a]},Se(Ds(St(uh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},lh.prototype.c=function(){this.b--};var hh=null;function dh(t,e,n,r,i,o,a){if(Hr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(ah||(ah=new sh),a=ah):(hh||(hh=new lh),a=hh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[mh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[gh],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ie(e)||!this.i&&ie(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new js(t,o||null,i||null),this.w=r||function(){return null};var l=this;this.l=[];var u=this.a[fh];this.a[fh]=function(t){if(yh(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Sr(u,s);"function"==typeof e&&e(t)}};var c=this.a[ph];this.a[ph]=function(){if(yh(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=Sr(c,s);"function"==typeof t&&t()}}}var fh="callback",ph="expired-callback",mh="sitekey",gh="size";function yh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function vh(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function bh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function _h(t,e,n){var r=!1;try{this.b=n||xA.a.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=xA.a.SDK_VERSION?wr(xA.a.SDK_VERSION,o):null,dh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,A(C),r)}function wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Eh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Eh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=dh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=vh(this,Se().then((function(){if(Ir()&&!pr())return hr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,za(t.s,ka,{})})).then((function(e){t.a[mh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){bh(this);var t=this;return vh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ie(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',jt(s.name),'"'),s.type){o.push(' type="',jt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ue(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):oe(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||f(o)&&0<o.nodeType?r(o):B(ce(o)?Q(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bh(this);var t=this;return vh(this,this.render().then((function(e){return new ge((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ie(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},E(_h,dh);var Eh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Sh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function xh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Ch(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:f}}function Ih(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function kh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Th(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Ah(t,e){return f(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Nh(t){return f(t)&&"string"==typeof t.uid}function Rh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function Oh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Dh(t,e){for(var n in e){var r=e[n].name;t[r]=Mh(r,t[n],e[n].j)}}function Ph(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Lh(t,e,n,r){t[e]=Mh(e,n,r)}function Mh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Dh(jc.prototype,{fb:{name:"applyActionCode",j:[Sh("code")]},Pa:{name:"checkActionCode",j:[Sh("code")]},jb:{name:"confirmPasswordReset",j:[Sh("code"),Sh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Sh("email"),Sh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Sh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Sh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Oh(Ch(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Oh(Ch(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Sh("email"),Oh(Ch("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Sh("email"),Ch("actionCodeSettings")]},tb:{name:"setPersistence",j:[Sh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Th()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Th()]},Rc:{name:"signInWithCustomToken",j:[Sh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Sh("email"),Sh("password")]},Tc:{name:"signInWithEmailLink",j:[Sh("email"),Sh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Sh("phoneNumber"),Rh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Oh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ec)}},kh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Sh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Sh("code")]}}),Ph(jc.prototype,{lc:{name:"languageCode",gb:Oh(Sh(),kh(),"languageCode")},ti:{name:"tenantId",gb:Oh(Sh(),kh(),"tenantId")}}),(jc.Persistence=Ul).LOCAL="local",jc.Persistence.SESSION="session",jc.Persistence.NONE="none",Dh(ec.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Th()]},mb:{name:"linkWithCredential",j:[Th()]},Bc:{name:"linkWithPhoneNumber",j:[Sh("phoneNumber"),Rh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Th()]},pb:{name:"reauthenticateWithCredential",j:[Th()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Sh("phoneNumber"),Rh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Oh(Ch("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Sh(null,!0)]},ad:{name:"unlink",j:[Sh("provider")]},xb:{name:"updateEmail",j:[Sh("email")]},yb:{name:"updatePassword",j:[Sh("password")]},cd:{name:"updatePhoneNumber",j:[Th("phone")]},zb:{name:"updateProfile",j:[Ch("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Sh("email"),Oh(Ch("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]}}),Dh(Jc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(Zc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(ge.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ph(Pu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:xh("appVerificationDisabledForTesting")}}),Dh(Lu.prototype,{confirm:{name:"confirm",j:[Sh("verificationCode")]}}),Lh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[lo,Eo,ko,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Oh(Sh(),Ch(),"json")]),Lh(So,"credential",(function(t,e){return new wo(t,e)}),[Sh("email"),Sh("password")]),Dh(wo.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(fo.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},Ia:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(fo,"credential",po,[Oh(Sh(),Ch(),"token")]),Lh(So,"credentialWithLink",xo,[Sh("email"),Sh("emailLink")]),Dh(mo.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},Ia:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(mo,"credential",go,[Oh(Sh(),Ch(),"token")]),Dh(yo.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},Ia:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(yo,"credential",vo,[Oh(Sh(),Oh(Ch(),kh()),"idToken"),Oh(Sh(),kh(),"accessToken",!0)]),Dh(bo.prototype,{Ia:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(bo,"credential",_o,[Oh(Sh(),Ch(),"token"),Sh("secret",!0)]),Dh(ho.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},credential:{name:"credential",j:[Oh(Sh(),Oh(Ch(),kh()),"optionsOrIdToken"),Oh(Sh(),kh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Dh(so.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(ro.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Lh(Ao,"credential",No,[Sh("verificationId"),Sh("verificationCode")]),Dh(Ao.prototype,{cb:{name:"verifyPhoneNumber",j:[Oh(Sh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ah(t.session,Ji)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ah(t.session,to)&&Nh(t.multiFactorHint):t.session&&t.multiFactorUid?Ah(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Rh()]}}),Dh(Io.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(S.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(Vo.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(Uo.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(Bu.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Dh(Uu.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Dh($u.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Sh("displayName",!0)]},$c:{name:"unenroll",j:[Oh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Nh},Sh(),"multiFactorInfoIdentifier")]}}),Dh(_h.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lh(pi,"parseLink",Ei,[Sh("link")]),Lh(oh,"assertion",(function(t){return new Gu(t)}),[Th("phone")]),function(){if(void 0===xA.a||!xA.a.INTERNAL||!xA.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:jc,AuthCredential:eo,Error:S};Lh(t,"EmailAuthProvider",So,[]),Lh(t,"FacebookAuthProvider",fo,[]),Lh(t,"GithubAuthProvider",mo,[]),Lh(t,"GoogleAuthProvider",yo,[]),Lh(t,"TwitterAuthProvider",bo,[]),Lh(t,"OAuthProvider",ho,[Sh("providerId")]),Lh(t,"SAMLAuthProvider",co,[Sh("providerId")]),Lh(t,"PhoneAuthProvider",Ao,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof jc)}}]),Lh(t,"RecaptchaVerifier",_h,[Oh(Sh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ch("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof xA.a.app.App)}}]),Lh(t,"ActionCodeURL",pi,[]),Lh(t,"PhoneMultiFactorGenerator",oh,[]),xA.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new jc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),xA.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xA.a.registerVersion("@firebase/auth","0.14.1"),xA.a.INTERNAL.extendNamespace({User:ec})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let CA=class{};function IA(t){const e=function(t){return new w(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(q(t=>t.bytesTransferred/t.totalBytes*100))}}function kA(t,e,n){return{getDownloadURL:()=>W(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>W(t.getMetadata()).pipe(n),delete:()=>W(t.delete()),child:r=>kA(t.child(r),e,n),updateMetatdata:e=>W(t.updateMetadata(e)),updateMetadata:e=>W(t.updateMetadata(e)),put:(e,n)=>IA(t.put(e,n)),putString:(e,n,r)=>IA(t.putString(e,n,r))}}const TA=new kt("angularfire2.storageBucket");let AA=class{constructor(t,e,n,r,i){this.schedulers=new RS(i),this.keepUnstableUntilFirst=OS(this.schedulers,r),this.storage=i.runOutsideAngular(()=>qS(t,i,e).storage(n||void 0))}ref(t){return kA(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return kA(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}};function NA(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var RA=n("S+S0"),OA="firebasestorage.googleapis.com",DA="storageBucket",PA=12e4,LA=6e5,MA=-9007199254740991,FA=function(){function t(t,e){this.code_=VA(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return VA(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),UA={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function VA(t){return"storage/"+t}function jA(){return new FA(UA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function BA(){return new FA(UA.CANCELED,"User canceled the upload/download.")}function qA(){return new FA(UA.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HA(){return new FA(UA.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zA(t,e,n){return new FA(UA.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function GA(){return new FA(UA.APP_DELETED,"The Firebase app was deleted.")}function WA(t,e){return new FA(UA.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $A(t){throw new FA(UA.INTERNAL_ERROR,"Internal error: "+t)}var KA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function QA(t){switch(t){case KA.RAW:case KA.BASE64:case KA.BASE64URL:case KA.DATA_URL:return;default:throw"Expected one of the event types: ["+KA.RAW+", "+KA.BASE64+", "+KA.BASE64URL+", "+KA.DATA_URL+"]."}}var YA=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function XA(t,e){switch(t){case KA.RAW:return new YA(ZA(e));case KA.BASE64:case KA.BASE64URL:return new YA(JA(t,e));case KA.DATA_URL:return new YA((n=new tN(e)).base64?JA(KA.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw WA(KA.DATA_URL,"Malformed data URL.")}return ZA(e)}(n.rest),new tN(e).contentType)}var n;throw jA()}function ZA(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function JA(t,e){switch(t){case KA.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw WA(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case KA.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw WA(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(u){throw WA(t,"Invalid character found")}for(var a=new Uint8Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);return a}var tN=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw WA(KA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),eN={STATE_CHANGED:"state_changed"},nN={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},rN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iN(t){switch(t){case nN.RUNNING:case nN.PAUSING:case nN.CANCELING:return rN.RUNNING;case nN.PAUSED:return rN.PAUSED;case nN.SUCCESS:return rN.SUCCESS;case nN.CANCELED:return rN.CANCELED;case nN.ERROR:default:return rN.ERROR}}function oN(t){return null!=t}function sN(t){return void 0!==t}function aN(t){return"function"==typeof t}function lN(t){return"object"==typeof t}function uN(t){return lN(t)&&null!==t}function cN(t){return"string"==typeof t||t instanceof String}function hN(t){return dN(t)&&Number.isInteger(t)}function dN(t){return"number"==typeof t||t instanceof Number}function fN(t){return pN()&&t instanceof Blob}function pN(){return"undefined"!=typeof Blob}var mN=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),gN=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=mN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=mN.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=mN.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw $A("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),oN(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return oN(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw $A("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw $A("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw $A("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){oN(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){oN(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),yN=function(){function t(){}return t.prototype.createXhrIo=function(){return new gN},t}();function vN(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function bN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=vN();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(pN())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var _N=function(){function t(t,e){var n=0,r="";fN(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(fN(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(pN()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(bN.apply(null,r))}var i=e.map((function(t){return cN(t)?XA(KA.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),wN=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new FA(UA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=OA.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],s=0;s<o.length;s++){var a=o[s],l=a.regex.exec(e);if(l){var u=l[a.indices.path];u||(u=""),n=new t(l[a.indices.bucket],u),a.postModify(n);break}}if(null==n)throw function(t){return new FA(UA.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function EN(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return lN(n=e)&&!Array.isArray(n)?e:null}function SN(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function xN(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function CN(t){return"https://"+OA+"/v0"+t}function IN(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function kN(t,e){return e}var TN=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||kN}}(),AN=null;function NN(t,e,n){var r=EN(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new wN(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function RN(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ON(t){if(!lN(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!lN(n))throw"Expected object for 'customMetadata' mapping."}else if(uN(n))throw"Mapping for '"+e+"' cannot be an object."}}var DN="maxResults",PN=1e3,LN="pageToken",MN="prefixes",FN="items";function UN(t){if(!lN(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===DN){if(!hN(t[DN])||t[DN]<=0)throw"Expected maxResults to be a positive number.";if(t[DN]>1e3)throw"Expected maxResults to be less than or equal to "+PN+"."}else{if(e!==LN)throw"Unknown option: "+e;if(t[LN]&&!cN(t[LN]))throw"Expected pageToken to be string."}}var VN=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function jN(t){if(!t)throw jA()}function BN(t,e){return function(n,r){var i=NN(t,r,e);return jN(null!==i),i}}function qN(t){return function(e,n){var r;return(r=401===e.getStatus()?new FA(UA.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new FA(UA.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new FA(UA.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function HN(t){var e=qN(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new FA(UA.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function zN(t,e,n){var r=CN(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new VN(r,"GET",BN(t,n),i);return o.errorHandler=HN(e),o}function GN(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=CN(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),l=new VN(s,"GET",function(t){return function(e,n){var r=function(t,e){var n=EN(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new FA(UA.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DA+"' property when initializing the app?");if(e[MN])for(var i=0,o=e[MN];i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new wN(r,s));n.prefixes.push(a)}if(e[FN])for(var l=0,u=e[FN];l<u.length;l++)a=t.makeStorageReference(new wN(r,u[l].name)),n.items.push(a);return n}(t,n)}(t,n);return jN(null!==r),r}}(t),a);return l.urlParams=o,l.errorHandler=qN(e),l}function WN(t,e,n){var r=CN(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new VN(r,"GET",function(t,e){return function(n,r){var i=NN(t,r,e);return jN(null!==i),function(t,e){var n=EN(e);if(null===n)return null;if(!cN(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return CN("/b/"+i(t.bucket)+"/o/"+i(n))+IN({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=HN(e),o}function $N(t,e,n,r){var i=CN(e.fullServerUrl()),o=RN(n,r),s=t.maxOperationRetryTime(),a=new VN(i,"PATCH",BN(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=HN(e),a}function KN(t,e){var n=CN(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new VN(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=HN(e),i}function QN(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var YN=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function XN(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){jN(!1)}return jN(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ZN=function(){return function(t,e,n){if(aN(t)||oN(e)||oN(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),JN=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function tR(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(l=s,u=1===s?"argument":"arguments"):(l="between "+s+" and "+a,u="arguments"),new FA(UA.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+l+" "+u+", received "+n.length+".");var s,a,l,u;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?zA(o,t,c.message):zA(o,t,c)}}var eR=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!sN(e)||t(e)},this.optional=!!e}}();function nR(t,e){function n(t){if(!cN(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new eR(r,e)}function rR(){return new eR((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||pN()&&t instanceof Blob))throw"Expected Blob or File."}))}function iR(t){return new eR(ON,t)}function oR(t){return new eR(UN,t)}function sR(){return new eR((function(t){if(!(dN(t)&&t>=0))throw"Expected a number 0 or greater."}))}function aR(t,e){return new eR((function(e){if(!(null===e||oN(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function lR(t){return new eR((function(t){if(null!==t&&!aN(t))throw"Expected a Function."}),t)}function uR(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var cR=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=nN.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(UA.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(nN.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(UA.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(nN.ERROR))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===nN.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case nN.RUNNING:t(n);break;case nN.CANCELING:e.transition_(nN.CANCELED);break;case nN.PAUSING:e.transition_(nN.PAUSED)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=QN(e,r,i),a={name:s.fullPath},l=CN(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=RN(s,n),h=t.maxUploadRetryTime(),d=new VN(l,"POST",(function(t){var e;XN(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){jN(!1)}return jN(cN(e)),e}),h);return d.urlParams=a,d.headers=u,d.body=c,d.errorHandler=qN(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new VN(n,"POST",(function(t){var e=XN(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){jN(!1)}n||jN(!1);var i=Number(n);return jN(!isNaN(i)),new YN(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=qN(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new YN(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var l=new YN(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new FA(UA.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var h=l.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},f=r.slice(h,h+c);if(null===f)throw qA();var p=e.maxUploadRetryTime(),m=new VN(n,"POST",(function(t,n){var i,s=XN(t,["active","final"]),a=l.current+c,u=r.size();return i="final"===s?BN(e,o)(t,n):null,new YN(a,u,"final"===s,i)}),p);return m.headers=d,m.body=f.uploadData(),m.progressCallback=a||null,m.errorHandler=qN(t),m}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(nN.ERROR)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(nN.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=zN(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(nN.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var l=QN(e,r,i),u=RN(l,n),c=_N.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw qA();var h={name:l.fullPath},d=CN(o),f=t.maxUploadRetryTime(),p=new VN(d,"POST",BN(t,n),f);return p.urlParams=h,p.headers=s,p.body=c.uploadData(),p.errorHandler=qN(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(nN.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case nN.CANCELING:case nN.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case nN.RUNNING:var e=this.state_===nN.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case nN.PAUSED:this.state_=t,this.notifyObservers_();break;case nN.CANCELED:this.error_=BA(),this.state_=t,this.notifyObservers_();break;case nN.ERROR:case nN.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case nN.PAUSING:this.transition_(nN.PAUSED);break;case nN.CANCELING:this.transition_(nN.CANCELED);break;case nN.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=iN(this.state_);return new JN(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==eN.STATE_CHANGED)throw"Expected one of the event types: ["+eN.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=lR(!0).validator,a=aR(null,!0).validator;function l(t){try{return void s(t)}catch(e){}try{if(a(t),!(sN(t.next)||sN(t.error)||sN(t.complete)))throw"";return}catch(e){throw o}}var u=[nR(i),aR(l,!0),lR(!0),lR(!0)];tR("on",u,arguments);var c=this;function h(t){return function(e,n,i){null!==t&&tR("on",t,arguments);var o=new ZN(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(t){if(null===t)throw o;l(t)}var f=[aR(d),lR(!0),lR(!0)],p=!(sN(e)||sN(n)||sN(r));return p?h(f):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(iN(this.state_)){case rN.SUCCESS:uR(this.resolve_.bind(null,this.snapshot))();break;case rN.CANCELED:case rN.ERROR:uR(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(iN(this.state_)){case rN.RUNNING:case rN.PAUSED:t.next&&uR(t.next.bind(t,this.snapshot))();break;case rN.SUCCESS:t.complete&&uR(t.complete.bind(t))();break;case rN.CANCELED:case rN.ERROR:t.error&&uR(t.error.bind(t,this.error_))();break;default:t.error&&uR(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){tR("resume",[],arguments);var t=this.state_===nN.PAUSED||this.state_===nN.PAUSING;return t&&this.transition_(nN.RUNNING),t},t.prototype.pause=function(){tR("pause",[],arguments);var t=this.state_===nN.RUNNING;return t&&this.transition_(nN.PAUSING),t},t.prototype.cancel=function(){tR("cancel",[],arguments);var t=this.state_===nN.RUNNING||this.state_===nN.PAUSING;return t&&this.transition_(nN.CANCELING),t},t}(),hR=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof wN?e:wN.makeFromUrl(e)}return t.prototype.toString=function(){return tR("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(AN)return AN;var t=[];t.push(new TN("bucket")),t.push(new TN("generation")),t.push(new TN("metageneration")),t.push(new TN("name","fullPath",!0));var e=new TN("name");e.xform=function(t,e){return function(t){return!cN(t)||t.length<2?t:xN(t)}(e)},t.push(e);var n=new TN("size");return n.xform=function(t,e){return oN(e)?Number(e):e},t.push(n),t.push(new TN("timeCreated")),t.push(new TN("updated")),t.push(new TN("md5Hash",null,!0)),t.push(new TN("cacheControl",null,!0)),t.push(new TN("contentDisposition",null,!0)),t.push(new TN("contentEncoding",null,!0)),t.push(new TN("contentLanguage",null,!0)),t.push(new TN("contentType",null,!0)),t.push(new TN("metadata","customMetadata",!0)),AN=t}()},t.prototype.child=function(t){tR("child",[nR()],arguments);var e=SN(this.location.path,t),n=new wN(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new wN(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new wN(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return xN(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),tR("put",[rR(),iR(!0)],arguments),this.throwIfRoot_("put"),new cR(this,this.authWrapper,this.location,this.mappings(),new _N(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=KA.RAW),tR("putString",[nR(),nR(QA,!0),iR(!0)],arguments),this.throwIfRoot_("putString");var r=XA(e,t),i=Object.assign({},n);return!oN(i.contentType)&&oN(r.contentType)&&(i.contentType=r.contentType),new cR(this,this.authWrapper,this.location,this.mappings(),new _N(r.data,!0),i)},t.prototype.delete=function(){var t=this;return tR("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=KN(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){tR("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return n=this,void 0,i=function(){var n,r,i;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{a(i.next(t))}catch(n){e(n)}}function s(t){try{a(i.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,s)}a((i=i.apply(n,[])).next())}));var n,r,i},t.prototype.list=function(t){tR("list",[oR(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=GN(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return tR("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=zN(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return tR("updateMetadata",[iR()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=$N(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return tR("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=WN(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw HA();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new FA(UA.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),dR=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),fR=function(){function t(){this.map=new Map,this.id=MA}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),pR=function(){function t(e,n,r,i,o,s){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var l=this.app_.options;oN(l)&&(this.bucket_=t.extractBucket_(l),this.appId_=null!==(a=l.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=PA,this.maxUploadRetryTime_=LA,this.requestMap_=new fR}return t.extractBucket_=function(t){var e=t[DA]||null;return null==e?null:wN.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw GA();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new dR(GA());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),mR=function(){function t(t,e,n,r,i,o,s,a,l,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());sN(a)?i(a):i()}catch(l){o(l)}else null!==s?((r=jA()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?GA():BA():new FA(UA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new gR(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var l=!1;function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];l||(l=!0,e.apply(null,t))}function c(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];l||(t?u.call.apply(u,NA([null,t],n)):a()||o?u.call.apply(u,NA([null,t],n)):(r<64&&(r*=2),1===s?(s=2,e=0):e=1e3*(r+Math.random()),c(e)))}var d=!1;function f(t){d||(d=!0,l||(null!==i?(t||(s=2),clearTimeout(i),c(0)):t||(s=1)))}return c(0),setTimeout((function(){o=!0,f(!0)}),n),f}((function(e,n){if(n)e(!1,new gR(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===mN.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new gR(s,n))}else{var a=n.getErrorCode()===mN.ABORT;e(!1,new gR(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),gR=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function yR(t,e,n,r){var i=IN(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==xA.a?xA.a.SDK_VERSION:"AppManager")}(s),new mR(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var vR,bR,_R=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new pR(t,e,(function(t,e){return new hR(t,e)}),yR,this,n),this.app_=t,null!=r)this.bucket_=wN.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new wN(i,""))}this.internals_=new wR(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(tR("ref",[nR(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new hR(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{wN.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return tR("refFromURL",[nR(e,!1)],arguments),new hR(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){tR("setMaxUploadRetryTime",[sR()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){tR("setMaxOperationRetryTime",[sR()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),wR=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();bR={TaskState:rN,TaskEvent:eN,StringFormat:KA,Storage:_R,Reference:hR},(vR=xA.a).INTERNAL.registerComponent(new RA.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new _R(n,r,new yN,e)}),"PUBLIC").setServiceProps(bR).setMultipleInstances(!0)),vR.registerVersion("@firebase/storage","0.3.30");let ER=class{};class SR{}class xR{}let CR=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return t.ngInjectableDef=mt({factory:function(){return new t(jt(XC),jt(Nb))},token:t,providedIn:"root"}),t})();class IR{}class kR{}class TR{constructor(t,e){oc(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,e=[]){return{ngModule:TR,providers:t.serverLoaded?[{provide:d_,useValue:Object.assign({},h_,t)},{provide:p_,useValue:e,multi:!0},{provide:f_,useValue:!0}]:[{provide:d_,useValue:Object.assign({},h_,t)},{provide:p_,useValue:e,multi:!0}]}}}var AR=Aa(Ra,[Oa],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Me&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[er(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Vr(512,cn,hn,[[8,[Dg,Ug,a_,sx,eI,sI,hI,gI,SI,ZI,cT,vT,ST,wA]],[3,cn],zt]),Vr(5120,Ji,ns,[[3,Ji]]),Vr(4608,Fu,Uu,[Ji,[2,Mu]]),Vr(5120,Di,rs,[vo]),Vr(5120,Wi,$i,[]),Vr(5120,Dn,ts,[]),Vr(5120,Pn,es,[]),Vr(4608,$d,Kd,[ec]),Vr(6144,Te,null,[$d]),Vr(4608,jd,qd,[]),Vr(5120,ld,(function(t,e,n,r,i,o,s,a){return[new Ud(t,e,n),new Wd(r),new Hd(i,o,s,a)]}),[ec,vo,Yi,ec,ec,jd,Zi,[2,Bd]]),Vr(4608,ud,ud,[ld,vo]),Vr(135680,dd,dd,[ec]),Vr(4608,bd,bd,[ud,dd,Wi]),Vr(5120,ep,_g,[]),Vr(5120,nm,wg,[]),Vr(4608,Um,bg,[ec,ep,nm]),Vr(5120,yn,Eg,[bd,Um,vo]),Vr(6144,hd,null,[dd]),Vr(4608,Co,Co,[vo]),Vr(4608,Da,cg,[yn,ec]),Vr(4608,SC,SC,[]),Vr(4608,pf,pf,[]),Vr(4608,Xc,Xc,[Pc,Bc,cn,Qc,jc,Ue,vo,ec,Bh,[2,nu]]),Vr(5120,Zc,Jc,[Xc]),Vr(5120,bv,Jb,[Nb]),Vr(4608,jb,jb,[]),Vr(6144,Ub,null,[jb]),Vr(135680,Bb,Bb,[Nb,jo,so,Ue,Ub]),Vr(4608,Vb,Vb,[]),Vr(5120,qb,Kb,[Nb,ac,Hb]),Vr(5120,r_,n_,[t_]),Vr(5120,Xi,(function(t,e,n){return[t,(r=e,i=n,()=>{if(ic(i)){const t=Array.from(r.querySelectorAll("[class*=flex-layout-]")),e=/\bflex-layout-.+?\b/g;t.forEach(t=>{t.classList.contains("flex-layout-ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}})];var r,i}),[r_,ec,Yi]),Vr(4608,GE,WE,[ec,Yi,HE]),Vr(4608,$E,$E,[GE,zE]),Vr(5120,FE,(function(t){return[t]}),[$E]),Vr(4608,BE,BE,[]),Vr(6144,jE,null,[BE]),Vr(4608,qE,qE,[jE]),Vr(6144,_E,null,[qE]),Vr(4608,bE,KE,[_E,Ue]),Vr(4608,LE,LE,[bE]),Vr(4608,kx,kx,[]),Vr(5120,jS,qS,[MS,vo,[2,FS]]),Vr(4608,YS,YS,[MS,[2,FS],[2,zS],[2,WS],Yi,vo,[2,GS]]),Vr(4608,YC,YC,[MS,[2,FS],Yi,vo]),Vr(4608,AA,AA,[MS,[2,FS],[2,TA],Yi,vo]),Vr(1073742336,tc,tc,[]),Vr(1024,ne,nf,[]),Vr(1024,Do,(function(){return[Wb()]}),[]),Vr(512,t_,t_,[Ue]),Vr(1024,zi,(function(t,e){return[(n=t,od("probe",ad),od("coreTokens",Object.assign({},sd,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>ad),e_(e)];var n}),[[2,Do],t_]),Vr(512,Gi,Gi,[[2,zi]]),Vr(131584,Uo,Uo,[vo,Zi,Ue,ne,cn,Gi]),Vr(1073742336,is,is,[Uo]),Vr(1073742336,rf,rf,[[3,rf]]),Vr(1073742336,xg,xg,[]),Vr(1073742336,qh,qh,[]),Vr(1073742336,lf,lf,[[2,af],[2,Bd]]),Vr(1073742336,hc,hc,[]),Vr(1073742336,Sc,Sc,[]),Vr(1073742336,GT,GT,[]),Vr(1073742336,iA,iA,[]),Vr(1073742336,fS,fS,[]),Vr(1073742336,gf,gf,[]),Vr(1073742336,Cf,Cf,[]),Vr(1073742336,If,If,[]),Vr(1073742336,OT,OT,[]),Vr(1073742336,RT,RT,[]),Vr(1073742336,Pf,Pf,[]),Vr(1073742336,gE,gE,[]),Vr(1073742336,IC,IC,[]),Vr(1073742336,EC,EC,[]),Vr(1073742336,qC,qC,[]),Vr(1073742336,KC,KC,[]),Vr(1073742336,Qa,Qa,[]),Vr(1073742336,th,th,[]),Vr(1073742336,Fh,Fh,[]),Vr(1073742336,Jw,Jw,[]),Vr(1073742336,SR,SR,[]),Vr(1073742336,MI,MI,[]),Vr(1073742336,kk,kk,[]),Vr(1073742336,Uk,Uk,[]),Vr(1073742336,xR,xR,[]),Vr(1024,zb,Yb,[[3,Nb]]),Vr(512,Xy,Zy,[]),Vr(512,Lb,Lb,[]),Vr(256,Hb,{},[]),Vr(1024,tu,Qb,[Zl,[2,eu],Hb]),Vr(512,nu,nu,[tu,Zl]),Vr(512,so,so,[]),Vr(512,jo,Go,[so,[2,Ho]]),Vr(1024,Sb,(function(){return[[{path:"home",component:gS},{path:"login",component:QC},{path:"register",component:nI},{path:"verify-email",component:aI},{path:"reset-psw",component:dI},{path:"account",component:yI,canActivate:[CR]},{path:"play",component:HI,canActivate:[CR]},{path:"scoreboard",component:sT,canActivate:[CR]},{path:"game-over",component:hT,canActivate:[CR]},{path:"contact",component:bT},{path:"",redirectTo:"/home",pathMatch:"full"}]]}),[]),Vr(1024,Nb,Zb,[Uo,Xy,Lb,nu,Ue,jo,so,Sb,Hb,[2,Cb],[2,wb]]),Vr(1073742336,$b,$b,[[2,zb],[2,Nb]]),Vr(1073742336,IR,IR,[]),Vr(1073742336,l_,l_,[]),Vr(1073742336,Vw,Vw,[]),Vr(1073742336,dE,dE,[]),Vr(1073742336,kR,kR,[]),Vr(1073742336,TR,TR,[[2,f_],Yi]),Vr(1073742336,QE,QE,[]),Vr(1073742336,YE,YE,[]),Vr(1073742336,hC,hC,[]),Vr(1073742336,dC,dC,[]),Vr(1073742336,HS,HS,[Yi]),Vr(1073742336,EA,EA,[]),Vr(1073742336,CA,CA,[]),Vr(1073742336,ER,ER,[]),Vr(1073742336,Ra,Ra,[]),Vr(256,Me,!0,[]),Vr(256,Sg,"BrowserAnimations",[]),Vr(256,HE,"XSRF-TOKEN",[]),Vr(256,zE,"X-XSRF-TOKEN",[]),Vr(256,MS,{apiKey:"AIzaSyA4AGlXbkDg9KUwTDAX7IpLHMVjiLzViqE",authDomain:"kanjirumble-9d2fa.firebaseapp.com",databaseURL:"https://kanjirumble-9d2fa.firebaseio.com",projectId:"kanjirumble-9d2fa",storageBucket:"kanjirumble-9d2fa.appspot.com",messagingSenderId:"990671350353",appId:"1:990671350353:web:2a4e5ad8aa872cbc6da670",measurementId:"G-H7VTVBCB7C"},[]),Vr(256,FS,void 0,[])])}));(function(){if(ie)throw new Error("Cannot enable prod mode after platform setup.");re=!1})(),ef().bootstrapModuleFactory(AR).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=f,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new p(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),o=1518500249):(i=a^l^u,o=1859775393):r<60?(i=a&l|u&(a|l),o=2400959708):(i=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);